import{A as l,r as i}from"./index-3ccddef1.js";const a=l("AlertStore",{state:()=>({currentAlert:null,active:!1})}),r=a(),n=l("MuBooksStore",{state:()=>({bookList:i(JSON.parse(localStorage.getItem("MyBooks"))),loading:!1}),getters:{getBookList(){return this.bookList},getSmallBooks(){return this.bookList.filter(e=>e.pages<150)},getSavedBooks(){return this.bookList}},actions:{saveBookToggle(e,t){console.log("toggle saved"),this.booklist[e].saved=!this.booklist[e].saved,this.booklist[e].saved===!0&&this.addMyBook(t)},addMyBook(e){console.log("add book:",e);let t=JSON.parse(localStorage.getItem("MyBooks"));return t||(t=[]),t.push({title:e.title,date_published:e.date_published}),localStorage.setItem("MyBooks",JSON.stringify(t)),this.bookList=t,r.currentAlert=" Added book",setTimeout(()=>{r.currentAlert=null},3e3),this.bookList},isSaved(e){const t=this.bookList;if(t){for(let o=0;o<t.length;o++)if(t[o].title===e.title)return!0}return!1},removeMyBook(e){let t=JSON.parse(localStorage.getItem("MyBooks"));if(!t)console.log("there is nothing to remove");else{let o=[];for(let s=0;s<t.length;s++)t[s].title!==e.title&&o.push({title:t[s].title,date_published:t[s].date_published});localStorage.setItem("MyBooks",JSON.stringify(o)),this.bookList=o,console.log("removed book",this.bookList),r.currentAlert=" Removed book",setTimeout(()=>{r.currentAlert=null},3e3)}}}});export{a,n as u};
