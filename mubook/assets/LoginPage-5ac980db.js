import{r as _,u as C,A as U,C as L,o as w,c as b,a as e,h as d,v as c,f as p,D as h,n as $,B as y,g as k,_ as A,e as v,d as S,F as V,p as P,l as E}from"./index-212fe9cb.js";const B="/assets/mubook-logo-large-4870a569.png";let g=_(!1);function f(){g.value=!g.value;const l=document.getElementsByClassName("cards-draaideur")[0];g.value===!0?l.classList.add("rotate"):l.classList.remove("rotate")}const I={class:"card"},N=e("header",null,"Log in",-1),x=e("label",{for:"email"},"Email",-1),q=e("label",{for:"password"},"Password",-1),F=e("button",null,"Log in",-1),R=e("a",{href:"#"},"Forgot password",-1),T={__name:"LoginCard",setup(l){const o=C(),a=U();let s=_(""),r=_("");async function i(){console.log("login account");const{data:t,error:n}=await y.auth.signInWithPassword({email:s.value,password:r.value});n?console.log(n):(o.setLoginStatus(!0),o.setEmail(t.session.user.email),o.setUsername(t.session.user.email),o.setUid(t.session.user.id),o.setScreenname(t.session.user.user_metadata.screenname),a.push("welcome"))}return L(()=>{console.log("loginstatus in loginpage.vue:",o.status)}),(t,n)=>(w(),b("article",I,[N,e("form",{onSubmit:$(i,["prevent"])},[x,d(e("input",{type:"email",id:"login-email","onUpdate:modelValue":n[0]||(n[0]=u=>h(s)?s.value=u:s=u),required:""},null,512),[[c,p(s)]]),q,d(e("input",{type:"password",id:"login-password","onUpdate:modelValue":n[1]||(n[1]=u=>h(r)?r.value=u:r=u)},null,512),[[c,p(r)]]),F],32),e("footer",null,[R,e("button",{class:"btn-text",onClick:n[2]||(n[2]=u=>p(f)())},"New here? Join now.")])]))}},D={class:"card"},M=e("header",null,"Let me join",-1),j=e("label",{for:"screenname"},"Screen name",-1),J=e("label",{for:"email"},"Email address: *",-1),O=e("label",{for:"password"},"Password: *",-1),W=e("button",null,"Vamos",-1),z={__name:"SignupCard",setup(l){const o=C(),a=U(),s=k({screenname:"",email:"",password:""});async function r(){console.log("create account"),console.log("email,password:",s.email,s.password);const{data:i,error:t}=await y.auth.signUp({email:s.email,password:s.password,options:{data:{screenname:s.screenname}}});t?console.log(t):(console.log("adding user:",i),console.log(" user:",i.user.id),o.setEmail(s.email),o.setScreenname(s.screenname),o.setUid(i.user.id),console.log("Account created, referring..."),a.push({name:"checkmail"}))}return(i,t)=>(w(),b("article",D,[M,e("form",{onSubmit:$(r,["prevent"])},[j,d(e("input",{type:"text",id:"signup-screenname","onUpdate:modelValue":t[0]||(t[0]=n=>s.screenname=n)},null,512),[[c,s.screenname]]),J,d(e("input",{type:"email",id:"signup-email","onUpdate:modelValue":t[1]||(t[1]=n=>s.email=n),required:""},null,512),[[c,s.email]]),O,d(e("input",{type:"password",id:"signup-password","onUpdate:modelValue":t[2]||(t[2]=n=>s.password=n),required:""},null,512),[[c,s.password]]),W],32),e("footer",null,[e("button",{class:"btn-text",onClick:t[3]||(t[3]=(...n)=>p(f)&&p(f)(...n))},"login")])]))}};const m=l=>(P("data-v-117e946f"),l=l(),E(),l),G=m(()=>e("div",{id:"welcome-logo"},[e("img",{id:"welcome-logo-img",src:B})],-1)),H={class:"cards-draaideur"},K={class:"axis"},Q=m(()=>e("br",{style:{clear:"both"}},null,-1)),X={class:"hidden"},Y=m(()=>e("br",null,null,-1)),Z=m(()=>e("br",{style:{clear:"both"}},null,-1)),ee=m(()=>e("br",null,null,-1)),se={__name:"LoginPage",setup(l){return(o,a)=>(w(),b(V,null,[G,e("div",H,[e("div",K,[v(T),v(z)])]),Q,e("div",X,[Y,e("button",{onClick:a[0]||(a[0]=(...s)=>o.toPrefs&&o.toPrefs(...s))},"To preferences"),e("button",{onClick:a[1]||(a[1]=(...s)=>o.loginAccount&&o.loginAccount(...s))},"Login"),e("button",{onClick:a[2]||(a[2]=(...s)=>o.seeCurrentUser&&o.seeCurrentUser(...s))},"See user"),e("button",{onClick:a[3]||(a[3]=(...s)=>o.logoutAccount&&o.logoutAccount(...s))},"Log out"),Z,S(" Or..."),ee,S(" Use google auth, apple id, etc ")])],64))}},te=A(se,[["__scopeId","data-v-117e946f"]]);export{te as default};
