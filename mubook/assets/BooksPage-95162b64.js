import{f as y,g as h,n as v,o as r,c as a,a as i,t as s,h as c,v as d,d as u,i as q,F as p,k as _,j as B,r as g,b as x,w as b,S as j,e as w}from"./index-845f346b.js";const V={async setup(){const n=h({intitle:"",inauthor:"",inpublisher:"",subject:"",isbn:""}),e=h({booklist:[],favoriteGenre:"Drama"}),f=v(()=>e.favoriteGenre.toUpperCase()),t=()=>{let l="";return n.intitle!==""&&(l+="intitle:"+n.intitle+"+"),n.inauthor!==""&&(l+="inauthor:"+n.inauthor+"+"),n.inpublisher!==""&&(l+="inpublisher:"+n.inpublisher+"+"),n.subject!==""&&(l+="subject:"+n.subject+"+"),l},m=e.booklist.items;return{state:e,q:n,computedBooks:m,favGenreCaps:f,constructQuery:t}},methods:{async fetchBooks2(){const n=this.constructQuery();n!==""&&(this.state.booklist=await fetch("https://www.googleapis.com/books/v1/volumes?q="+n).then(e=>e.json()))}},created(){this.fetchBooks2()}},C=i("input",{type:"submit"},null,-1),I={key:0},L=["href"],N={key:1};function G(n,e,f,t,m,l){return r(),a(p,null,[i("div",null,"Favorite genre: "+s(t.state.favoriteGenre)+" - "+s(t.favGenreCaps),1),i("form",{onSubmit:e[4]||(e[4]=q((...o)=>l.fetchBooks2&&l.fetchBooks2(...o),["prevent"]))},[i("div",null,[c(i("input",{placeholder:"author...",type:"text","onUpdate:modelValue":e[0]||(e[0]=o=>t.q.inauthor=o)},null,512),[[d,t.q.inauthor]]),u(" "+s(t.q.inauthor),1)]),i("div",null,[c(i("input",{placeholder:"title...",type:"text","onUpdate:modelValue":e[1]||(e[1]=o=>t.q.intitle=o)},null,512),[[d,t.q.intitle]]),u(" "+s(t.q.intitle),1)]),i("div",null,[c(i("input",{placeholder:"publisher...",type:"text","onUpdate:modelValue":e[2]||(e[2]=o=>t.q.inpublisher=o)},null,512),[[d,t.q.inpublisher]]),u(" "+s(t.q.inpublisher),1)]),i("div",null,[c(i("input",{placeholder:"subject...",type:"text","onUpdate:modelValue":e[3]||(e[3]=o=>t.q.subject=o)},null,512),[[d,t.q.subject]]),u(" "+s(t.q.subject),1)]),C,u(" query: "+s(t.constructQuery()),1)],32),i("div",null,[t.state.booklist.length>0||t.state.booklist.totalItems>0?(r(),a("ul",I,[(r(!0),a(p,null,_(t.state.booklist.items,(o,k)=>(r(),a("li",{key:k},[i("div",null,[u(s(o.volumeInfo.title)+", by "+s(o.volumeInfo.authors[0])+"Â ("+s(o.volumeInfo.publishedDate)+") ",1),o.volumeInfo.infoLink?(r(),a("a",{key:0,href:o.volumeInfo.infoLink,target:"_blank"},">",8,L)):B("",!0)])]))),128))])):(r(),a("div",N,"No books found"))])],64)}const S=y(V,[["render",G]]),D={__name:"BooksPage",props:{title:{required:!0,type:String}},setup(n){const e=g("Brasil");return v(()=>e.value.toLowerCase()),h({continent:"Europe"}),(f,t)=>(r(),a(p,null,[i("h1",null,"Books ("+s(this.$route.name)+")",1),(r(),x(j,null,{fallback:b(()=>[u("Loading...")]),default:b(()=>[w(S)]),_:1}))],64))}};export{D as default};
