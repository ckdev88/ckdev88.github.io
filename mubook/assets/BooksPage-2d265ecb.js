import{h as y,i as f,x as v,o as r,c as a,a as i,t as l,j as c,v as d,d as u,k as q,F as p,l as _,m as B,r as x,b as g,w as b,S as j,e as w}from"./index-d42d1c64.js";const V={async setup(){const n=f({intitle:"",inauthor:"",inpublisher:"",subject:"",isbn:""}),e=f({booklist:[],favoriteGenre:"Drama"}),h=v(()=>e.favoriteGenre.toUpperCase()),t=()=>{let s="";return n.intitle!==""&&(s+="intitle:"+n.intitle+"+"),n.inauthor!==""&&(s+="inauthor:"+n.inauthor+"+"),n.inpublisher!==""&&(s+="inpublisher:"+n.inpublisher+"+"),n.subject!==""&&(s+="subject:"+n.subject+"+"),s},m=e.booklist.items;return{state:e,q:n,computedBooks:m,favGenreCaps:h,constructQuery:t}},methods:{async fetchBooks2(){const n=this.constructQuery();n!==""&&(this.state.booklist=await fetch("https://www.googleapis.com/books/v1/volumes?q="+n).then(e=>e.json()))}},created(){this.fetchBooks2()}},C=i("input",{type:"submit"},null,-1),I={key:0},L=["href"],N={key:1};function G(n,e,h,t,m,s){return r(),a(p,null,[i("div",null,"Favorite genre: "+l(t.state.favoriteGenre)+" - "+l(t.favGenreCaps),1),i("form",{onSubmit:e[4]||(e[4]=q((...o)=>s.fetchBooks2&&s.fetchBooks2(...o),["prevent"]))},[i("div",null,[c(i("input",{placeholder:"author...",type:"text","onUpdate:modelValue":e[0]||(e[0]=o=>t.q.inauthor=o)},null,512),[[d,t.q.inauthor]]),u(" "+l(t.q.inauthor),1)]),i("div",null,[c(i("input",{placeholder:"title...",type:"text","onUpdate:modelValue":e[1]||(e[1]=o=>t.q.intitle=o)},null,512),[[d,t.q.intitle]]),u(" "+l(t.q.intitle),1)]),i("div",null,[c(i("input",{placeholder:"publisher...",type:"text","onUpdate:modelValue":e[2]||(e[2]=o=>t.q.inpublisher=o)},null,512),[[d,t.q.inpublisher]]),u(" "+l(t.q.inpublisher),1)]),i("div",null,[c(i("input",{placeholder:"subject...",type:"text","onUpdate:modelValue":e[3]||(e[3]=o=>t.q.subject=o)},null,512),[[d,t.q.subject]]),u(" "+l(t.q.subject),1)]),C,u(" query: "+l(t.constructQuery()),1)],32),i("div",null,[t.state.booklist.length>0||t.state.booklist.totalItems>0?(r(),a("ul",I,[(r(!0),a(p,null,_(t.state.booklist.items,(o,k)=>(r(),a("li",{key:k},[i("div",null,[u(l(o.volumeInfo.title)+", by "+l(o.volumeInfo.authors[0])+"Â ("+l(o.volumeInfo.publishedDate)+") ",1),o.volumeInfo.infoLink?(r(),a("a",{key:0,href:o.volumeInfo.infoLink,target:"_blank"},">",8,L)):B("",!0)])]))),128))])):(r(),a("div",N,"No books found"))])],64)}const S=y(V,[["render",G]]),D={__name:"BooksPage",props:{title:{required:!0,type:String}},setup(n){const e=x("Brasil");return v(()=>e.value.toLowerCase()),f({continent:"Europe"}),(h,t)=>(r(),a(p,null,[i("h1",null,"Books ("+l(this.$route.name)+")",1),(r(),g(j,null,{fallback:b(()=>[u("Loading...")]),default:b(()=>[w(S)]),_:1}))],64))}};export{D as default};
