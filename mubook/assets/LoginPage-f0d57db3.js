import{r as g,u as C,A as k,C as B,o as f,c as h,a as e,h as c,v as p,f as u,D as $,n as S,B as U,g as E,_ as L,p as A,l as V,e as w,d as y,F as P}from"./index-fd4401b7.js";const I="/mubook/assets/logo-37cc95a1.svg";let b=g(!1);function v(r="",s=""){b.value=!b.value;const a=document.getElementsByClassName("cards-draaideur")[0];if(s!==""){const o=a.getElementsByClassName("card");console.log(o);for(let t=0;t<o.length;t++)console.log(o[t].id),o[t].id==="card-"+r||o[t].id==="card-"+s?o[t].style.display="block":o[t].style.display="none"}b.value===!0?a.classList.add("rotate"):a.classList.remove("rotate")}const N={class:"card",id:"card-login"},x=e("header",null,"Log in",-1),R=e("label",{for:"email"},"Email",-1),q=e("label",{for:"password"},"Password",-1),F=e("button",null,"Log in",-1),M={__name:"LoginCard",setup(r){const s=C(),a=k();let o=g(""),t=g("");async function d(){console.log("login account");const{data:l,error:n}=await U.auth.signInWithPassword({email:o.value,password:t.value});n?console.log(n):(s.setLoginStatus(!0),s.setEmail(l.session.user.email),s.setUsername(l.session.user.email),s.setUid(l.session.user.id),s.setScreenname(l.session.user.user_metadata.screenname),a.push("welcome"))}return B(()=>{console.log("loginstatus in loginpage.vue:",s.status)}),(l,n)=>(f(),h("article",N,[x,e("form",{onSubmit:S(d,["prevent"])},[R,c(e("input",{type:"email",id:"login-email","onUpdate:modelValue":n[0]||(n[0]=i=>$(o)?o.value=i:o=i),required:""},null,512),[[p,u(o)]]),q,c(e("input",{type:"password",id:"login-password","onUpdate:modelValue":n[1]||(n[1]=i=>$(t)?t.value=i:t=i)},null,512),[[p,u(t)]]),F],32),e("footer",null,[e("a",{onClick:n[2]||(n[2]=i=>u(v)("login","recover"))},"Forgot password"),e("a",{onClick:n[3]||(n[3]=i=>u(v)("login","signup"))},"New here? Join now.")])]))}},D={class:"card",id:"card-signup"},O=e("header",null,"Create an account",-1),T=e("label",{for:"screenname"},"Screen name",-1),W=e("label",{for:"email"},"Email address: *",-1),J=e("label",{for:"password"},"Password: *",-1),K=e("button",null,"Vamos",-1),j={class:"content-right"},z={__name:"SignupCard",setup(r){const s=C(),a=k(),o=E({screenname:"",email:"",password:""});async function t(){console.log("create account"),console.log("email,password:",o.email,o.password);const{data:d,error:l}=await U.auth.signUp({email:o.email,password:o.password,options:{data:{screenname:o.screenname}}});l?console.log(l):(console.log("adding user:",d),console.log(" user:",d.user.id),s.setEmail(o.email),s.setScreenname(o.screenname),s.setUid(d.user.id),console.log("Account created, referring..."),a.push({name:"checkmail"}))}return(d,l)=>(f(),h("article",D,[O,e("form",{onSubmit:S(t,["prevent"])},[T,c(e("input",{type:"text",id:"signup-screenname","onUpdate:modelValue":l[0]||(l[0]=n=>o.screenname=n)},null,512),[[p,o.screenname]]),W,c(e("input",{type:"email",id:"signup-email","onUpdate:modelValue":l[1]||(l[1]=n=>o.email=n),required:""},null,512),[[p,o.email]]),J,c(e("input",{type:"password",id:"signup-password","onUpdate:modelValue":l[2]||(l[2]=n=>o.password=n),required:""},null,512),[[p,o.password]]),K],32),e("footer",j,[e("a",{onClick:l[3]||(l[3]=n=>u(v)("signup","login"))},"Already have an account")])]))}},G="/mubook/assets/recover-icon-d2c2a01d.png";const m=r=>(A("data-v-c710469c"),r=r(),V(),r),H={class:"card",id:"card-recover"},Q=m(()=>e("img",{src:G,width:"82",height:"82",alt:"",class:"recover-icon"},null,-1)),X=m(()=>e("header",null,"Forgot your password? Don't worry. Let's get it back.",-1)),Y=m(()=>e("label",{for:"recover-email"},"Email address: *",-1)),Z=m(()=>e("p",null,"We'll send a link to this email if it matches an existing MuBOOKS account.",-1)),ee=m(()=>e("button",null,"Next",-1)),oe=m(()=>e("footer",null,null,-1)),se={__name:"RecoverCard",setup(r){const s=g("");return(a,o)=>(f(),h("article",H,[Q,X,e("form",null,[Y,c(e("input",{type:"email",id:"recover-email","onUpdate:modelValue":o[0]||(o[0]=t=>s.value=t),required:""},null,512),[[p,s.value]]),Z,ee]),e("button",{onClick:o[1]||(o[1]=t=>u(v)("recover","login")),class:"alt"},"Back"),oe]))}},te=L(se,[["__scopeId","data-v-c710469c"]]);const _=r=>(A("data-v-2936e818"),r=r(),V(),r),ne=_(()=>e("div",{id:"welcome-logo"},[e("h1",null,"MuBooks"),e("img",{id:"welcome-logo-img",src:I})],-1)),ae={class:"cards-draaideur"},le={class:"axis"},re=_(()=>e("br",{style:{clear:"both"}},null,-1)),ie={class:"hidden"},de=_(()=>e("br",null,null,-1)),ue=_(()=>e("br",{style:{clear:"both"}},null,-1)),ce=_(()=>e("br",null,null,-1)),pe={__name:"LoginPage",setup(r){return(s,a)=>(f(),h(P,null,[ne,e("div",ae,[e("div",le,[w(M),w(z),w(te)])]),re,e("div",ie,[de,e("button",{onClick:a[0]||(a[0]=(...o)=>s.toPrefs&&s.toPrefs(...o))},"To preferences"),e("button",{onClick:a[1]||(a[1]=(...o)=>s.loginAccount&&s.loginAccount(...o))},"Login"),e("button",{onClick:a[2]||(a[2]=(...o)=>s.seeCurrentUser&&s.seeCurrentUser(...o))},"See user"),e("button",{onClick:a[3]||(a[3]=(...o)=>s.logoutAccount&&s.logoutAccount(...o))},"Log out"),ue,y(" Or..."),ce,y(" Use google auth, apple id, etc ")])],64))}},_e=L(pe,[["__scopeId","data-v-2936e818"]]);export{_e as default};
