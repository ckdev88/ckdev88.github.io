import{f as _,g as f,q as v,o as r,c as a,a as o,t as l,h as c,v as d,d as u,i as q,F as p,k as y,j as B,r as g,b as x,w as b,S as j,e as w}from"./index-39167957.js";const V={async setup(){const i=f({intitle:"",inauthor:"",inpublisher:"",subject:"",isbn:""}),e=f({booklist:[],favoriteGenre:"Drama"}),h=v(()=>e.favoriteGenre.toUpperCase()),t=()=>{let s="";return i.intitle!==""&&(s+="intitle:"+i.intitle+"+"),i.inauthor!==""&&(s+="inauthor:"+i.inauthor+"+"),i.inpublisher!==""&&(s+="inpublisher:"+i.inpublisher+"+"),i.subject!==""&&(s+="subject:"+i.subject+"+"),s},m=e.booklist.items;return{state:e,q:i,computedBooks:m,favGenreCaps:h,constructQuery:t}},methods:{async fetchBooks2(){const i=this.constructQuery();i!==""&&(this.state.booklist=await fetch("https://www.googleapis.com/books/v1/volumes?q="+i).then(e=>e.json()))}},created(){this.fetchBooks2()}},C=o("input",{type:"submit"},null,-1),I={key:0},L=["href"],N={key:1},G=o("br",null,null,-1),S=o("br",null,null,-1);function U(i,e,h,t,m,s){return r(),a(p,null,[o("div",null,"Favorite genre: "+l(t.state.favoriteGenre)+" - "+l(t.favGenreCaps),1),o("form",{onSubmit:e[4]||(e[4]=q((...n)=>s.fetchBooks2&&s.fetchBooks2(...n),["prevent"]))},[o("div",null,[c(o("input",{placeholder:"author...",type:"text","onUpdate:modelValue":e[0]||(e[0]=n=>t.q.inauthor=n)},null,512),[[d,t.q.inauthor]]),u(" "+l(t.q.inauthor),1)]),o("div",null,[c(o("input",{placeholder:"title...",type:"text","onUpdate:modelValue":e[1]||(e[1]=n=>t.q.intitle=n)},null,512),[[d,t.q.intitle]]),u(" "+l(t.q.intitle),1)]),o("div",null,[c(o("input",{placeholder:"publisher...",type:"text","onUpdate:modelValue":e[2]||(e[2]=n=>t.q.inpublisher=n)},null,512),[[d,t.q.inpublisher]]),u(" "+l(t.q.inpublisher),1)]),o("div",null,[c(o("input",{placeholder:"subject...",type:"text","onUpdate:modelValue":e[3]||(e[3]=n=>t.q.subject=n)},null,512),[[d,t.q.subject]]),u(" "+l(t.q.subject),1)]),C],32),o("div",null,[t.state.booklist.length>0||t.state.booklist.totalItems>0?(r(),a("ul",I,[(r(!0),a(p,null,y(t.state.booklist.items,(n,k)=>(r(),a("li",{key:k},[o("div",null,[u(l(n.volumeInfo.title)+", by "+l(n.volumeInfo.authors[0])+"Â ("+l(n.volumeInfo.publishedDate)+") ",1),n.volumeInfo.infoLink?(r(),a("a",{key:0,href:n.volumeInfo.infoLink,target:"_blank"},">",8,L)):B("",!0)])]))),128))])):(r(),a("div",N,[G,S,u("No books found")]))])],64)}const D=_(V,[["render",U]]),E={__name:"BooksPage",props:{title:{required:!0,type:String}},setup(i){const e=g("Brasil");return v(()=>e.value.toLowerCase()),f({continent:"Europe"}),(h,t)=>(r(),a(p,null,[o("h1",null,"Books ("+l(this.$route.name)+")",1),(r(),x(j,null,{fallback:b(()=>[u("Loading...")]),default:b(()=>[w(D)]),_:1}))],64))}};export{E as default};
