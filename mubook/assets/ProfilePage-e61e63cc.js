import{A as d,u as _,G as g,E as v,o as m,c as h,a as e,t as f,f as a,D as w,n as y,h as S,v as $,q as x,e as i,w as C,F as b,d as M}from"./index-897b0ff3.js";import{u}from"./useCardRotate-aba83f5c.js";const k={class:"card"},E=e("header",null,"My account",-1),R=e("dt",null,"Screen name:",-1),U=e("dt",null,"Email address",-1),A=e("dt",null,"Password",-1),B=e("dd",null,"******",-1),P={__name:"MyAccountCard",setup(p){const r=d(),t=_();async function l(){if(t.status!==!0){const{data:o,error:s}=await w.auth.getUser();s?(r.push("login"),console.log("error:",s)):(t.email=o.user.email,t.screenname=o.user.user_metadata.screenname,t.username=o.user.email,t.status=!0,t.uid=o.user.id)}}return g(()=>{l()}),v(()=>{console.log(t.username)}),(o,s)=>(m(),h("div",k,[E,e("main",null,[e("dl",null,[R,e("dd",null,f(a(t).screenname),1),U,e("dd",null,f(a(t).email),1),A,B])]),e("footer",null,[e("button",{onClick:s[0]||(s[0]=(...n)=>a(u)&&a(u)(...n))},"change")])]))}},V={class:"card"},D=e("header",null,"My account",-1),L=e("label",null,"Screen name",-1),N=e("label",{for:"account-email"},"Email address",-1),F=["value"],T=e("label",{for:"account-password"},"Password (leave empty to keep current)",-1),q=e("input",{type:"password",value:"",id:"account-password"},null,-1),G=e("button",null,"Save and return",-1),j={__name:"MyAccountEditCard",setup(p){const r=d(),t=_();async function l(){if(t.status!==!0){const{data:s,error:n}=await w.auth.getUser();n?(r.push("login"),console.log("error:",n)):(t.email=s.user.email,t.screenname=s.user.user_metadata.screenname,t.username=s.user.email,t.status=!0,t.uid=s.user.id)}}async function o(s){console.log(s),u()}return g(()=>{l()}),v(()=>{console.log(t.username)}),(s,n)=>(m(),h("div",V,[D,e("main",null,[e("form",{onSubmit:y(o,["prevent"])},[L,S(e("input",{type:"text",id:"account-screenname","onUpdate:modelValue":n[0]||(n[0]=c=>a(t).screenname=c)},null,512),[[$,a(t).screenname]]),N,e("input",{type:"email",value:a(t).email,id:"account-email"},null,8,F),T,q,G],32)]),e("footer",null,[e("a",{onClick:n[1]||(n[1]=(...c)=>a(u)&&a(u)(...c))},"Return without saving")])]))}},z={class:"cards-draaideur"},H={class:"axis"},K={__name:"ProfilePage",setup(p){d();const r=_();return console.log("authStore:",r),(t,l)=>{const o=x("RouterLink");return m(),h(b,null,[e("div",z,[e("div",H,[i(P),i(j)])]),i(o,{to:"logout"},{default:C(()=>[M("Log out")]),_:1})],64)}}};export{K as default};
