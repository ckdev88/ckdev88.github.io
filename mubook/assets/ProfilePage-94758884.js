import{D as _,y as h,I as S,C as p,o as f,c as g,a as t,t as w,u as r,H as d,i as $,h as b,v as C,e as y}from"./index-3260f57b.js";import{u as m}from"./useCardRotate-644bae83.js";import{s as M}from"./setDraaideurHeight-6e7d5141.js";const U={class:"card"},x=t("header",null,"My account",-1),k=t("dt",null,"Screen name:",-1),B=t("dt",null,"Email address",-1),D=t("dt",null,"Password",-1),E=t("dd",null,"******",-1),P={__name:"MyAccountCard",setup(v){const u=_(),e=h();async function l(){if(e.status!==!0){const{data:n,error:o}=await d.auth.getUser();o?(u.push({name:"login"}),console.log("error:",o)):(e.email=n.user.email,e.screenname=n.user.user_metadata.screenname,e.username=n.user.email,e.status=!0,e.uid=n.user.id)}}return S(()=>{l()}),p(()=>{console.log(e.username)}),(n,o)=>(f(),g("div",U,[x,t("main",null,[t("dl",null,[k,t("dd",null,w(r(e).screenname),1),B,t("dd",null,w(r(e).email),1),D,E])]),t("footer",null,[t("button",{onClick:o[0]||(o[0]=(...a)=>r(m)&&r(m)(...a))},"change")])]))}},A={class:"card"},R=t("header",null,"My account",-1),V=t("label",null,"Screen name",-1),H=t("label",{for:"account-email"},"Email address",-1),N=["value"],I=t("label",{for:"account-password"},"Password (leave empty to keep current)",-1),T=t("input",{type:"password",value:"",id:"account-password"},null,-1),W=t("button",null,"Save and return",-1),j={__name:"MyAccountEditCard",setup(v){const u=_(),e=h();async function l(){const{data:a,error:c}=await d.auth.getUser();if(console.log("---------data:",a),e.status!==!0){const{data:s,error:i}=await d.auth.getUser();console.log("---------data:",s),i?(u.push({name:"login"}),console.log("error:",i)):(e.email=s.user.email,e.screenname=s.user.user_metadata.screenname,e.username=s.user.email,e.status=!0,e.uid=s.user.id)}console.log("data.user.id:",a.user.id)}async function n(a){const c=e.screenname,{data:s,error:i}=await d.auth.updateUser({data:{screenname:c}});i?console.log(i):console.log("data:",s),l(),m()}async function o(){const{data:a}=await d.auth.getUser();e.email=a.user.email,e.screenname=a.user.user_metadata.screenname,m()}return S(()=>{l()}),p(()=>{console.log(e.username)}),(a,c)=>(f(),g("div",A,[R,t("main",null,[t("form",{onSubmit:$(n,["prevent"])},[V,b(t("input",{type:"text",id:"account-screenname","onUpdate:modelValue":c[0]||(c[0]=s=>r(e).screenname=s)},null,512),[[C,r(e).screenname]]),H,t("input",{type:"email",value:r(e).email,id:"account-email"},null,8,N),I,T,W],32)]),t("footer",null,[t("a",{onClick:o},"Return without saving")])]))}},q={class:"cards-draaideur"},z={class:"axis"},K={__name:"ProfilePage",setup(v){_();const u=h();return console.log("authStore:",u),p(()=>{M()}),(e,l)=>(f(),g("div",q,[t("div",z,[y(P),y(j)])]))}};export{K as default};
