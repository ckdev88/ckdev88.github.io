import{u as S,a as C}from"./MuBooksStore-4b40c816.js";import{r as h,g as M,o as n,c as l,a as s,t as i,j as _,F as g,k as f,n as A,d as r}from"./index-03c26837.js";const N=s("h1",null,"My Books",-1),R=s("p",null," An overview of my saved books, this includes books that are favorited, read and finished, the wishlist and the book currently reading. ",-1),W={key:0,id:"alert"},F={key:1},I={class:"cover"},V=["src"],$={class:"in-short"},w=s("br",null,null,-1),j=s("br",null,null,-1),z={key:0},D=s("h3",null,"Synopsis:",-1),E={class:"marks"},J={class:"mark"},L=["onClick"],O=s("span",{class:"icon icon-remove"},null,-1),P={class:"mark"},T=["onClick"],b=s("span",{class:"icon icon-reading"},null,-1),q=["onClick"],G=s("span",{class:"icon icon-read"},null,-1),H=s("hr",null,null,-1),X={__name:"SavedBooksPage",setup(K){const c=S(),m=h(C()),v=h(JSON.parse(localStorage.getItem("MyBooks")));console.log("booklist:",v.value);const e=M({results:h(v),resultCount:0,isSearched:!1,resultsWarning:null});console.log("---==----"),console.log(e.results),console.log("****"),e.resultsWarning=null;function p(t,a){c.removeMyBook(a),e.results[t].saved=!e.results[t].saved}function k(t,a){e.results[t].saved===!1&&p(t,a),e.results[t].reading===!1?c.addBookReading(a):c.endBookReading(a),e.results[t].reading=!e.results[t].reading,e.results[t].finished=!e.results[t].finished}function y(t,a){e.results.splice(t,1),c.removeMyBook(a)}return(t,a)=>(n(),l(g,null,[N,R,m.value.currentAlert?(n(),l("div",W,[s("div",null,i(m.value.currentAlert),1)])):_("",!0),e.resultsWarning?(n(),l("p",F,i(e.resultsWarning),1)):_("",!0),(n(!0),l(g,null,f(e.results,(o,u)=>(n(),l("article",{key:u,class:A(["book-summary",o.reading?"reading":""])},[s("header",null,[s("aside",I,[o.image?(n(),l("img",{key:0,src:o.image,alt:""},null,8,V)):_("",!0)]),s("div",$,[s("h2",null,[r(i(o.title)+" ",1),s("sub",null,[(n(!0),l(g,null,f(o.authors,(d,B)=>(n(),l("span",{key:B},[r(i(d),1),w]))),128))])]),r(" "+i(o.date_published),1),j,r(" "+i(o.pages)+" pages ",1)])]),s("main",null,[o.synopsis?(n(),l("div",z,[D,r(" "+i(o.synopsis.substring(0,180))+" ... ",1)])):_("",!0)]),s("footer",null,[s("div",E,[s("div",J,[s("a",{onClick:d=>y(u,o)},[O,r("Remove from my books")],8,L)]),s("div",P,[o.reading===!1?(n(),l("a",{key:0,onClick:d=>k(u,o)},[b,r(" I am reading this book ")],8,T)):(n(),l("a",{key:1,onClick:d=>k(u,o)},[G,r("I am finished reading this book ")],8,q))])]),H])],2))),128))],64))}};export{X as default};
