import{_ as S,u as y,A as L,r as g,C as k,o as U,c as x,a as e,n as C,h as p,v as m,f as h,D as f,d as u,F as P,B as c,p as I,l as A}from"./index-b6eaa6a6.js";const B="/assets/mubook-logo-538cf934.png",V="/assets/mubook-d4a9c257.png";const t=i=>(I("data-v-723bb177"),i=i(),A(),i),E=t(()=>e("div",{id:"welcome-logos"},[e("img",{id:"welcome-logo1",src:B}),e("img",{id:"welcome-logo2",src:V})],-1)),F={class:"card"},N=t(()=>e("header",null,"Log in",-1)),T=t(()=>e("label",{for:"email"},"Email",-1)),D=t(()=>e("label",{for:"password"},"Password",-1)),M=t(()=>e("button",null,"Log in",-1)),O=t(()=>e("footer",null,[e("a",{href:"#"},"Forgot password"),u(),e("a",{href:"#"},"New here? Join now.")],-1)),R=t(()=>e("br",{style:{clear:"both"}},null,-1)),q=t(()=>e("br",null,null,-1)),J=t(()=>e("br",{style:{clear:"both"}},null,-1)),W=t(()=>e("br",null,null,-1)),j={__name:"LoginPage",setup(i){const n=y(),d=L();let a=g(""),l=g("");async function _(){console.log("login account");const{data:o,error:s}=await c.auth.signInWithPassword({email:a.value,password:l.value});s?console.log(s):(n.setLoginStatus(!0),n.setEmail(o.session.user.email),n.setUsername(o.session.user.email),n.setUid(o.session.user.id),n.setScreenname(o.session.user.user_metadata.screenname),d.push("welcome"))}async function b(){console.log("see current user");const{data:o,error:s}=await c.auth.getSession();s?console.log("error:",s):console.log("data:",o)}async function w(){console.log("logout account");const{error:o}=await c.auth.signOut();o?console.log("error:",o):(n.setLoginStatus(!1),console.log("signed out!"))}function v(){d.push("profile-preferences")}return k(()=>{console.log("loginstatus in loginpage.vue:",n.status)}),(o,s)=>(U(),x(P,null,[E,e("article",F,[N,e("form",{onSubmit:C(_,["prevent"])},[T,p(e("input",{type:"email",id:"email","onUpdate:modelValue":s[0]||(s[0]=r=>f(a)?a.value=r:a=r),required:""},null,512),[[m,h(a)]]),D,p(e("input",{type:"password",id:"password","onUpdate:modelValue":s[1]||(s[1]=r=>f(l)?l.value=r:l=r)},null,512),[[m,h(l)]]),M],32),O]),R,e("div",{class:"hidden"},[q,e("button",{onClick:v},"To preferences"),e("button",{onClick:_},"Login"),e("button",{onClick:b},"See user"),e("button",{onClick:w},"Log out"),J,u(" Or..."),W,u(" Use google auth, apple id, etc ")])],64))}},G=S(j,[["__scopeId","data-v-723bb177"]]);export{G as default};
