import{x as i,r as l}from"./index-845f346b.js";const g=i("AlertStore",{state:()=>({currentAlert:null,active:!1})}),a=g(),d=i("MuBooksStore",{state:()=>({bookList:l(JSON.parse(localStorage.getItem("MyBooks"))),loading:!1}),getters:{getBookList(){return this.bookList},getSmallBooks(){return this.bookList.filter(t=>t.pages<150)},getSavedBooks(){return this.bookList}},actions:{saveBookToggle(t,e){this.booklist[t].saved=!this.booklist[t].saved,this.booklist[t].saved===!0&&this.addMyBook(e)},addMyBook(t,e=!1){e&&console.log("aaaaaaaaaaaaaaaaaa");let o=JSON.parse(localStorage.getItem("MyBooks"));return o||(o=[]),o.push({title:t.title,date_published:t.date_published,authors:t.authors,pages:t.pages,image:"https://images.isbndb.com/covers/"+t.image,reading:e}),localStorage.setItem("MyBooks",JSON.stringify(o)),this.bookList=o,a.currentAlert="Added book",setTimeout(()=>{a.currentAlert=null},3e3),this.bookList},isSaved(t){const e=this.bookList;if(e){for(let o=0;o<e.length;o++)if(e[o].title===t.title)return!0}return!1},addBookReading(t){console.log("-------------------");let e=JSON.parse(localStorage.getItem("MyBooks"));console.log("myBooksaa:",e);let o=[];for(let r=0;r<e.length;r++){if(console.log("i:",r),e[r].title===t.title)var s=!0;else var s=!1;o.push({title:t.title,date_published:t.date_published,authors:t.authors,page:t.pages,image:t.image,reading:e[r].reading,reading2:s,read:"function addBookReading"})}localStorage.setItem("MyBooks",JSON.stringify(o)),localStorage.setItem("MyBooks",JSON.stringify(e)),this.bookList=e,a.currentAlert="Added book to reading",setTimeout(()=>{a.currentAlert=null},3e3)},removeMyBook(t){let e=JSON.parse(localStorage.getItem("MyBooks"));if(!e)console.log("there is nothing to remove");else{let o=[];for(let s=0;s<e.length;s++)e[s].title!==t.title&&o.push({title:e[s].title,date_published:e[s].date_published,authors:e[s].authors,image:e[s].image,pages:e[s].pages,reading:e[s].reading});localStorage.setItem("MyBooks",JSON.stringify(o)),this.bookList=o,console.log("removed book",this.bookList),a.currentAlert="Removed book",setTimeout(()=>{a.currentAlert=null},3e3)}}}});export{g as a,d as u};
