function fy(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Ye=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function py(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var Cf={exports:{}},Oo={},Ef={exports:{}},q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ns=Symbol.for("react.element"),my=Symbol.for("react.portal"),gy=Symbol.for("react.fragment"),yy=Symbol.for("react.strict_mode"),vy=Symbol.for("react.profiler"),wy=Symbol.for("react.provider"),xy=Symbol.for("react.context"),_y=Symbol.for("react.forward_ref"),ky=Symbol.for("react.suspense"),Sy=Symbol.for("react.memo"),jy=Symbol.for("react.lazy"),Mc=Symbol.iterator;function Cy(e){return e===null||typeof e!="object"?null:(e=Mc&&e[Mc]||e["@@iterator"],typeof e=="function"?e:null)}var bf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Tf=Object.assign,Pf={};function Vr(e,t,n){this.props=e,this.context=t,this.refs=Pf,this.updater=n||bf}Vr.prototype.isReactComponent={};Vr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Vr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Nf(){}Nf.prototype=Vr.prototype;function pu(e,t,n){this.props=e,this.context=t,this.refs=Pf,this.updater=n||bf}var mu=pu.prototype=new Nf;mu.constructor=pu;Tf(mu,Vr.prototype);mu.isPureReactComponent=!0;var zc=Array.isArray,If=Object.prototype.hasOwnProperty,gu={current:null},Of={key:!0,ref:!0,__self:!0,__source:!0};function Lf(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)If.call(t,r)&&!Of.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:ns,type:e,key:s,ref:o,props:i,_owner:gu.current}}function Ey(e,t){return{$$typeof:ns,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function yu(e){return typeof e=="object"&&e!==null&&e.$$typeof===ns}function by(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Bc=/\/+/g;function al(e,t){return typeof e=="object"&&e!==null&&e.key!=null?by(""+e.key):t.toString(36)}function Ms(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ns:case my:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+al(o,0):r,zc(i)?(n="",e!=null&&(n=e.replace(Bc,"$&/")+"/"),Ms(i,t,n,"",function(c){return c})):i!=null&&(yu(i)&&(i=Ey(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Bc,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",zc(e))for(var l=0;l<e.length;l++){s=e[l];var a=r+al(s,l);o+=Ms(s,t,n,a,i)}else if(a=Cy(e),typeof a=="function")for(e=a.call(e),l=0;!(s=e.next()).done;)s=s.value,a=r+al(s,l++),o+=Ms(s,t,n,a,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ps(e,t,n){if(e==null)return e;var r=[],i=0;return Ms(e,r,"","",function(s){return t.call(n,s,i++)}),r}function Ty(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var $e={current:null},zs={transition:null},Py={ReactCurrentDispatcher:$e,ReactCurrentBatchConfig:zs,ReactCurrentOwner:gu};function Af(){throw Error("act(...) is not supported in production builds of React.")}q.Children={map:ps,forEach:function(e,t,n){ps(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ps(e,function(){t++}),t},toArray:function(e){return ps(e,function(t){return t})||[]},only:function(e){if(!yu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};q.Component=Vr;q.Fragment=gy;q.Profiler=vy;q.PureComponent=pu;q.StrictMode=yy;q.Suspense=ky;q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Py;q.act=Af;q.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Tf({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=gu.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)If.call(t,a)&&!Of.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:ns,type:e.type,key:i,ref:s,props:r,_owner:o}};q.createContext=function(e){return e={$$typeof:xy,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:wy,_context:e},e.Consumer=e};q.createElement=Lf;q.createFactory=function(e){var t=Lf.bind(null,e);return t.type=e,t};q.createRef=function(){return{current:null}};q.forwardRef=function(e){return{$$typeof:_y,render:e}};q.isValidElement=yu;q.lazy=function(e){return{$$typeof:jy,_payload:{_status:-1,_result:e},_init:Ty}};q.memo=function(e,t){return{$$typeof:Sy,type:e,compare:t===void 0?null:t}};q.startTransition=function(e){var t=zs.transition;zs.transition={};try{e()}finally{zs.transition=t}};q.unstable_act=Af;q.useCallback=function(e,t){return $e.current.useCallback(e,t)};q.useContext=function(e){return $e.current.useContext(e)};q.useDebugValue=function(){};q.useDeferredValue=function(e){return $e.current.useDeferredValue(e)};q.useEffect=function(e,t){return $e.current.useEffect(e,t)};q.useId=function(){return $e.current.useId()};q.useImperativeHandle=function(e,t,n){return $e.current.useImperativeHandle(e,t,n)};q.useInsertionEffect=function(e,t){return $e.current.useInsertionEffect(e,t)};q.useLayoutEffect=function(e,t){return $e.current.useLayoutEffect(e,t)};q.useMemo=function(e,t){return $e.current.useMemo(e,t)};q.useReducer=function(e,t,n){return $e.current.useReducer(e,t,n)};q.useRef=function(e){return $e.current.useRef(e)};q.useState=function(e){return $e.current.useState(e)};q.useSyncExternalStore=function(e,t,n){return $e.current.useSyncExternalStore(e,t,n)};q.useTransition=function(){return $e.current.useTransition()};q.version="18.3.1";Ef.exports=q;var _=Ef.exports;const Zs=jf(_),Ny=fy({__proto__:null,default:Zs},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iy=_,Oy=Symbol.for("react.element"),Ly=Symbol.for("react.fragment"),Ay=Object.prototype.hasOwnProperty,Ry=Iy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Fy={key:!0,ref:!0,__self:!0,__source:!0};function Rf(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Ay.call(t,r)&&!Fy.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Oy,type:e,key:s,ref:o,props:i,_owner:Ry.current}}Oo.Fragment=Ly;Oo.jsx=Rf;Oo.jsxs=Rf;Cf.exports=Oo;var u=Cf.exports,Zl={},Ff={exports:{}},ot={},Df={exports:{}},Mf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,z){var k=L.length;L.push(z);e:for(;0<k;){var Y=k-1>>>1,ne=L[Y];if(0<i(ne,z))L[Y]=z,L[k]=ne,k=Y;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var z=L[0],k=L.pop();if(k!==z){L[0]=k;e:for(var Y=0,ne=L.length,j=ne>>>1;Y<j;){var je=2*(Y+1)-1,wt=L[je],ae=je+1,Nt=L[ae];if(0>i(wt,k))ae<ne&&0>i(Nt,wt)?(L[Y]=Nt,L[ae]=k,Y=ae):(L[Y]=wt,L[je]=k,Y=je);else if(ae<ne&&0>i(Nt,k))L[Y]=Nt,L[ae]=k,Y=ae;else break e}}return z}function i(L,z){var k=L.sortIndex-z.sortIndex;return k!==0?k:L.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var a=[],c=[],d=1,h=null,p=3,f=!1,y=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(L){for(var z=n(c);z!==null;){if(z.callback===null)r(c);else if(z.startTime<=L)r(c),z.sortIndex=z.expirationTime,t(a,z);else break;z=n(c)}}function S(L){if(w=!1,v(L),!y)if(n(a)!==null)y=!0,_e(E);else{var z=n(c);z!==null&&we(S,z.startTime-L)}}function E(L,z){y=!1,w&&(w=!1,m(I),I=-1),f=!0;var k=p;try{for(v(z),h=n(a);h!==null&&(!(h.expirationTime>z)||L&&!D());){var Y=h.callback;if(typeof Y=="function"){h.callback=null,p=h.priorityLevel;var ne=Y(h.expirationTime<=z);z=e.unstable_now(),typeof ne=="function"?h.callback=ne:h===n(a)&&r(a),v(z)}else r(a);h=n(a)}if(h!==null)var j=!0;else{var je=n(c);je!==null&&we(S,je.startTime-z),j=!1}return j}finally{h=null,p=k,f=!1}}var C=!1,T=null,I=-1,M=5,R=-1;function D(){return!(e.unstable_now()-R<M)}function A(){if(T!==null){var L=e.unstable_now();R=L;var z=!0;try{z=T(!0,L)}finally{z?J():(C=!1,T=null)}}else C=!1}var J;if(typeof g=="function")J=function(){g(A)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,W=fe.port2;fe.port1.onmessage=A,J=function(){W.postMessage(null)}}else J=function(){x(A,0)};function _e(L){T=L,C||(C=!0,J())}function we(L,z){I=x(function(){L(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){y||f||(y=!0,_e(E))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(L){switch(p){case 1:case 2:case 3:var z=3;break;default:z=p}var k=p;p=z;try{return L()}finally{p=k}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,z){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var k=p;p=L;try{return z()}finally{p=k}},e.unstable_scheduleCallback=function(L,z,k){var Y=e.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?Y+k:Y):k=Y,L){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=k+ne,L={id:d++,callback:z,priorityLevel:L,startTime:k,expirationTime:ne,sortIndex:-1},k>Y?(L.sortIndex=k,t(c,L),n(a)===null&&L===n(c)&&(w?(m(I),I=-1):w=!0,we(S,k-Y))):(L.sortIndex=ne,t(a,L),y||f||(y=!0,_e(E))),L},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(L){var z=p;return function(){var k=p;p=z;try{return L.apply(this,arguments)}finally{p=k}}}})(Mf);Df.exports=Mf;var Dy=Df.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var My=_,st=Dy;function P(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zf=new Set,Fi={};function Xn(e,t){Lr(e,t),Lr(e+"Capture",t)}function Lr(e,t){for(Fi[e]=t,e=0;e<t.length;e++)zf.add(t[e])}var qt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ea=Object.prototype.hasOwnProperty,zy=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$c={},Uc={};function By(e){return ea.call(Uc,e)?!0:ea.call($c,e)?!1:zy.test(e)?Uc[e]=!0:($c[e]=!0,!1)}function $y(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Uy(e,t,n,r){if(t===null||typeof t>"u"||$y(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ue(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Ie={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ie[e]=new Ue(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ie[t]=new Ue(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ie[e]=new Ue(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ie[e]=new Ue(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ie[e]=new Ue(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ie[e]=new Ue(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ie[e]=new Ue(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ie[e]=new Ue(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ie[e]=new Ue(e,5,!1,e.toLowerCase(),null,!1,!1)});var vu=/[\-:]([a-z])/g;function wu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(vu,wu);Ie[t]=new Ue(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(vu,wu);Ie[t]=new Ue(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(vu,wu);Ie[t]=new Ue(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ie[e]=new Ue(e,1,!1,e.toLowerCase(),null,!1,!1)});Ie.xlinkHref=new Ue("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ie[e]=new Ue(e,1,!1,e.toLowerCase(),null,!0,!0)});function xu(e,t,n,r){var i=Ie.hasOwnProperty(t)?Ie[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Uy(t,n,i,r)&&(n=null),r||i===null?By(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Yt=My.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ms=Symbol.for("react.element"),dr=Symbol.for("react.portal"),hr=Symbol.for("react.fragment"),_u=Symbol.for("react.strict_mode"),ta=Symbol.for("react.profiler"),Bf=Symbol.for("react.provider"),$f=Symbol.for("react.context"),ku=Symbol.for("react.forward_ref"),na=Symbol.for("react.suspense"),ra=Symbol.for("react.suspense_list"),Su=Symbol.for("react.memo"),tn=Symbol.for("react.lazy"),Uf=Symbol.for("react.offscreen"),Hc=Symbol.iterator;function ei(e){return e===null||typeof e!="object"?null:(e=Hc&&e[Hc]||e["@@iterator"],typeof e=="function"?e:null)}var ge=Object.assign,ul;function gi(e){if(ul===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ul=t&&t[1]||""}return`
`+ul+e}var cl=!1;function dl(e,t){if(!e||cl)return"";cl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var a=`
`+i[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=o&&0<=l);break}}}finally{cl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?gi(e):""}function Hy(e){switch(e.tag){case 5:return gi(e.type);case 16:return gi("Lazy");case 13:return gi("Suspense");case 19:return gi("SuspenseList");case 0:case 2:case 15:return e=dl(e.type,!1),e;case 11:return e=dl(e.type.render,!1),e;case 1:return e=dl(e.type,!0),e;default:return""}}function ia(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case hr:return"Fragment";case dr:return"Portal";case ta:return"Profiler";case _u:return"StrictMode";case na:return"Suspense";case ra:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case $f:return(e.displayName||"Context")+".Consumer";case Bf:return(e._context.displayName||"Context")+".Provider";case ku:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Su:return t=e.displayName||null,t!==null?t:ia(e.type)||"Memo";case tn:t=e._payload,e=e._init;try{return ia(e(t))}catch{}}return null}function Vy(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ia(t);case 8:return t===_u?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Sn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Hf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function qy(e){var t=Hf(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function gs(e){e._valueTracker||(e._valueTracker=qy(e))}function Vf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Hf(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function eo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function sa(e,t){var n=t.checked;return ge({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Vc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Sn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function qf(e,t){t=t.checked,t!=null&&xu(e,"checked",t,!1)}function oa(e,t){qf(e,t);var n=Sn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?la(e,t.type,n):t.hasOwnProperty("defaultValue")&&la(e,t.type,Sn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function qc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function la(e,t,n){(t!=="number"||eo(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var yi=Array.isArray;function Sr(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Sn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function aa(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(P(91));return ge({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Wc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(P(92));if(yi(n)){if(1<n.length)throw Error(P(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Sn(n)}}function Wf(e,t){var n=Sn(t.value),r=Sn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Qc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Qf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ua(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Qf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ys,Kf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ys=ys||document.createElement("div"),ys.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ys.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Di(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var _i={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Wy=["Webkit","ms","Moz","O"];Object.keys(_i).forEach(function(e){Wy.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),_i[t]=_i[e]})});function Jf(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||_i.hasOwnProperty(e)&&_i[e]?(""+t).trim():t+"px"}function Yf(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Jf(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Qy=ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ca(e,t){if(t){if(Qy[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(P(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(P(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(P(61))}if(t.style!=null&&typeof t.style!="object")throw Error(P(62))}}function da(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ha=null;function ju(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fa=null,jr=null,Cr=null;function Kc(e){if(e=ss(e)){if(typeof fa!="function")throw Error(P(280));var t=e.stateNode;t&&(t=Do(t),fa(e.stateNode,e.type,t))}}function Gf(e){jr?Cr?Cr.push(e):Cr=[e]:jr=e}function Xf(){if(jr){var e=jr,t=Cr;if(Cr=jr=null,Kc(e),t)for(e=0;e<t.length;e++)Kc(t[e])}}function Zf(e,t){return e(t)}function ep(){}var hl=!1;function tp(e,t,n){if(hl)return e(t,n);hl=!0;try{return Zf(e,t,n)}finally{hl=!1,(jr!==null||Cr!==null)&&(ep(),Xf())}}function Mi(e,t){var n=e.stateNode;if(n===null)return null;var r=Do(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(P(231,t,typeof n));return n}var pa=!1;if(qt)try{var ti={};Object.defineProperty(ti,"passive",{get:function(){pa=!0}}),window.addEventListener("test",ti,ti),window.removeEventListener("test",ti,ti)}catch{pa=!1}function Ky(e,t,n,r,i,s,o,l,a){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var ki=!1,to=null,no=!1,ma=null,Jy={onError:function(e){ki=!0,to=e}};function Yy(e,t,n,r,i,s,o,l,a){ki=!1,to=null,Ky.apply(Jy,arguments)}function Gy(e,t,n,r,i,s,o,l,a){if(Yy.apply(this,arguments),ki){if(ki){var c=to;ki=!1,to=null}else throw Error(P(198));no||(no=!0,ma=c)}}function Zn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function np(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Jc(e){if(Zn(e)!==e)throw Error(P(188))}function Xy(e){var t=e.alternate;if(!t){if(t=Zn(e),t===null)throw Error(P(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Jc(i),e;if(s===r)return Jc(i),t;s=s.sibling}throw Error(P(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(P(189))}}if(n.alternate!==r)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?e:t}function rp(e){return e=Xy(e),e!==null?ip(e):null}function ip(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ip(e);if(t!==null)return t;e=e.sibling}return null}var sp=st.unstable_scheduleCallback,Yc=st.unstable_cancelCallback,Zy=st.unstable_shouldYield,ev=st.unstable_requestPaint,xe=st.unstable_now,tv=st.unstable_getCurrentPriorityLevel,Cu=st.unstable_ImmediatePriority,op=st.unstable_UserBlockingPriority,ro=st.unstable_NormalPriority,nv=st.unstable_LowPriority,lp=st.unstable_IdlePriority,Lo=null,Ft=null;function rv(e){if(Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(Lo,e,void 0,(e.current.flags&128)===128)}catch{}}var bt=Math.clz32?Math.clz32:ov,iv=Math.log,sv=Math.LN2;function ov(e){return e>>>=0,e===0?32:31-(iv(e)/sv|0)|0}var vs=64,ws=4194304;function vi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function io(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=vi(l):(s&=o,s!==0&&(r=vi(s)))}else o=n&~i,o!==0?r=vi(o):s!==0&&(r=vi(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-bt(t),i=1<<n,r|=e[n],t&=~i;return r}function lv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function av(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-bt(s),l=1<<o,a=i[o];a===-1?(!(l&n)||l&r)&&(i[o]=lv(l,t)):a<=t&&(e.expiredLanes|=l),s&=~l}}function ga(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ap(){var e=vs;return vs<<=1,!(vs&4194240)&&(vs=64),e}function fl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function rs(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-bt(t),e[t]=n}function uv(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-bt(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function Eu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-bt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var te=0;function up(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var cp,bu,dp,hp,fp,ya=!1,xs=[],pn=null,mn=null,gn=null,zi=new Map,Bi=new Map,on=[],cv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gc(e,t){switch(e){case"focusin":case"focusout":pn=null;break;case"dragenter":case"dragleave":mn=null;break;case"mouseover":case"mouseout":gn=null;break;case"pointerover":case"pointerout":zi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bi.delete(t.pointerId)}}function ni(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=ss(t),t!==null&&bu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function dv(e,t,n,r,i){switch(t){case"focusin":return pn=ni(pn,e,t,n,r,i),!0;case"dragenter":return mn=ni(mn,e,t,n,r,i),!0;case"mouseover":return gn=ni(gn,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return zi.set(s,ni(zi.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Bi.set(s,ni(Bi.get(s)||null,e,t,n,r,i)),!0}return!1}function pp(e){var t=$n(e.target);if(t!==null){var n=Zn(t);if(n!==null){if(t=n.tag,t===13){if(t=np(n),t!==null){e.blockedOn=t,fp(e.priority,function(){dp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=va(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ha=r,n.target.dispatchEvent(r),ha=null}else return t=ss(n),t!==null&&bu(t),e.blockedOn=n,!1;t.shift()}return!0}function Xc(e,t,n){Bs(e)&&n.delete(t)}function hv(){ya=!1,pn!==null&&Bs(pn)&&(pn=null),mn!==null&&Bs(mn)&&(mn=null),gn!==null&&Bs(gn)&&(gn=null),zi.forEach(Xc),Bi.forEach(Xc)}function ri(e,t){e.blockedOn===t&&(e.blockedOn=null,ya||(ya=!0,st.unstable_scheduleCallback(st.unstable_NormalPriority,hv)))}function $i(e){function t(i){return ri(i,e)}if(0<xs.length){ri(xs[0],e);for(var n=1;n<xs.length;n++){var r=xs[n];r.blockedOn===e&&(r.blockedOn=null)}}for(pn!==null&&ri(pn,e),mn!==null&&ri(mn,e),gn!==null&&ri(gn,e),zi.forEach(t),Bi.forEach(t),n=0;n<on.length;n++)r=on[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<on.length&&(n=on[0],n.blockedOn===null);)pp(n),n.blockedOn===null&&on.shift()}var Er=Yt.ReactCurrentBatchConfig,so=!0;function fv(e,t,n,r){var i=te,s=Er.transition;Er.transition=null;try{te=1,Tu(e,t,n,r)}finally{te=i,Er.transition=s}}function pv(e,t,n,r){var i=te,s=Er.transition;Er.transition=null;try{te=4,Tu(e,t,n,r)}finally{te=i,Er.transition=s}}function Tu(e,t,n,r){if(so){var i=va(e,t,n,r);if(i===null)Sl(e,t,r,oo,n),Gc(e,r);else if(dv(i,e,t,n,r))r.stopPropagation();else if(Gc(e,r),t&4&&-1<cv.indexOf(e)){for(;i!==null;){var s=ss(i);if(s!==null&&cp(s),s=va(e,t,n,r),s===null&&Sl(e,t,r,oo,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Sl(e,t,r,null,n)}}var oo=null;function va(e,t,n,r){if(oo=null,e=ju(r),e=$n(e),e!==null)if(t=Zn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=np(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return oo=e,null}function mp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tv()){case Cu:return 1;case op:return 4;case ro:case nv:return 16;case lp:return 536870912;default:return 16}default:return 16}}var dn=null,Pu=null,$s=null;function gp(){if($s)return $s;var e,t=Pu,n=t.length,r,i="value"in dn?dn.value:dn.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return $s=i.slice(e,1<r?1-r:void 0)}function Us(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function _s(){return!0}function Zc(){return!1}function lt(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?_s:Zc,this.isPropagationStopped=Zc,this}return ge(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_s)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_s)},persist:function(){},isPersistent:_s}),t}var qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nu=lt(qr),is=ge({},qr,{view:0,detail:0}),mv=lt(is),pl,ml,ii,Ao=ge({},is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Iu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ii&&(ii&&e.type==="mousemove"?(pl=e.screenX-ii.screenX,ml=e.screenY-ii.screenY):ml=pl=0,ii=e),pl)},movementY:function(e){return"movementY"in e?e.movementY:ml}}),ed=lt(Ao),gv=ge({},Ao,{dataTransfer:0}),yv=lt(gv),vv=ge({},is,{relatedTarget:0}),gl=lt(vv),wv=ge({},qr,{animationName:0,elapsedTime:0,pseudoElement:0}),xv=lt(wv),_v=ge({},qr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kv=lt(_v),Sv=ge({},qr,{data:0}),td=lt(Sv),jv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ev={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ev[e])?!!t[e]:!1}function Iu(){return bv}var Tv=ge({},is,{key:function(e){if(e.key){var t=jv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Us(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Cv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Iu,charCode:function(e){return e.type==="keypress"?Us(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Us(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Pv=lt(Tv),Nv=ge({},Ao,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nd=lt(Nv),Iv=ge({},is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Iu}),Ov=lt(Iv),Lv=ge({},qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Av=lt(Lv),Rv=ge({},Ao,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Fv=lt(Rv),Dv=[9,13,27,32],Ou=qt&&"CompositionEvent"in window,Si=null;qt&&"documentMode"in document&&(Si=document.documentMode);var Mv=qt&&"TextEvent"in window&&!Si,yp=qt&&(!Ou||Si&&8<Si&&11>=Si),rd=" ",id=!1;function vp(e,t){switch(e){case"keyup":return Dv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fr=!1;function zv(e,t){switch(e){case"compositionend":return wp(t);case"keypress":return t.which!==32?null:(id=!0,rd);case"textInput":return e=t.data,e===rd&&id?null:e;default:return null}}function Bv(e,t){if(fr)return e==="compositionend"||!Ou&&vp(e,t)?(e=gp(),$s=Pu=dn=null,fr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return yp&&t.locale!=="ko"?null:t.data;default:return null}}var $v={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!$v[e.type]:t==="textarea"}function xp(e,t,n,r){Gf(r),t=lo(t,"onChange"),0<t.length&&(n=new Nu("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ji=null,Ui=null;function Uv(e){Ip(e,0)}function Ro(e){var t=gr(e);if(Vf(t))return e}function Hv(e,t){if(e==="change")return t}var _p=!1;if(qt){var yl;if(qt){var vl="oninput"in document;if(!vl){var od=document.createElement("div");od.setAttribute("oninput","return;"),vl=typeof od.oninput=="function"}yl=vl}else yl=!1;_p=yl&&(!document.documentMode||9<document.documentMode)}function ld(){ji&&(ji.detachEvent("onpropertychange",kp),Ui=ji=null)}function kp(e){if(e.propertyName==="value"&&Ro(Ui)){var t=[];xp(t,Ui,e,ju(e)),tp(Uv,t)}}function Vv(e,t,n){e==="focusin"?(ld(),ji=t,Ui=n,ji.attachEvent("onpropertychange",kp)):e==="focusout"&&ld()}function qv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ro(Ui)}function Wv(e,t){if(e==="click")return Ro(t)}function Qv(e,t){if(e==="input"||e==="change")return Ro(t)}function Kv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Pt=typeof Object.is=="function"?Object.is:Kv;function Hi(e,t){if(Pt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ea.call(t,i)||!Pt(e[i],t[i]))return!1}return!0}function ad(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ud(e,t){var n=ad(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ad(n)}}function Sp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Sp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function jp(){for(var e=window,t=eo();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=eo(e.document)}return t}function Lu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Jv(e){var t=jp(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Sp(n.ownerDocument.documentElement,n)){if(r!==null&&Lu(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ud(n,s);var o=ud(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Yv=qt&&"documentMode"in document&&11>=document.documentMode,pr=null,wa=null,Ci=null,xa=!1;function cd(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;xa||pr==null||pr!==eo(r)||(r=pr,"selectionStart"in r&&Lu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ci&&Hi(Ci,r)||(Ci=r,r=lo(wa,"onSelect"),0<r.length&&(t=new Nu("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=pr)))}function ks(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var mr={animationend:ks("Animation","AnimationEnd"),animationiteration:ks("Animation","AnimationIteration"),animationstart:ks("Animation","AnimationStart"),transitionend:ks("Transition","TransitionEnd")},wl={},Cp={};qt&&(Cp=document.createElement("div").style,"AnimationEvent"in window||(delete mr.animationend.animation,delete mr.animationiteration.animation,delete mr.animationstart.animation),"TransitionEvent"in window||delete mr.transitionend.transition);function Fo(e){if(wl[e])return wl[e];if(!mr[e])return e;var t=mr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Cp)return wl[e]=t[n];return e}var Ep=Fo("animationend"),bp=Fo("animationiteration"),Tp=Fo("animationstart"),Pp=Fo("transitionend"),Np=new Map,dd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function En(e,t){Np.set(e,t),Xn(t,[e])}for(var xl=0;xl<dd.length;xl++){var _l=dd[xl],Gv=_l.toLowerCase(),Xv=_l[0].toUpperCase()+_l.slice(1);En(Gv,"on"+Xv)}En(Ep,"onAnimationEnd");En(bp,"onAnimationIteration");En(Tp,"onAnimationStart");En("dblclick","onDoubleClick");En("focusin","onFocus");En("focusout","onBlur");En(Pp,"onTransitionEnd");Lr("onMouseEnter",["mouseout","mouseover"]);Lr("onMouseLeave",["mouseout","mouseover"]);Lr("onPointerEnter",["pointerout","pointerover"]);Lr("onPointerLeave",["pointerout","pointerover"]);Xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zv=new Set("cancel close invalid load scroll toggle".split(" ").concat(wi));function hd(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Gy(r,t,void 0,e),e.currentTarget=null}function Ip(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,c=l.currentTarget;if(l=l.listener,a!==s&&i.isPropagationStopped())break e;hd(i,l,c),s=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,c=l.currentTarget,l=l.listener,a!==s&&i.isPropagationStopped())break e;hd(i,l,c),s=a}}}if(no)throw e=ma,no=!1,ma=null,e}function ue(e,t){var n=t[Ca];n===void 0&&(n=t[Ca]=new Set);var r=e+"__bubble";n.has(r)||(Op(t,e,2,!1),n.add(r))}function kl(e,t,n){var r=0;t&&(r|=4),Op(n,e,r,t)}var Ss="_reactListening"+Math.random().toString(36).slice(2);function Vi(e){if(!e[Ss]){e[Ss]=!0,zf.forEach(function(n){n!=="selectionchange"&&(Zv.has(n)||kl(n,!1,e),kl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ss]||(t[Ss]=!0,kl("selectionchange",!1,t))}}function Op(e,t,n,r){switch(mp(t)){case 1:var i=fv;break;case 4:i=pv;break;default:i=Tu}n=i.bind(null,t,n,e),i=void 0,!pa||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Sl(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;l!==null;){if(o=$n(l),o===null)return;if(a=o.tag,a===5||a===6){r=s=o;continue e}l=l.parentNode}}r=r.return}tp(function(){var c=s,d=ju(n),h=[];e:{var p=Np.get(e);if(p!==void 0){var f=Nu,y=e;switch(e){case"keypress":if(Us(n)===0)break e;case"keydown":case"keyup":f=Pv;break;case"focusin":y="focus",f=gl;break;case"focusout":y="blur",f=gl;break;case"beforeblur":case"afterblur":f=gl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=ed;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=yv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=Ov;break;case Ep:case bp:case Tp:f=xv;break;case Pp:f=Av;break;case"scroll":f=mv;break;case"wheel":f=Fv;break;case"copy":case"cut":case"paste":f=kv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=nd}var w=(t&4)!==0,x=!w&&e==="scroll",m=w?p!==null?p+"Capture":null:p;w=[];for(var g=c,v;g!==null;){v=g;var S=v.stateNode;if(v.tag===5&&S!==null&&(v=S,m!==null&&(S=Mi(g,m),S!=null&&w.push(qi(g,S,v)))),x)break;g=g.return}0<w.length&&(p=new f(p,y,null,n,d),h.push({event:p,listeners:w}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",p&&n!==ha&&(y=n.relatedTarget||n.fromElement)&&($n(y)||y[Wt]))break e;if((f||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,f?(y=n.relatedTarget||n.toElement,f=c,y=y?$n(y):null,y!==null&&(x=Zn(y),y!==x||y.tag!==5&&y.tag!==6)&&(y=null)):(f=null,y=c),f!==y)){if(w=ed,S="onMouseLeave",m="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(w=nd,S="onPointerLeave",m="onPointerEnter",g="pointer"),x=f==null?p:gr(f),v=y==null?p:gr(y),p=new w(S,g+"leave",f,n,d),p.target=x,p.relatedTarget=v,S=null,$n(d)===c&&(w=new w(m,g+"enter",y,n,d),w.target=v,w.relatedTarget=x,S=w),x=S,f&&y)t:{for(w=f,m=y,g=0,v=w;v;v=or(v))g++;for(v=0,S=m;S;S=or(S))v++;for(;0<g-v;)w=or(w),g--;for(;0<v-g;)m=or(m),v--;for(;g--;){if(w===m||m!==null&&w===m.alternate)break t;w=or(w),m=or(m)}w=null}else w=null;f!==null&&fd(h,p,f,w,!1),y!==null&&x!==null&&fd(h,x,y,w,!0)}}e:{if(p=c?gr(c):window,f=p.nodeName&&p.nodeName.toLowerCase(),f==="select"||f==="input"&&p.type==="file")var E=Hv;else if(sd(p))if(_p)E=Qv;else{E=qv;var C=Vv}else(f=p.nodeName)&&f.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(E=Wv);if(E&&(E=E(e,c))){xp(h,E,n,d);break e}C&&C(e,p,c),e==="focusout"&&(C=p._wrapperState)&&C.controlled&&p.type==="number"&&la(p,"number",p.value)}switch(C=c?gr(c):window,e){case"focusin":(sd(C)||C.contentEditable==="true")&&(pr=C,wa=c,Ci=null);break;case"focusout":Ci=wa=pr=null;break;case"mousedown":xa=!0;break;case"contextmenu":case"mouseup":case"dragend":xa=!1,cd(h,n,d);break;case"selectionchange":if(Yv)break;case"keydown":case"keyup":cd(h,n,d)}var T;if(Ou)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else fr?vp(e,n)&&(I="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(yp&&n.locale!=="ko"&&(fr||I!=="onCompositionStart"?I==="onCompositionEnd"&&fr&&(T=gp()):(dn=d,Pu="value"in dn?dn.value:dn.textContent,fr=!0)),C=lo(c,I),0<C.length&&(I=new td(I,e,null,n,d),h.push({event:I,listeners:C}),T?I.data=T:(T=wp(n),T!==null&&(I.data=T)))),(T=Mv?zv(e,n):Bv(e,n))&&(c=lo(c,"onBeforeInput"),0<c.length&&(d=new td("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=T))}Ip(h,t)})}function qi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function lo(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Mi(e,n),s!=null&&r.unshift(qi(e,s,i)),s=Mi(e,t),s!=null&&r.push(qi(e,s,i))),e=e.return}return r}function or(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function fd(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,c=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&c!==null&&(l=c,i?(a=Mi(n,s),a!=null&&o.unshift(qi(n,a,l))):i||(a=Mi(n,s),a!=null&&o.push(qi(n,a,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var e0=/\r\n?/g,t0=/\u0000|\uFFFD/g;function pd(e){return(typeof e=="string"?e:""+e).replace(e0,`
`).replace(t0,"")}function js(e,t,n){if(t=pd(t),pd(e)!==t&&n)throw Error(P(425))}function ao(){}var _a=null,ka=null;function Sa(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ja=typeof setTimeout=="function"?setTimeout:void 0,n0=typeof clearTimeout=="function"?clearTimeout:void 0,md=typeof Promise=="function"?Promise:void 0,r0=typeof queueMicrotask=="function"?queueMicrotask:typeof md<"u"?function(e){return md.resolve(null).then(e).catch(i0)}:ja;function i0(e){setTimeout(function(){throw e})}function jl(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),$i(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);$i(t)}function yn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function gd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Wr=Math.random().toString(36).slice(2),At="__reactFiber$"+Wr,Wi="__reactProps$"+Wr,Wt="__reactContainer$"+Wr,Ca="__reactEvents$"+Wr,s0="__reactListeners$"+Wr,o0="__reactHandles$"+Wr;function $n(e){var t=e[At];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Wt]||n[At]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=gd(e);e!==null;){if(n=e[At])return n;e=gd(e)}return t}e=n,n=e.parentNode}return null}function ss(e){return e=e[At]||e[Wt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function gr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(P(33))}function Do(e){return e[Wi]||null}var Ea=[],yr=-1;function bn(e){return{current:e}}function ce(e){0>yr||(e.current=Ea[yr],Ea[yr]=null,yr--)}function oe(e,t){yr++,Ea[yr]=e.current,e.current=t}var jn={},Fe=bn(jn),We=bn(!1),Wn=jn;function Ar(e,t){var n=e.type.contextTypes;if(!n)return jn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Qe(e){return e=e.childContextTypes,e!=null}function uo(){ce(We),ce(Fe)}function yd(e,t,n){if(Fe.current!==jn)throw Error(P(168));oe(Fe,t),oe(We,n)}function Lp(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(P(108,Vy(e)||"Unknown",i));return ge({},n,r)}function co(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||jn,Wn=Fe.current,oe(Fe,e),oe(We,We.current),!0}function vd(e,t,n){var r=e.stateNode;if(!r)throw Error(P(169));n?(e=Lp(e,t,Wn),r.__reactInternalMemoizedMergedChildContext=e,ce(We),ce(Fe),oe(Fe,e)):ce(We),oe(We,n)}var $t=null,Mo=!1,Cl=!1;function Ap(e){$t===null?$t=[e]:$t.push(e)}function l0(e){Mo=!0,Ap(e)}function Tn(){if(!Cl&&$t!==null){Cl=!0;var e=0,t=te;try{var n=$t;for(te=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}$t=null,Mo=!1}catch(i){throw $t!==null&&($t=$t.slice(e+1)),sp(Cu,Tn),i}finally{te=t,Cl=!1}}return null}var vr=[],wr=0,ho=null,fo=0,ct=[],dt=0,Qn=null,Ut=1,Ht="";function Fn(e,t){vr[wr++]=fo,vr[wr++]=ho,ho=e,fo=t}function Rp(e,t,n){ct[dt++]=Ut,ct[dt++]=Ht,ct[dt++]=Qn,Qn=e;var r=Ut;e=Ht;var i=32-bt(r)-1;r&=~(1<<i),n+=1;var s=32-bt(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ut=1<<32-bt(t)+i|n<<i|r,Ht=s+e}else Ut=1<<s|n<<i|r,Ht=e}function Au(e){e.return!==null&&(Fn(e,1),Rp(e,1,0))}function Ru(e){for(;e===ho;)ho=vr[--wr],vr[wr]=null,fo=vr[--wr],vr[wr]=null;for(;e===Qn;)Qn=ct[--dt],ct[dt]=null,Ht=ct[--dt],ct[dt]=null,Ut=ct[--dt],ct[dt]=null}var it=null,nt=null,he=!1,Et=null;function Fp(e,t){var n=pt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function wd(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,it=e,nt=yn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,it=e,nt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Qn!==null?{id:Ut,overflow:Ht}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=pt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,it=e,nt=null,!0):!1;default:return!1}}function ba(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ta(e){if(he){var t=nt;if(t){var n=t;if(!wd(e,t)){if(ba(e))throw Error(P(418));t=yn(n.nextSibling);var r=it;t&&wd(e,t)?Fp(r,n):(e.flags=e.flags&-4097|2,he=!1,it=e)}}else{if(ba(e))throw Error(P(418));e.flags=e.flags&-4097|2,he=!1,it=e}}}function xd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;it=e}function Cs(e){if(e!==it)return!1;if(!he)return xd(e),he=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Sa(e.type,e.memoizedProps)),t&&(t=nt)){if(ba(e))throw Dp(),Error(P(418));for(;t;)Fp(e,t),t=yn(t.nextSibling)}if(xd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(P(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){nt=yn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}nt=null}}else nt=it?yn(e.stateNode.nextSibling):null;return!0}function Dp(){for(var e=nt;e;)e=yn(e.nextSibling)}function Rr(){nt=it=null,he=!1}function Fu(e){Et===null?Et=[e]:Et.push(e)}var a0=Yt.ReactCurrentBatchConfig;function si(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var r=n.stateNode}if(!r)throw Error(P(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,e))}return e}function Es(e,t){throw e=Object.prototype.toString.call(t),Error(P(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function _d(e){var t=e._init;return t(e._payload)}function Mp(e){function t(m,g){if(e){var v=m.deletions;v===null?(m.deletions=[g],m.flags|=16):v.push(g)}}function n(m,g){if(!e)return null;for(;g!==null;)t(m,g),g=g.sibling;return null}function r(m,g){for(m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function i(m,g){return m=_n(m,g),m.index=0,m.sibling=null,m}function s(m,g,v){return m.index=v,e?(v=m.alternate,v!==null?(v=v.index,v<g?(m.flags|=2,g):v):(m.flags|=2,g)):(m.flags|=1048576,g)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function l(m,g,v,S){return g===null||g.tag!==6?(g=Ol(v,m.mode,S),g.return=m,g):(g=i(g,v),g.return=m,g)}function a(m,g,v,S){var E=v.type;return E===hr?d(m,g,v.props.children,S,v.key):g!==null&&(g.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===tn&&_d(E)===g.type)?(S=i(g,v.props),S.ref=si(m,g,v),S.return=m,S):(S=Js(v.type,v.key,v.props,null,m.mode,S),S.ref=si(m,g,v),S.return=m,S)}function c(m,g,v,S){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=Ll(v,m.mode,S),g.return=m,g):(g=i(g,v.children||[]),g.return=m,g)}function d(m,g,v,S,E){return g===null||g.tag!==7?(g=qn(v,m.mode,S,E),g.return=m,g):(g=i(g,v),g.return=m,g)}function h(m,g,v){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Ol(""+g,m.mode,v),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ms:return v=Js(g.type,g.key,g.props,null,m.mode,v),v.ref=si(m,null,g),v.return=m,v;case dr:return g=Ll(g,m.mode,v),g.return=m,g;case tn:var S=g._init;return h(m,S(g._payload),v)}if(yi(g)||ei(g))return g=qn(g,m.mode,v,null),g.return=m,g;Es(m,g)}return null}function p(m,g,v,S){var E=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return E!==null?null:l(m,g,""+v,S);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ms:return v.key===E?a(m,g,v,S):null;case dr:return v.key===E?c(m,g,v,S):null;case tn:return E=v._init,p(m,g,E(v._payload),S)}if(yi(v)||ei(v))return E!==null?null:d(m,g,v,S,null);Es(m,v)}return null}function f(m,g,v,S,E){if(typeof S=="string"&&S!==""||typeof S=="number")return m=m.get(v)||null,l(g,m,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ms:return m=m.get(S.key===null?v:S.key)||null,a(g,m,S,E);case dr:return m=m.get(S.key===null?v:S.key)||null,c(g,m,S,E);case tn:var C=S._init;return f(m,g,v,C(S._payload),E)}if(yi(S)||ei(S))return m=m.get(v)||null,d(g,m,S,E,null);Es(g,S)}return null}function y(m,g,v,S){for(var E=null,C=null,T=g,I=g=0,M=null;T!==null&&I<v.length;I++){T.index>I?(M=T,T=null):M=T.sibling;var R=p(m,T,v[I],S);if(R===null){T===null&&(T=M);break}e&&T&&R.alternate===null&&t(m,T),g=s(R,g,I),C===null?E=R:C.sibling=R,C=R,T=M}if(I===v.length)return n(m,T),he&&Fn(m,I),E;if(T===null){for(;I<v.length;I++)T=h(m,v[I],S),T!==null&&(g=s(T,g,I),C===null?E=T:C.sibling=T,C=T);return he&&Fn(m,I),E}for(T=r(m,T);I<v.length;I++)M=f(T,m,I,v[I],S),M!==null&&(e&&M.alternate!==null&&T.delete(M.key===null?I:M.key),g=s(M,g,I),C===null?E=M:C.sibling=M,C=M);return e&&T.forEach(function(D){return t(m,D)}),he&&Fn(m,I),E}function w(m,g,v,S){var E=ei(v);if(typeof E!="function")throw Error(P(150));if(v=E.call(v),v==null)throw Error(P(151));for(var C=E=null,T=g,I=g=0,M=null,R=v.next();T!==null&&!R.done;I++,R=v.next()){T.index>I?(M=T,T=null):M=T.sibling;var D=p(m,T,R.value,S);if(D===null){T===null&&(T=M);break}e&&T&&D.alternate===null&&t(m,T),g=s(D,g,I),C===null?E=D:C.sibling=D,C=D,T=M}if(R.done)return n(m,T),he&&Fn(m,I),E;if(T===null){for(;!R.done;I++,R=v.next())R=h(m,R.value,S),R!==null&&(g=s(R,g,I),C===null?E=R:C.sibling=R,C=R);return he&&Fn(m,I),E}for(T=r(m,T);!R.done;I++,R=v.next())R=f(T,m,I,R.value,S),R!==null&&(e&&R.alternate!==null&&T.delete(R.key===null?I:R.key),g=s(R,g,I),C===null?E=R:C.sibling=R,C=R);return e&&T.forEach(function(A){return t(m,A)}),he&&Fn(m,I),E}function x(m,g,v,S){if(typeof v=="object"&&v!==null&&v.type===hr&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case ms:e:{for(var E=v.key,C=g;C!==null;){if(C.key===E){if(E=v.type,E===hr){if(C.tag===7){n(m,C.sibling),g=i(C,v.props.children),g.return=m,m=g;break e}}else if(C.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===tn&&_d(E)===C.type){n(m,C.sibling),g=i(C,v.props),g.ref=si(m,C,v),g.return=m,m=g;break e}n(m,C);break}else t(m,C);C=C.sibling}v.type===hr?(g=qn(v.props.children,m.mode,S,v.key),g.return=m,m=g):(S=Js(v.type,v.key,v.props,null,m.mode,S),S.ref=si(m,g,v),S.return=m,m=S)}return o(m);case dr:e:{for(C=v.key;g!==null;){if(g.key===C)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){n(m,g.sibling),g=i(g,v.children||[]),g.return=m,m=g;break e}else{n(m,g);break}else t(m,g);g=g.sibling}g=Ll(v,m.mode,S),g.return=m,m=g}return o(m);case tn:return C=v._init,x(m,g,C(v._payload),S)}if(yi(v))return y(m,g,v,S);if(ei(v))return w(m,g,v,S);Es(m,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,g!==null&&g.tag===6?(n(m,g.sibling),g=i(g,v),g.return=m,m=g):(n(m,g),g=Ol(v,m.mode,S),g.return=m,m=g),o(m)):n(m,g)}return x}var Fr=Mp(!0),zp=Mp(!1),po=bn(null),mo=null,xr=null,Du=null;function Mu(){Du=xr=mo=null}function zu(e){var t=po.current;ce(po),e._currentValue=t}function Pa(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function br(e,t){mo=e,Du=xr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(qe=!0),e.firstContext=null)}function gt(e){var t=e._currentValue;if(Du!==e)if(e={context:e,memoizedValue:t,next:null},xr===null){if(mo===null)throw Error(P(308));xr=e,mo.dependencies={lanes:0,firstContext:e}}else xr=xr.next=e;return t}var Un=null;function Bu(e){Un===null?Un=[e]:Un.push(e)}function Bp(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Bu(t)):(n.next=i.next,i.next=n),t.interleaved=n,Qt(e,r)}function Qt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var nn=!1;function $u(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $p(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function vn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,G&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Qt(e,n)}return i=r.interleaved,i===null?(t.next=t,Bu(r)):(t.next=i.next,i.next=t),r.interleaved=t,Qt(e,n)}function Hs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Eu(e,n)}}function kd(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function go(e,t,n,r){var i=e.updateQueue;nn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,c=a.next;a.next=null,o===null?s=c:o.next=c,o=a;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=a))}if(s!==null){var h=i.baseState;o=0,d=c=a=null,l=s;do{var p=l.lane,f=l.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,w=l;switch(p=t,f=n,w.tag){case 1:if(y=w.payload,typeof y=="function"){h=y.call(f,h,p);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,p=typeof y=="function"?y.call(f,h,p):y,p==null)break e;h=ge({},h,p);break e;case 2:nn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[l]:p.push(l))}else f={eventTime:f,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=f,a=h):d=d.next=f,o|=p;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;p=l,l=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(d===null&&(a=h),i.baseState=a,i.firstBaseUpdate=c,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Jn|=o,e.lanes=o,e.memoizedState=h}}function Sd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(P(191,i));i.call(r)}}}var os={},Dt=bn(os),Qi=bn(os),Ki=bn(os);function Hn(e){if(e===os)throw Error(P(174));return e}function Uu(e,t){switch(oe(Ki,t),oe(Qi,e),oe(Dt,os),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ua(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ua(t,e)}ce(Dt),oe(Dt,t)}function Dr(){ce(Dt),ce(Qi),ce(Ki)}function Up(e){Hn(Ki.current);var t=Hn(Dt.current),n=ua(t,e.type);t!==n&&(oe(Qi,e),oe(Dt,n))}function Hu(e){Qi.current===e&&(ce(Dt),ce(Qi))}var pe=bn(0);function yo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var El=[];function Vu(){for(var e=0;e<El.length;e++)El[e]._workInProgressVersionPrimary=null;El.length=0}var Vs=Yt.ReactCurrentDispatcher,bl=Yt.ReactCurrentBatchConfig,Kn=0,me=null,Ce=null,be=null,vo=!1,Ei=!1,Ji=0,u0=0;function Oe(){throw Error(P(321))}function qu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Pt(e[n],t[n]))return!1;return!0}function Wu(e,t,n,r,i,s){if(Kn=s,me=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Vs.current=e===null||e.memoizedState===null?f0:p0,e=n(r,i),Ei){s=0;do{if(Ei=!1,Ji=0,25<=s)throw Error(P(301));s+=1,be=Ce=null,t.updateQueue=null,Vs.current=m0,e=n(r,i)}while(Ei)}if(Vs.current=wo,t=Ce!==null&&Ce.next!==null,Kn=0,be=Ce=me=null,vo=!1,t)throw Error(P(300));return e}function Qu(){var e=Ji!==0;return Ji=0,e}function Ot(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?me.memoizedState=be=e:be=be.next=e,be}function yt(){if(Ce===null){var e=me.alternate;e=e!==null?e.memoizedState:null}else e=Ce.next;var t=be===null?me.memoizedState:be.next;if(t!==null)be=t,Ce=e;else{if(e===null)throw Error(P(310));Ce=e,e={memoizedState:Ce.memoizedState,baseState:Ce.baseState,baseQueue:Ce.baseQueue,queue:Ce.queue,next:null},be===null?me.memoizedState=be=e:be=be.next=e}return be}function Yi(e,t){return typeof t=="function"?t(e):t}function Tl(e){var t=yt(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var r=Ce,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,a=null,c=s;do{var d=c.lane;if((Kn&d)===d)a!==null&&(a=a.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};a===null?(l=a=h,o=r):a=a.next=h,me.lanes|=d,Jn|=d}c=c.next}while(c!==null&&c!==s);a===null?o=r:a.next=l,Pt(r,t.memoizedState)||(qe=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,me.lanes|=s,Jn|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Pl(e){var t=yt(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Pt(s,t.memoizedState)||(qe=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Hp(){}function Vp(e,t){var n=me,r=yt(),i=t(),s=!Pt(r.memoizedState,i);if(s&&(r.memoizedState=i,qe=!0),r=r.queue,Ku(Qp.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||be!==null&&be.memoizedState.tag&1){if(n.flags|=2048,Gi(9,Wp.bind(null,n,r,i,t),void 0,null),Te===null)throw Error(P(349));Kn&30||qp(n,t,i)}return i}function qp(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=me.updateQueue,t===null?(t={lastEffect:null,stores:null},me.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Wp(e,t,n,r){t.value=n,t.getSnapshot=r,Kp(t)&&Jp(e)}function Qp(e,t,n){return n(function(){Kp(t)&&Jp(e)})}function Kp(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Pt(e,n)}catch{return!0}}function Jp(e){var t=Qt(e,1);t!==null&&Tt(t,e,1,-1)}function jd(e){var t=Ot();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:e},t.queue=e,e=e.dispatch=h0.bind(null,me,e),[t.memoizedState,e]}function Gi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=me.updateQueue,t===null?(t={lastEffect:null,stores:null},me.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Yp(){return yt().memoizedState}function qs(e,t,n,r){var i=Ot();me.flags|=e,i.memoizedState=Gi(1|t,n,void 0,r===void 0?null:r)}function zo(e,t,n,r){var i=yt();r=r===void 0?null:r;var s=void 0;if(Ce!==null){var o=Ce.memoizedState;if(s=o.destroy,r!==null&&qu(r,o.deps)){i.memoizedState=Gi(t,n,s,r);return}}me.flags|=e,i.memoizedState=Gi(1|t,n,s,r)}function Cd(e,t){return qs(8390656,8,e,t)}function Ku(e,t){return zo(2048,8,e,t)}function Gp(e,t){return zo(4,2,e,t)}function Xp(e,t){return zo(4,4,e,t)}function Zp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function em(e,t,n){return n=n!=null?n.concat([e]):null,zo(4,4,Zp.bind(null,t,e),n)}function Ju(){}function tm(e,t){var n=yt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&qu(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function nm(e,t){var n=yt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&qu(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function rm(e,t,n){return Kn&21?(Pt(n,t)||(n=ap(),me.lanes|=n,Jn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,qe=!0),e.memoizedState=n)}function c0(e,t){var n=te;te=n!==0&&4>n?n:4,e(!0);var r=bl.transition;bl.transition={};try{e(!1),t()}finally{te=n,bl.transition=r}}function im(){return yt().memoizedState}function d0(e,t,n){var r=xn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},sm(e))om(t,n);else if(n=Bp(e,t,n,r),n!==null){var i=Be();Tt(n,e,r,i),lm(n,t,r)}}function h0(e,t,n){var r=xn(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(sm(e))om(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,Pt(l,o)){var a=t.interleaved;a===null?(i.next=i,Bu(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}n=Bp(e,t,i,r),n!==null&&(i=Be(),Tt(n,e,r,i),lm(n,t,r))}}function sm(e){var t=e.alternate;return e===me||t!==null&&t===me}function om(e,t){Ei=vo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function lm(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Eu(e,n)}}var wo={readContext:gt,useCallback:Oe,useContext:Oe,useEffect:Oe,useImperativeHandle:Oe,useInsertionEffect:Oe,useLayoutEffect:Oe,useMemo:Oe,useReducer:Oe,useRef:Oe,useState:Oe,useDebugValue:Oe,useDeferredValue:Oe,useTransition:Oe,useMutableSource:Oe,useSyncExternalStore:Oe,useId:Oe,unstable_isNewReconciler:!1},f0={readContext:gt,useCallback:function(e,t){return Ot().memoizedState=[e,t===void 0?null:t],e},useContext:gt,useEffect:Cd,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,qs(4194308,4,Zp.bind(null,t,e),n)},useLayoutEffect:function(e,t){return qs(4194308,4,e,t)},useInsertionEffect:function(e,t){return qs(4,2,e,t)},useMemo:function(e,t){var n=Ot();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ot();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=d0.bind(null,me,e),[r.memoizedState,e]},useRef:function(e){var t=Ot();return e={current:e},t.memoizedState=e},useState:jd,useDebugValue:Ju,useDeferredValue:function(e){return Ot().memoizedState=e},useTransition:function(){var e=jd(!1),t=e[0];return e=c0.bind(null,e[1]),Ot().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=me,i=Ot();if(he){if(n===void 0)throw Error(P(407));n=n()}else{if(n=t(),Te===null)throw Error(P(349));Kn&30||qp(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Cd(Qp.bind(null,r,s,e),[e]),r.flags|=2048,Gi(9,Wp.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Ot(),t=Te.identifierPrefix;if(he){var n=Ht,r=Ut;n=(r&~(1<<32-bt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ji++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=u0++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},p0={readContext:gt,useCallback:tm,useContext:gt,useEffect:Ku,useImperativeHandle:em,useInsertionEffect:Gp,useLayoutEffect:Xp,useMemo:nm,useReducer:Tl,useRef:Yp,useState:function(){return Tl(Yi)},useDebugValue:Ju,useDeferredValue:function(e){var t=yt();return rm(t,Ce.memoizedState,e)},useTransition:function(){var e=Tl(Yi)[0],t=yt().memoizedState;return[e,t]},useMutableSource:Hp,useSyncExternalStore:Vp,useId:im,unstable_isNewReconciler:!1},m0={readContext:gt,useCallback:tm,useContext:gt,useEffect:Ku,useImperativeHandle:em,useInsertionEffect:Gp,useLayoutEffect:Xp,useMemo:nm,useReducer:Pl,useRef:Yp,useState:function(){return Pl(Yi)},useDebugValue:Ju,useDeferredValue:function(e){var t=yt();return Ce===null?t.memoizedState=e:rm(t,Ce.memoizedState,e)},useTransition:function(){var e=Pl(Yi)[0],t=yt().memoizedState;return[e,t]},useMutableSource:Hp,useSyncExternalStore:Vp,useId:im,unstable_isNewReconciler:!1};function St(e,t){if(e&&e.defaultProps){t=ge({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Na(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ge({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Bo={isMounted:function(e){return(e=e._reactInternals)?Zn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Be(),i=xn(e),s=Vt(r,i);s.payload=t,n!=null&&(s.callback=n),t=vn(e,s,i),t!==null&&(Tt(t,e,i,r),Hs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Be(),i=xn(e),s=Vt(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=vn(e,s,i),t!==null&&(Tt(t,e,i,r),Hs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Be(),r=xn(e),i=Vt(n,r);i.tag=2,t!=null&&(i.callback=t),t=vn(e,i,r),t!==null&&(Tt(t,e,r,n),Hs(t,e,r))}};function Ed(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Hi(n,r)||!Hi(i,s):!0}function am(e,t,n){var r=!1,i=jn,s=t.contextType;return typeof s=="object"&&s!==null?s=gt(s):(i=Qe(t)?Wn:Fe.current,r=t.contextTypes,s=(r=r!=null)?Ar(e,i):jn),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Bo,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function bd(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Bo.enqueueReplaceState(t,t.state,null)}function Ia(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},$u(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=gt(s):(s=Qe(t)?Wn:Fe.current,i.context=Ar(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Na(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Bo.enqueueReplaceState(i,i.state,null),go(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Mr(e,t){try{var n="",r=t;do n+=Hy(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Nl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Oa(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var g0=typeof WeakMap=="function"?WeakMap:Map;function um(e,t,n){n=Vt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){_o||(_o=!0,Ua=r),Oa(e,t)},n}function cm(e,t,n){n=Vt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Oa(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Oa(e,t),typeof r!="function"&&(wn===null?wn=new Set([this]):wn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Td(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new g0;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=N0.bind(null,e,t,n),t.then(e,e))}function Pd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Nd(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Vt(-1,1),t.tag=2,vn(n,t,1))),n.lanes|=1),e)}var y0=Yt.ReactCurrentOwner,qe=!1;function ze(e,t,n,r){t.child=e===null?zp(t,null,n,r):Fr(t,e.child,n,r)}function Id(e,t,n,r,i){n=n.render;var s=t.ref;return br(t,i),r=Wu(e,t,n,r,s,i),n=Qu(),e!==null&&!qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Kt(e,t,i)):(he&&n&&Au(t),t.flags|=1,ze(e,t,r,i),t.child)}function Od(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!rc(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,dm(e,t,s,r,i)):(e=Js(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Hi,n(o,r)&&e.ref===t.ref)return Kt(e,t,i)}return t.flags|=1,e=_n(s,r),e.ref=t.ref,e.return=t,t.child=e}function dm(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Hi(s,r)&&e.ref===t.ref)if(qe=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(qe=!0);else return t.lanes=e.lanes,Kt(e,t,i)}return La(e,t,n,r,i)}function hm(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},oe(kr,et),et|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,oe(kr,et),et|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,oe(kr,et),et|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,oe(kr,et),et|=r;return ze(e,t,i,n),t.child}function fm(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function La(e,t,n,r,i){var s=Qe(n)?Wn:Fe.current;return s=Ar(t,s),br(t,i),n=Wu(e,t,n,r,s,i),r=Qu(),e!==null&&!qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Kt(e,t,i)):(he&&r&&Au(t),t.flags|=1,ze(e,t,n,i),t.child)}function Ld(e,t,n,r,i){if(Qe(n)){var s=!0;co(t)}else s=!1;if(br(t,i),t.stateNode===null)Ws(e,t),am(t,n,r),Ia(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var a=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=gt(c):(c=Qe(n)?Wn:Fe.current,c=Ar(t,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==c)&&bd(t,o,r,c),nn=!1;var p=t.memoizedState;o.state=p,go(t,r,o,i),a=t.memoizedState,l!==r||p!==a||We.current||nn?(typeof d=="function"&&(Na(t,n,d,r),a=t.memoizedState),(l=nn||Ed(t,n,l,r,p,a,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),o.props=r,o.state=a,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,$p(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:St(t.type,l),o.props=c,h=t.pendingProps,p=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=gt(a):(a=Qe(n)?Wn:Fe.current,a=Ar(t,a));var f=n.getDerivedStateFromProps;(d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||p!==a)&&bd(t,o,r,a),nn=!1,p=t.memoizedState,o.state=p,go(t,r,o,i);var y=t.memoizedState;l!==h||p!==y||We.current||nn?(typeof f=="function"&&(Na(t,n,f,r),y=t.memoizedState),(c=nn||Ed(t,n,c,r,p,y,a)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),o.props=r,o.state=y,o.context=a,r=c):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Aa(e,t,n,r,s,i)}function Aa(e,t,n,r,i,s){fm(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&vd(t,n,!1),Kt(e,t,s);r=t.stateNode,y0.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Fr(t,e.child,null,s),t.child=Fr(t,null,l,s)):ze(e,t,l,s),t.memoizedState=r.state,i&&vd(t,n,!0),t.child}function pm(e){var t=e.stateNode;t.pendingContext?yd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&yd(e,t.context,!1),Uu(e,t.containerInfo)}function Ad(e,t,n,r,i){return Rr(),Fu(i),t.flags|=256,ze(e,t,n,r),t.child}var Ra={dehydrated:null,treeContext:null,retryLane:0};function Fa(e){return{baseLanes:e,cachePool:null,transitions:null}}function mm(e,t,n){var r=t.pendingProps,i=pe.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),oe(pe,i&1),e===null)return Ta(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Ho(o,r,0,null),e=qn(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Fa(n),t.memoizedState=Ra,e):Yu(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return v0(e,t,o,r,l,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=_n(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=_n(l,s):(s=qn(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?Fa(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=Ra,r}return s=e.child,e=s.sibling,r=_n(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Yu(e,t){return t=Ho({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function bs(e,t,n,r){return r!==null&&Fu(r),Fr(t,e.child,null,n),e=Yu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function v0(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=Nl(Error(P(422))),bs(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Ho({mode:"visible",children:r.children},i,0,null),s=qn(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Fr(t,e.child,null,o),t.child.memoizedState=Fa(o),t.memoizedState=Ra,s);if(!(t.mode&1))return bs(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(P(419)),r=Nl(s,r,void 0),bs(e,t,o,r)}if(l=(o&e.childLanes)!==0,qe||l){if(r=Te,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Qt(e,i),Tt(r,e,i,-1))}return nc(),r=Nl(Error(P(421))),bs(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=I0.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,nt=yn(i.nextSibling),it=t,he=!0,Et=null,e!==null&&(ct[dt++]=Ut,ct[dt++]=Ht,ct[dt++]=Qn,Ut=e.id,Ht=e.overflow,Qn=t),t=Yu(t,r.children),t.flags|=4096,t)}function Rd(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Pa(e.return,t,n)}function Il(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function gm(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(ze(e,t,r.children,n),r=pe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Rd(e,n,t);else if(e.tag===19)Rd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(oe(pe,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&yo(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Il(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&yo(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Il(t,!0,n,null,s);break;case"together":Il(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ws(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Kt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Jn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(P(153));if(t.child!==null){for(e=t.child,n=_n(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=_n(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function w0(e,t,n){switch(t.tag){case 3:pm(t),Rr();break;case 5:Up(t);break;case 1:Qe(t.type)&&co(t);break;case 4:Uu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;oe(po,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(oe(pe,pe.current&1),t.flags|=128,null):n&t.child.childLanes?mm(e,t,n):(oe(pe,pe.current&1),e=Kt(e,t,n),e!==null?e.sibling:null);oe(pe,pe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return gm(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),oe(pe,pe.current),r)break;return null;case 22:case 23:return t.lanes=0,hm(e,t,n)}return Kt(e,t,n)}var ym,Da,vm,wm;ym=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Da=function(){};vm=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Hn(Dt.current);var s=null;switch(n){case"input":i=sa(e,i),r=sa(e,r),s=[];break;case"select":i=ge({},i,{value:void 0}),r=ge({},r,{value:void 0}),s=[];break;case"textarea":i=aa(e,i),r=aa(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ao)}ca(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var l=i[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Fi.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var a=r[c];if(l=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&a!==l&&(a!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(c,n)),n=a;else c==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(c,a)):c==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(c,""+a):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Fi.hasOwnProperty(c)?(a!=null&&c==="onScroll"&&ue("scroll",e),s||l===a||(s=[])):(s=s||[]).push(c,a))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};wm=function(e,t,n,r){n!==r&&(t.flags|=4)};function oi(e,t){if(!he)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Le(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function x0(e,t,n){var r=t.pendingProps;switch(Ru(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Le(t),null;case 1:return Qe(t.type)&&uo(),Le(t),null;case 3:return r=t.stateNode,Dr(),ce(We),ce(Fe),Vu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Cs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Et!==null&&(qa(Et),Et=null))),Da(e,t),Le(t),null;case 5:Hu(t);var i=Hn(Ki.current);if(n=t.type,e!==null&&t.stateNode!=null)vm(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(P(166));return Le(t),null}if(e=Hn(Dt.current),Cs(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[At]=t,r[Wi]=s,e=(t.mode&1)!==0,n){case"dialog":ue("cancel",r),ue("close",r);break;case"iframe":case"object":case"embed":ue("load",r);break;case"video":case"audio":for(i=0;i<wi.length;i++)ue(wi[i],r);break;case"source":ue("error",r);break;case"img":case"image":case"link":ue("error",r),ue("load",r);break;case"details":ue("toggle",r);break;case"input":Vc(r,s),ue("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ue("invalid",r);break;case"textarea":Wc(r,s),ue("invalid",r)}ca(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&js(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&js(r.textContent,l,e),i=["children",""+l]):Fi.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ue("scroll",r)}switch(n){case"input":gs(r),qc(r,s,!0);break;case"textarea":gs(r),Qc(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ao)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Qf(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[At]=t,e[Wi]=r,ym(e,t,!1,!1),t.stateNode=e;e:{switch(o=da(n,r),n){case"dialog":ue("cancel",e),ue("close",e),i=r;break;case"iframe":case"object":case"embed":ue("load",e),i=r;break;case"video":case"audio":for(i=0;i<wi.length;i++)ue(wi[i],e);i=r;break;case"source":ue("error",e),i=r;break;case"img":case"image":case"link":ue("error",e),ue("load",e),i=r;break;case"details":ue("toggle",e),i=r;break;case"input":Vc(e,r),i=sa(e,r),ue("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ge({},r,{value:void 0}),ue("invalid",e);break;case"textarea":Wc(e,r),i=aa(e,r),ue("invalid",e);break;default:i=r}ca(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?Yf(e,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Kf(e,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Di(e,a):typeof a=="number"&&Di(e,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Fi.hasOwnProperty(s)?a!=null&&s==="onScroll"&&ue("scroll",e):a!=null&&xu(e,s,a,o))}switch(n){case"input":gs(e),qc(e,r,!1);break;case"textarea":gs(e),Qc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Sn(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Sr(e,!!r.multiple,s,!1):r.defaultValue!=null&&Sr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=ao)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Le(t),null;case 6:if(e&&t.stateNode!=null)wm(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(P(166));if(n=Hn(Ki.current),Hn(Dt.current),Cs(t)){if(r=t.stateNode,n=t.memoizedProps,r[At]=t,(s=r.nodeValue!==n)&&(e=it,e!==null))switch(e.tag){case 3:js(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&js(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[At]=t,t.stateNode=r}return Le(t),null;case 13:if(ce(pe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(he&&nt!==null&&t.mode&1&&!(t.flags&128))Dp(),Rr(),t.flags|=98560,s=!1;else if(s=Cs(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(P(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(P(317));s[At]=t}else Rr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Le(t),s=!1}else Et!==null&&(qa(Et),Et=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||pe.current&1?Ee===0&&(Ee=3):nc())),t.updateQueue!==null&&(t.flags|=4),Le(t),null);case 4:return Dr(),Da(e,t),e===null&&Vi(t.stateNode.containerInfo),Le(t),null;case 10:return zu(t.type._context),Le(t),null;case 17:return Qe(t.type)&&uo(),Le(t),null;case 19:if(ce(pe),s=t.memoizedState,s===null)return Le(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)oi(s,!1);else{if(Ee!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=yo(e),o!==null){for(t.flags|=128,oi(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return oe(pe,pe.current&1|2),t.child}e=e.sibling}s.tail!==null&&xe()>zr&&(t.flags|=128,r=!0,oi(s,!1),t.lanes=4194304)}else{if(!r)if(e=yo(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),oi(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!he)return Le(t),null}else 2*xe()-s.renderingStartTime>zr&&n!==1073741824&&(t.flags|=128,r=!0,oi(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=xe(),t.sibling=null,n=pe.current,oe(pe,r?n&1|2:n&1),t):(Le(t),null);case 22:case 23:return tc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?et&1073741824&&(Le(t),t.subtreeFlags&6&&(t.flags|=8192)):Le(t),null;case 24:return null;case 25:return null}throw Error(P(156,t.tag))}function _0(e,t){switch(Ru(t),t.tag){case 1:return Qe(t.type)&&uo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Dr(),ce(We),ce(Fe),Vu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Hu(t),null;case 13:if(ce(pe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(P(340));Rr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ce(pe),null;case 4:return Dr(),null;case 10:return zu(t.type._context),null;case 22:case 23:return tc(),null;case 24:return null;default:return null}}var Ts=!1,Re=!1,k0=typeof WeakSet=="function"?WeakSet:Set,F=null;function _r(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ye(e,t,r)}else n.current=null}function Ma(e,t,n){try{n()}catch(r){ye(e,t,r)}}var Fd=!1;function S0(e,t){if(_a=so,e=jp(),Lu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,c=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||i!==0&&h.nodeType!==3||(l=o+i),h!==s||r!==0&&h.nodeType!==3||(a=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++c===i&&(l=o),p===s&&++d===r&&(a=o),(f=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=f}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(ka={focusedElem:e,selectionRange:n},so=!1,F=t;F!==null;)if(t=F,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,F=e;else for(;F!==null;){t=F;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,x=y.memoizedState,m=t.stateNode,g=m.getSnapshotBeforeUpdate(t.elementType===t.type?w:St(t.type,w),x);m.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(S){ye(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,F=e;break}F=t.return}return y=Fd,Fd=!1,y}function bi(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Ma(t,n,s)}i=i.next}while(i!==r)}}function $o(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function za(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function xm(e){var t=e.alternate;t!==null&&(e.alternate=null,xm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[At],delete t[Wi],delete t[Ca],delete t[s0],delete t[o0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function _m(e){return e.tag===5||e.tag===3||e.tag===4}function Dd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||_m(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ba(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ao));else if(r!==4&&(e=e.child,e!==null))for(Ba(e,t,n),e=e.sibling;e!==null;)Ba(e,t,n),e=e.sibling}function $a(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for($a(e,t,n),e=e.sibling;e!==null;)$a(e,t,n),e=e.sibling}var Pe=null,jt=!1;function Xt(e,t,n){for(n=n.child;n!==null;)km(e,t,n),n=n.sibling}function km(e,t,n){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(Lo,n)}catch{}switch(n.tag){case 5:Re||_r(n,t);case 6:var r=Pe,i=jt;Pe=null,Xt(e,t,n),Pe=r,jt=i,Pe!==null&&(jt?(e=Pe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Pe.removeChild(n.stateNode));break;case 18:Pe!==null&&(jt?(e=Pe,n=n.stateNode,e.nodeType===8?jl(e.parentNode,n):e.nodeType===1&&jl(e,n),$i(e)):jl(Pe,n.stateNode));break;case 4:r=Pe,i=jt,Pe=n.stateNode.containerInfo,jt=!0,Xt(e,t,n),Pe=r,jt=i;break;case 0:case 11:case 14:case 15:if(!Re&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Ma(n,t,o),i=i.next}while(i!==r)}Xt(e,t,n);break;case 1:if(!Re&&(_r(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ye(n,t,l)}Xt(e,t,n);break;case 21:Xt(e,t,n);break;case 22:n.mode&1?(Re=(r=Re)||n.memoizedState!==null,Xt(e,t,n),Re=r):Xt(e,t,n);break;default:Xt(e,t,n)}}function Md(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new k0),t.forEach(function(r){var i=O0.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function _t(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Pe=l.stateNode,jt=!1;break e;case 3:Pe=l.stateNode.containerInfo,jt=!0;break e;case 4:Pe=l.stateNode.containerInfo,jt=!0;break e}l=l.return}if(Pe===null)throw Error(P(160));km(s,o,i),Pe=null,jt=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(c){ye(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Sm(t,e),t=t.sibling}function Sm(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(_t(t,e),It(e),r&4){try{bi(3,e,e.return),$o(3,e)}catch(w){ye(e,e.return,w)}try{bi(5,e,e.return)}catch(w){ye(e,e.return,w)}}break;case 1:_t(t,e),It(e),r&512&&n!==null&&_r(n,n.return);break;case 5:if(_t(t,e),It(e),r&512&&n!==null&&_r(n,n.return),e.flags&32){var i=e.stateNode;try{Di(i,"")}catch(w){ye(e,e.return,w)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&qf(i,s),da(l,o);var c=da(l,s);for(o=0;o<a.length;o+=2){var d=a[o],h=a[o+1];d==="style"?Yf(i,h):d==="dangerouslySetInnerHTML"?Kf(i,h):d==="children"?Di(i,h):xu(i,d,h,c)}switch(l){case"input":oa(i,s);break;case"textarea":Wf(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?Sr(i,!!s.multiple,f,!1):p!==!!s.multiple&&(s.defaultValue!=null?Sr(i,!!s.multiple,s.defaultValue,!0):Sr(i,!!s.multiple,s.multiple?[]:"",!1))}i[Wi]=s}catch(w){ye(e,e.return,w)}}break;case 6:if(_t(t,e),It(e),r&4){if(e.stateNode===null)throw Error(P(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(w){ye(e,e.return,w)}}break;case 3:if(_t(t,e),It(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{$i(t.containerInfo)}catch(w){ye(e,e.return,w)}break;case 4:_t(t,e),It(e);break;case 13:_t(t,e),It(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Zu=xe())),r&4&&Md(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Re=(c=Re)||d,_t(t,e),Re=c):_t(t,e),It(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(F=e,d=e.child;d!==null;){for(h=F=d;F!==null;){switch(p=F,f=p.child,p.tag){case 0:case 11:case 14:case 15:bi(4,p,p.return);break;case 1:_r(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(w){ye(r,n,w)}}break;case 5:_r(p,p.return);break;case 22:if(p.memoizedState!==null){Bd(h);continue}}f!==null?(f.return=p,F=f):Bd(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=h.stateNode,a=h.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Jf("display",o))}catch(w){ye(e,e.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(w){ye(e,e.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:_t(t,e),It(e),r&4&&Md(e);break;case 21:break;default:_t(t,e),It(e)}}function It(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(_m(n)){var r=n;break e}n=n.return}throw Error(P(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Di(i,""),r.flags&=-33);var s=Dd(e);$a(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Dd(e);Ba(e,l,o);break;default:throw Error(P(161))}}catch(a){ye(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function j0(e,t,n){F=e,jm(e)}function jm(e,t,n){for(var r=(e.mode&1)!==0;F!==null;){var i=F,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ts;if(!o){var l=i.alternate,a=l!==null&&l.memoizedState!==null||Re;l=Ts;var c=Re;if(Ts=o,(Re=a)&&!c)for(F=i;F!==null;)o=F,a=o.child,o.tag===22&&o.memoizedState!==null?$d(i):a!==null?(a.return=o,F=a):$d(i);for(;s!==null;)F=s,jm(s),s=s.sibling;F=i,Ts=l,Re=c}zd(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,F=s):zd(e)}}function zd(e){for(;F!==null;){var t=F;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Re||$o(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Re)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:St(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Sd(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Sd(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&$i(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}Re||t.flags&512&&za(t)}catch(p){ye(t,t.return,p)}}if(t===e){F=null;break}if(n=t.sibling,n!==null){n.return=t.return,F=n;break}F=t.return}}function Bd(e){for(;F!==null;){var t=F;if(t===e){F=null;break}var n=t.sibling;if(n!==null){n.return=t.return,F=n;break}F=t.return}}function $d(e){for(;F!==null;){var t=F;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{$o(4,t)}catch(a){ye(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(a){ye(t,i,a)}}var s=t.return;try{za(t)}catch(a){ye(t,s,a)}break;case 5:var o=t.return;try{za(t)}catch(a){ye(t,o,a)}}}catch(a){ye(t,t.return,a)}if(t===e){F=null;break}var l=t.sibling;if(l!==null){l.return=t.return,F=l;break}F=t.return}}var C0=Math.ceil,xo=Yt.ReactCurrentDispatcher,Gu=Yt.ReactCurrentOwner,mt=Yt.ReactCurrentBatchConfig,G=0,Te=null,Se=null,Ne=0,et=0,kr=bn(0),Ee=0,Xi=null,Jn=0,Uo=0,Xu=0,Ti=null,Ve=null,Zu=0,zr=1/0,Bt=null,_o=!1,Ua=null,wn=null,Ps=!1,hn=null,ko=0,Pi=0,Ha=null,Qs=-1,Ks=0;function Be(){return G&6?xe():Qs!==-1?Qs:Qs=xe()}function xn(e){return e.mode&1?G&2&&Ne!==0?Ne&-Ne:a0.transition!==null?(Ks===0&&(Ks=ap()),Ks):(e=te,e!==0||(e=window.event,e=e===void 0?16:mp(e.type)),e):1}function Tt(e,t,n,r){if(50<Pi)throw Pi=0,Ha=null,Error(P(185));rs(e,n,r),(!(G&2)||e!==Te)&&(e===Te&&(!(G&2)&&(Uo|=n),Ee===4&&ln(e,Ne)),Ke(e,r),n===1&&G===0&&!(t.mode&1)&&(zr=xe()+500,Mo&&Tn()))}function Ke(e,t){var n=e.callbackNode;av(e,t);var r=io(e,e===Te?Ne:0);if(r===0)n!==null&&Yc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Yc(n),t===1)e.tag===0?l0(Ud.bind(null,e)):Ap(Ud.bind(null,e)),r0(function(){!(G&6)&&Tn()}),n=null;else{switch(up(r)){case 1:n=Cu;break;case 4:n=op;break;case 16:n=ro;break;case 536870912:n=lp;break;default:n=ro}n=Om(n,Cm.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Cm(e,t){if(Qs=-1,Ks=0,G&6)throw Error(P(327));var n=e.callbackNode;if(Tr()&&e.callbackNode!==n)return null;var r=io(e,e===Te?Ne:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=So(e,r);else{t=r;var i=G;G|=2;var s=bm();(Te!==e||Ne!==t)&&(Bt=null,zr=xe()+500,Vn(e,t));do try{T0();break}catch(l){Em(e,l)}while(!0);Mu(),xo.current=s,G=i,Se!==null?t=0:(Te=null,Ne=0,t=Ee)}if(t!==0){if(t===2&&(i=ga(e),i!==0&&(r=i,t=Va(e,i))),t===1)throw n=Xi,Vn(e,0),ln(e,r),Ke(e,xe()),n;if(t===6)ln(e,r);else{if(i=e.current.alternate,!(r&30)&&!E0(i)&&(t=So(e,r),t===2&&(s=ga(e),s!==0&&(r=s,t=Va(e,s))),t===1))throw n=Xi,Vn(e,0),ln(e,r),Ke(e,xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(P(345));case 2:Dn(e,Ve,Bt);break;case 3:if(ln(e,r),(r&130023424)===r&&(t=Zu+500-xe(),10<t)){if(io(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Be(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ja(Dn.bind(null,e,Ve,Bt),t);break}Dn(e,Ve,Bt);break;case 4:if(ln(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-bt(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=xe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*C0(r/1960))-r,10<r){e.timeoutHandle=ja(Dn.bind(null,e,Ve,Bt),r);break}Dn(e,Ve,Bt);break;case 5:Dn(e,Ve,Bt);break;default:throw Error(P(329))}}}return Ke(e,xe()),e.callbackNode===n?Cm.bind(null,e):null}function Va(e,t){var n=Ti;return e.current.memoizedState.isDehydrated&&(Vn(e,t).flags|=256),e=So(e,t),e!==2&&(t=Ve,Ve=n,t!==null&&qa(t)),e}function qa(e){Ve===null?Ve=e:Ve.push.apply(Ve,e)}function E0(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Pt(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ln(e,t){for(t&=~Xu,t&=~Uo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-bt(t),r=1<<n;e[n]=-1,t&=~r}}function Ud(e){if(G&6)throw Error(P(327));Tr();var t=io(e,0);if(!(t&1))return Ke(e,xe()),null;var n=So(e,t);if(e.tag!==0&&n===2){var r=ga(e);r!==0&&(t=r,n=Va(e,r))}if(n===1)throw n=Xi,Vn(e,0),ln(e,t),Ke(e,xe()),n;if(n===6)throw Error(P(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Dn(e,Ve,Bt),Ke(e,xe()),null}function ec(e,t){var n=G;G|=1;try{return e(t)}finally{G=n,G===0&&(zr=xe()+500,Mo&&Tn())}}function Yn(e){hn!==null&&hn.tag===0&&!(G&6)&&Tr();var t=G;G|=1;var n=mt.transition,r=te;try{if(mt.transition=null,te=1,e)return e()}finally{te=r,mt.transition=n,G=t,!(G&6)&&Tn()}}function tc(){et=kr.current,ce(kr)}function Vn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,n0(n)),Se!==null)for(n=Se.return;n!==null;){var r=n;switch(Ru(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&uo();break;case 3:Dr(),ce(We),ce(Fe),Vu();break;case 5:Hu(r);break;case 4:Dr();break;case 13:ce(pe);break;case 19:ce(pe);break;case 10:zu(r.type._context);break;case 22:case 23:tc()}n=n.return}if(Te=e,Se=e=_n(e.current,null),Ne=et=t,Ee=0,Xi=null,Xu=Uo=Jn=0,Ve=Ti=null,Un!==null){for(t=0;t<Un.length;t++)if(n=Un[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Un=null}return e}function Em(e,t){do{var n=Se;try{if(Mu(),Vs.current=wo,vo){for(var r=me.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}vo=!1}if(Kn=0,be=Ce=me=null,Ei=!1,Ji=0,Gu.current=null,n===null||n.return===null){Ee=1,Xi=t,Se=null;break}e:{var s=e,o=n.return,l=n,a=t;if(t=Ne,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var c=a,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=Pd(o);if(f!==null){f.flags&=-257,Nd(f,o,l,s,t),f.mode&1&&Td(s,c,t),t=f,a=c;var y=t.updateQueue;if(y===null){var w=new Set;w.add(a),t.updateQueue=w}else y.add(a);break e}else{if(!(t&1)){Td(s,c,t),nc();break e}a=Error(P(426))}}else if(he&&l.mode&1){var x=Pd(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Nd(x,o,l,s,t),Fu(Mr(a,l));break e}}s=a=Mr(a,l),Ee!==4&&(Ee=2),Ti===null?Ti=[s]:Ti.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var m=um(s,a,t);kd(s,m);break e;case 1:l=a;var g=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(wn===null||!wn.has(v)))){s.flags|=65536,t&=-t,s.lanes|=t;var S=cm(s,l,t);kd(s,S);break e}}s=s.return}while(s!==null)}Pm(n)}catch(E){t=E,Se===n&&n!==null&&(Se=n=n.return);continue}break}while(!0)}function bm(){var e=xo.current;return xo.current=wo,e===null?wo:e}function nc(){(Ee===0||Ee===3||Ee===2)&&(Ee=4),Te===null||!(Jn&268435455)&&!(Uo&268435455)||ln(Te,Ne)}function So(e,t){var n=G;G|=2;var r=bm();(Te!==e||Ne!==t)&&(Bt=null,Vn(e,t));do try{b0();break}catch(i){Em(e,i)}while(!0);if(Mu(),G=n,xo.current=r,Se!==null)throw Error(P(261));return Te=null,Ne=0,Ee}function b0(){for(;Se!==null;)Tm(Se)}function T0(){for(;Se!==null&&!Zy();)Tm(Se)}function Tm(e){var t=Im(e.alternate,e,et);e.memoizedProps=e.pendingProps,t===null?Pm(e):Se=t,Gu.current=null}function Pm(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=_0(n,t),n!==null){n.flags&=32767,Se=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ee=6,Se=null;return}}else if(n=x0(n,t,et),n!==null){Se=n;return}if(t=t.sibling,t!==null){Se=t;return}Se=t=e}while(t!==null);Ee===0&&(Ee=5)}function Dn(e,t,n){var r=te,i=mt.transition;try{mt.transition=null,te=1,P0(e,t,n,r)}finally{mt.transition=i,te=r}return null}function P0(e,t,n,r){do Tr();while(hn!==null);if(G&6)throw Error(P(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(P(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(uv(e,s),e===Te&&(Se=Te=null,Ne=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ps||(Ps=!0,Om(ro,function(){return Tr(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=mt.transition,mt.transition=null;var o=te;te=1;var l=G;G|=4,Gu.current=null,S0(e,n),Sm(n,e),Jv(ka),so=!!_a,ka=_a=null,e.current=n,j0(n),ev(),G=l,te=o,mt.transition=s}else e.current=n;if(Ps&&(Ps=!1,hn=e,ko=i),s=e.pendingLanes,s===0&&(wn=null),rv(n.stateNode),Ke(e,xe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(_o)throw _o=!1,e=Ua,Ua=null,e;return ko&1&&e.tag!==0&&Tr(),s=e.pendingLanes,s&1?e===Ha?Pi++:(Pi=0,Ha=e):Pi=0,Tn(),null}function Tr(){if(hn!==null){var e=up(ko),t=mt.transition,n=te;try{if(mt.transition=null,te=16>e?16:e,hn===null)var r=!1;else{if(e=hn,hn=null,ko=0,G&6)throw Error(P(331));var i=G;for(G|=4,F=e.current;F!==null;){var s=F,o=s.child;if(F.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var c=l[a];for(F=c;F!==null;){var d=F;switch(d.tag){case 0:case 11:case 15:bi(8,d,s)}var h=d.child;if(h!==null)h.return=d,F=h;else for(;F!==null;){d=F;var p=d.sibling,f=d.return;if(xm(d),d===c){F=null;break}if(p!==null){p.return=f,F=p;break}F=f}}}var y=s.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var x=w.sibling;w.sibling=null,w=x}while(w!==null)}}F=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,F=o;else e:for(;F!==null;){if(s=F,s.flags&2048)switch(s.tag){case 0:case 11:case 15:bi(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,F=m;break e}F=s.return}}var g=e.current;for(F=g;F!==null;){o=F;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,F=v;else e:for(o=g;F!==null;){if(l=F,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:$o(9,l)}}catch(E){ye(l,l.return,E)}if(l===o){F=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,F=S;break e}F=l.return}}if(G=i,Tn(),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(Lo,e)}catch{}r=!0}return r}finally{te=n,mt.transition=t}}return!1}function Hd(e,t,n){t=Mr(n,t),t=um(e,t,1),e=vn(e,t,1),t=Be(),e!==null&&(rs(e,1,t),Ke(e,t))}function ye(e,t,n){if(e.tag===3)Hd(e,e,n);else for(;t!==null;){if(t.tag===3){Hd(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(wn===null||!wn.has(r))){e=Mr(n,e),e=cm(t,e,1),t=vn(t,e,1),e=Be(),t!==null&&(rs(t,1,e),Ke(t,e));break}}t=t.return}}function N0(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Be(),e.pingedLanes|=e.suspendedLanes&n,Te===e&&(Ne&n)===n&&(Ee===4||Ee===3&&(Ne&130023424)===Ne&&500>xe()-Zu?Vn(e,0):Xu|=n),Ke(e,t)}function Nm(e,t){t===0&&(e.mode&1?(t=ws,ws<<=1,!(ws&130023424)&&(ws=4194304)):t=1);var n=Be();e=Qt(e,t),e!==null&&(rs(e,t,n),Ke(e,n))}function I0(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Nm(e,n)}function O0(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(P(314))}r!==null&&r.delete(t),Nm(e,n)}var Im;Im=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||We.current)qe=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return qe=!1,w0(e,t,n);qe=!!(e.flags&131072)}else qe=!1,he&&t.flags&1048576&&Rp(t,fo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ws(e,t),e=t.pendingProps;var i=Ar(t,Fe.current);br(t,n),i=Wu(null,t,r,e,i,n);var s=Qu();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Qe(r)?(s=!0,co(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,$u(t),i.updater=Bo,t.stateNode=i,i._reactInternals=t,Ia(t,r,e,n),t=Aa(null,t,r,!0,s,n)):(t.tag=0,he&&s&&Au(t),ze(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ws(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=A0(r),e=St(r,e),i){case 0:t=La(null,t,r,e,n);break e;case 1:t=Ld(null,t,r,e,n);break e;case 11:t=Id(null,t,r,e,n);break e;case 14:t=Od(null,t,r,St(r.type,e),n);break e}throw Error(P(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:St(r,i),La(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:St(r,i),Ld(e,t,r,i,n);case 3:e:{if(pm(t),e===null)throw Error(P(387));r=t.pendingProps,s=t.memoizedState,i=s.element,$p(e,t),go(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Mr(Error(P(423)),t),t=Ad(e,t,r,n,i);break e}else if(r!==i){i=Mr(Error(P(424)),t),t=Ad(e,t,r,n,i);break e}else for(nt=yn(t.stateNode.containerInfo.firstChild),it=t,he=!0,Et=null,n=zp(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Rr(),r===i){t=Kt(e,t,n);break e}ze(e,t,r,n)}t=t.child}return t;case 5:return Up(t),e===null&&Ta(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,Sa(r,i)?o=null:s!==null&&Sa(r,s)&&(t.flags|=32),fm(e,t),ze(e,t,o,n),t.child;case 6:return e===null&&Ta(t),null;case 13:return mm(e,t,n);case 4:return Uu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Fr(t,null,r,n):ze(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:St(r,i),Id(e,t,r,i,n);case 7:return ze(e,t,t.pendingProps,n),t.child;case 8:return ze(e,t,t.pendingProps.children,n),t.child;case 12:return ze(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,oe(po,r._currentValue),r._currentValue=o,s!==null)if(Pt(s.value,o)){if(s.children===i.children&&!We.current){t=Kt(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=Vt(-1,n&-n),a.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?a.next=a:(a.next=d.next,d.next=a),c.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Pa(s.return,n,t),l.lanes|=n;break}a=a.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(P(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Pa(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ze(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,br(t,n),i=gt(i),r=r(i),t.flags|=1,ze(e,t,r,n),t.child;case 14:return r=t.type,i=St(r,t.pendingProps),i=St(r.type,i),Od(e,t,r,i,n);case 15:return dm(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:St(r,i),Ws(e,t),t.tag=1,Qe(r)?(e=!0,co(t)):e=!1,br(t,n),am(t,r,i),Ia(t,r,i,n),Aa(null,t,r,!0,e,n);case 19:return gm(e,t,n);case 22:return hm(e,t,n)}throw Error(P(156,t.tag))};function Om(e,t){return sp(e,t)}function L0(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pt(e,t,n,r){return new L0(e,t,n,r)}function rc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function A0(e){if(typeof e=="function")return rc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ku)return 11;if(e===Su)return 14}return 2}function _n(e,t){var n=e.alternate;return n===null?(n=pt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Js(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")rc(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case hr:return qn(n.children,i,s,t);case _u:o=8,i|=8;break;case ta:return e=pt(12,n,t,i|2),e.elementType=ta,e.lanes=s,e;case na:return e=pt(13,n,t,i),e.elementType=na,e.lanes=s,e;case ra:return e=pt(19,n,t,i),e.elementType=ra,e.lanes=s,e;case Uf:return Ho(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Bf:o=10;break e;case $f:o=9;break e;case ku:o=11;break e;case Su:o=14;break e;case tn:o=16,r=null;break e}throw Error(P(130,e==null?e:typeof e,""))}return t=pt(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function qn(e,t,n,r){return e=pt(7,e,r,t),e.lanes=n,e}function Ho(e,t,n,r){return e=pt(22,e,r,t),e.elementType=Uf,e.lanes=n,e.stateNode={isHidden:!1},e}function Ol(e,t,n){return e=pt(6,e,null,t),e.lanes=n,e}function Ll(e,t,n){return t=pt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function R0(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fl(0),this.expirationTimes=fl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fl(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ic(e,t,n,r,i,s,o,l,a){return e=new R0(e,t,n,l,a),t===1?(t=1,s===!0&&(t|=8)):t=0,s=pt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},$u(s),e}function F0(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:dr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Lm(e){if(!e)return jn;e=e._reactInternals;e:{if(Zn(e)!==e||e.tag!==1)throw Error(P(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Qe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(P(171))}if(e.tag===1){var n=e.type;if(Qe(n))return Lp(e,n,t)}return t}function Am(e,t,n,r,i,s,o,l,a){return e=ic(n,r,!0,e,i,s,o,l,a),e.context=Lm(null),n=e.current,r=Be(),i=xn(n),s=Vt(r,i),s.callback=t??null,vn(n,s,i),e.current.lanes=i,rs(e,i,r),Ke(e,r),e}function Vo(e,t,n,r){var i=t.current,s=Be(),o=xn(i);return n=Lm(n),t.context===null?t.context=n:t.pendingContext=n,t=Vt(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=vn(i,t,o),e!==null&&(Tt(e,i,o,s),Hs(e,i,o)),o}function jo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Vd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function sc(e,t){Vd(e,t),(e=e.alternate)&&Vd(e,t)}function D0(){return null}var Rm=typeof reportError=="function"?reportError:function(e){console.error(e)};function oc(e){this._internalRoot=e}qo.prototype.render=oc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(P(409));Vo(e,t,null,null)};qo.prototype.unmount=oc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Yn(function(){Vo(null,e,null,null)}),t[Wt]=null}};function qo(e){this._internalRoot=e}qo.prototype.unstable_scheduleHydration=function(e){if(e){var t=hp();e={blockedOn:null,target:e,priority:t};for(var n=0;n<on.length&&t!==0&&t<on[n].priority;n++);on.splice(n,0,e),n===0&&pp(e)}};function lc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Wo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function qd(){}function M0(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=jo(o);s.call(c)}}var o=Am(t,r,e,0,null,!1,!1,"",qd);return e._reactRootContainer=o,e[Wt]=o.current,Vi(e.nodeType===8?e.parentNode:e),Yn(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var c=jo(a);l.call(c)}}var a=ic(e,0,!1,null,null,!1,!1,"",qd);return e._reactRootContainer=a,e[Wt]=a.current,Vi(e.nodeType===8?e.parentNode:e),Yn(function(){Vo(t,a,n,r)}),a}function Qo(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var a=jo(o);l.call(a)}}Vo(t,o,e,i)}else o=M0(n,t,e,i,r);return jo(o)}cp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=vi(t.pendingLanes);n!==0&&(Eu(t,n|1),Ke(t,xe()),!(G&6)&&(zr=xe()+500,Tn()))}break;case 13:Yn(function(){var r=Qt(e,1);if(r!==null){var i=Be();Tt(r,e,1,i)}}),sc(e,1)}};bu=function(e){if(e.tag===13){var t=Qt(e,134217728);if(t!==null){var n=Be();Tt(t,e,134217728,n)}sc(e,134217728)}};dp=function(e){if(e.tag===13){var t=xn(e),n=Qt(e,t);if(n!==null){var r=Be();Tt(n,e,t,r)}sc(e,t)}};hp=function(){return te};fp=function(e,t){var n=te;try{return te=e,t()}finally{te=n}};fa=function(e,t,n){switch(t){case"input":if(oa(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Do(r);if(!i)throw Error(P(90));Vf(r),oa(r,i)}}}break;case"textarea":Wf(e,n);break;case"select":t=n.value,t!=null&&Sr(e,!!n.multiple,t,!1)}};Zf=ec;ep=Yn;var z0={usingClientEntryPoint:!1,Events:[ss,gr,Do,Gf,Xf,ec]},li={findFiberByHostInstance:$n,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},B0={bundleType:li.bundleType,version:li.version,rendererPackageName:li.rendererPackageName,rendererConfig:li.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Yt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=rp(e),e===null?null:e.stateNode},findFiberByHostInstance:li.findFiberByHostInstance||D0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ns=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ns.isDisabled&&Ns.supportsFiber)try{Lo=Ns.inject(B0),Ft=Ns}catch{}}ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z0;ot.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lc(t))throw Error(P(200));return F0(e,t,null,n)};ot.createRoot=function(e,t){if(!lc(e))throw Error(P(299));var n=!1,r="",i=Rm;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=ic(e,1,!1,null,null,n,!1,r,i),e[Wt]=t.current,Vi(e.nodeType===8?e.parentNode:e),new oc(t)};ot.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(P(188)):(e=Object.keys(e).join(","),Error(P(268,e)));return e=rp(t),e=e===null?null:e.stateNode,e};ot.flushSync=function(e){return Yn(e)};ot.hydrate=function(e,t,n){if(!Wo(t))throw Error(P(200));return Qo(null,e,t,!0,n)};ot.hydrateRoot=function(e,t,n){if(!lc(e))throw Error(P(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Rm;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Am(t,null,e,1,n??null,i,!1,s,o),e[Wt]=t.current,Vi(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new qo(t)};ot.render=function(e,t,n){if(!Wo(t))throw Error(P(200));return Qo(null,e,t,!1,n)};ot.unmountComponentAtNode=function(e){if(!Wo(e))throw Error(P(40));return e._reactRootContainer?(Yn(function(){Qo(null,null,e,!1,function(){e._reactRootContainer=null,e[Wt]=null})}),!0):!1};ot.unstable_batchedUpdates=ec;ot.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Wo(n))throw Error(P(200));if(e==null||e._reactInternals===void 0)throw Error(P(38));return Qo(e,t,n,!1,r)};ot.version="18.3.1-next-f1338f8080-20240426";function Fm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Fm)}catch(e){console.error(e)}}Fm(),Ff.exports=ot;var $0=Ff.exports,Wd=$0;Zl.createRoot=Wd.createRoot,Zl.hydrateRoot=Wd.hydrateRoot;const U0="modulepreload",H0=function(e){return"https://ckdev88.github.io/mubooks/"+e},Qd={},Br=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.all(n.map(l=>{if(l=H0(l),l in Qd)return;Qd[l]=!0;const a=l.endsWith(".css"),c=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const d=document.createElement("link");if(d.rel=a?"stylesheet":U0,a||(d.as="script",d.crossOrigin=""),d.href=l,o&&d.setAttribute("nonce",o),document.head.appendChild(d),a)return new Promise((h,p)=>{d.addEventListener("load",h),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}return i.then(()=>t()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})},V0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Br(async()=>{const{default:r}=await Promise.resolve().then(()=>Qr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class ac extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class q0 extends ac{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class W0 extends ac{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Q0 extends ac{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Wa;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Wa||(Wa={}));var K0=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?s(d.value):i(d.value).then(l,a)}c((r=r.apply(e,t||[])).next())})};class J0{constructor(t,{headers:n={},customFetch:r,region:i=Wa.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=V0(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return K0(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=n;let l={},{region:a}=n;a||(a=this.region),a&&a!=="any"&&(l["x-region"]=a);let c;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(l["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(l["Content-Type"]="application/json",c=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:c}).catch(y=>{throw new q0(y)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new W0(d);if(!d.ok)throw new Q0(d);let p=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),f;return p==="application/json"?f=yield d.json():p==="application/octet-stream"?f=yield d.blob():p==="text/event-stream"?f=d:p==="multipart/form-data"?f=yield d.formData():f=yield d.text(),{data:f,error:null}}catch(i){return{data:null,error:i}}})}}var ft={},uc={},Ko={},ls={},Jo={},Yo={},Y0=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},$r=Y0();const G0=$r.fetch,Dm=$r.fetch.bind($r),Mm=$r.Headers,X0=$r.Request,Z0=$r.Response,Qr=Object.freeze(Object.defineProperty({__proto__:null,Headers:Mm,Request:X0,Response:Z0,default:Dm,fetch:G0},Symbol.toStringTag,{value:"Module"})),ew=py(Qr);var cc={};Object.defineProperty(cc,"__esModule",{value:!0});class tw extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}cc.default=tw;var zm=Ye&&Ye.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Yo,"__esModule",{value:!0});const nw=zm(ew),rw=zm(cc);let iw=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=nw.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var o,l,a;let c=null,d=null,h=null,p=s.status,f=s.statusText;if(s.ok){if(this.method!=="HEAD"){const m=await s.text();m===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=m:d=JSON.parse(m))}const w=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),x=(l=s.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");w&&x&&x.length>1&&(h=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,p=406,f="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const w=await s.text();try{c=JSON.parse(w),Array.isArray(c)&&s.status===404&&(d=[],c=null,p=200,f="OK")}catch{s.status===404&&w===""?(p=204,f="No Content"):c={message:w}}if(c&&this.isMaybeSingle&&(!((a=c==null?void 0:c.details)===null||a===void 0)&&a.includes("0 rows"))&&(c=null,p=200,f="OK"),c&&this.shouldThrowOnError)throw new rw.default(c)}return{error:c,data:d,count:h,status:p,statusText:f}});return this.shouldThrowOnError||(i=i.catch(s=>{var o,l,a;return{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(l=s==null?void 0:s.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(a=s==null?void 0:s.code)!==null&&a!==void 0?a:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,n)}};Yo.default=iw;var sw=Ye&&Ye.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Jo,"__esModule",{value:!0});const ow=sw(Yo);let lw=class extends ow.default{select(t){let n=!1;const r=(t??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:s=i}={}){const o=s?`${s}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:i=r}={}){const s=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:s=!1,format:o="text"}={}){var l;const a=[t?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${a};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Jo.default=lw;var aw=Ye&&Ye.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ls,"__esModule",{value:!0});const uw=aw(Jo);let cw=class extends uw.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${s}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};ls.default=cw;var dw=Ye&&Ye.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ko,"__esModule",{value:!0});const ai=dw(ls);let hw=class{constructor(t,{headers:n={},schema:r,fetch:i}){this.url=t,this.headers=n,this.schema=r,this.fetch=i}select(t,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let s=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new ai.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),r||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(t)){const o=t.reduce((l,a)=>l.concat(Object.keys(a)),[]);if(o.length>0){const l=[...new Set(o)].map(a=>`"${a}"`);this.url.searchParams.set("columns",l.join(","))}}return new ai.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:s=!0}={}){const o="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),s||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const a=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(a.length>0){const c=[...new Set(a)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new ai.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new ai.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new ai.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Ko.default=hw;var Go={},Xo={};Object.defineProperty(Xo,"__esModule",{value:!0});Xo.version=void 0;Xo.version="0.0.0-automated";Object.defineProperty(Go,"__esModule",{value:!0});Go.DEFAULT_HEADERS=void 0;const fw=Xo;Go.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${fw.version}`};var Bm=Ye&&Ye.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(uc,"__esModule",{value:!0});const pw=Bm(Ko),mw=Bm(ls),gw=Go;let yw=class $m{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},gw.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=i}from(t){const n=new URL(`${this.url}/${t}`);return new pw.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new $m(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:s}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let a;r||i?(o=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(o="POST",a=n);const c=Object.assign({},this.headers);return s&&(c.Prefer=`count=${s}`),new mw.default({method:o,url:l,headers:c,schema:this.schemaName,body:a,fetch:this.fetch,allowEmpty:!1})}};uc.default=yw;var as=Ye&&Ye.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ft,"__esModule",{value:!0});ft.PostgrestBuilder=ft.PostgrestTransformBuilder=ft.PostgrestFilterBuilder=ft.PostgrestQueryBuilder=ft.PostgrestClient=void 0;const Um=as(uc);ft.PostgrestClient=Um.default;const Hm=as(Ko);ft.PostgrestQueryBuilder=Hm.default;const Vm=as(ls);ft.PostgrestFilterBuilder=Vm.default;const qm=as(Jo);ft.PostgrestTransformBuilder=qm.default;const Wm=as(Yo);ft.PostgrestBuilder=Wm.default;var vw=ft.default={PostgrestClient:Um.default,PostgrestQueryBuilder:Hm.default,PostgrestFilterBuilder:Vm.default,PostgrestTransformBuilder:qm.default,PostgrestBuilder:Wm.default};const{PostgrestClient:ww,PostgrestQueryBuilder:eb,PostgrestFilterBuilder:tb,PostgrestTransformBuilder:nb,PostgrestBuilder:rb}=vw,xw="2.10.2",_w={"X-Client-Info":`realtime-js/${xw}`},kw="1.0.0",Qm=1e4,Sw=1e3;var Pr;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Pr||(Pr={}));var Ze;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ze||(Ze={}));var Ct;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ct||(Ct={}));var Qa;(function(e){e.websocket="websocket"})(Qa||(Qa={}));var zn;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(zn||(zn={}));class jw{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),s=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(t.slice(o,o+i));o=o+i;const a=r.decode(t.slice(o,o+s));o=o+s;const c=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:a,payload:c}}}class Km{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ie;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ie||(ie={}));const Kd=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((s,o)=>(s[o]=Cw(o,e,t,i),s),{})},Cw=(e,t,n,r)=>{const i=t.find(l=>l.name===e),s=i==null?void 0:i.type,o=n[e];return s&&!r.includes(s)?Jm(s,o):Ka(o)},Jm=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return Pw(t,n)}switch(e){case ie.bool:return Ew(t);case ie.float4:case ie.float8:case ie.int2:case ie.int4:case ie.int8:case ie.numeric:case ie.oid:return bw(t);case ie.json:case ie.jsonb:return Tw(t);case ie.timestamp:return Nw(t);case ie.abstime:case ie.date:case ie.daterange:case ie.int4range:case ie.int8range:case ie.money:case ie.reltime:case ie.text:case ie.time:case ie.timestamptz:case ie.timetz:case ie.tsrange:case ie.tstzrange:return Ka(t);default:return Ka(t)}},Ka=e=>e,Ew=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},bw=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Tw=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Pw=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let s;const o=e.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(l=>Jm(t,l))}return e},Nw=e=>typeof e=="string"?e.replace(" ","T"):e,Ym=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Al{constructor(t,n,r={},i=Qm){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Jd;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Jd||(Jd={}));class Ni{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ni.syncState(this.state,i,s,o),this.pendingDiffs.forEach(a=>{this.state=Ni.syncDiff(this.state,a,s,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Ni.syncDiff(this.state,i,s,o),l())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const s=this.cloneDeep(t),o=this.transformState(n),l={},a={};return this.map(s,(c,d)=>{o[c]||(a[c]=d)}),this.map(o,(c,d)=>{const h=s[c];if(h){const p=d.map(x=>x.presence_ref),f=h.map(x=>x.presence_ref),y=d.filter(x=>f.indexOf(x.presence_ref)<0),w=h.filter(x=>p.indexOf(x.presence_ref)<0);y.length>0&&(l[c]=y),w.length>0&&(a[c]=w)}else l[c]=d}),this.syncDiff(s,{joins:l,leaves:a},r,i)}static syncDiff(t,n,r,i){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(l,a)=>{var c;const d=(c=t[l])!==null&&c!==void 0?c:[];if(t[l]=this.cloneDeep(a),d.length>0){const h=t[l].map(f=>f.presence_ref),p=d.filter(f=>h.indexOf(f.presence_ref)<0);t[l].unshift(...p)}r(l,d,a)}),this.map(o,(l,a)=>{let c=t[l];if(!c)return;const d=a.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=c,i(l,c,a),c.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Yd;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Yd||(Yd={}));var Gd;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes"})(Gd||(Gd={}));var Xd;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Xd||(Xd={}));class dc{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Ze.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Al(this,Ct.join,this.params,this.timeout),this.rejoinTimer=new Km(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ze.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ze.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ze.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ze.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ct.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new Ni(this),this.broadcastEndpointURL=Ym(this.socket.endPoint)+"/api/broadcast"}subscribe(t,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:o,private:l}}=this.params;this._onError(d=>t&&t("CHANNEL_ERROR",d)),this._onClose(()=>t&&t("CLOSED"));const a={},c={broadcast:s,presence:o,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&i!==void 0?i:[],private:l};this.socket.accessToken&&(a.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:c},a)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",({postgres_changes:d})=>{var h;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),d===void 0){t&&t("SUBSCRIBED");return}else{const p=this.bindings.postgres_changes,f=(h=p==null?void 0:p.length)!==null&&h!==void 0?h:0,y=[];for(let w=0;w<f;w++){const x=p[w],{filter:{event:m,schema:g,table:v,filter:S}}=x,E=d&&d[w];if(E&&E.event===m&&E.schema===g&&E.table===v&&E.filter===S)y.push(Object.assign(Object.assign({},x),{id:E.id}));else{this.unsubscribe(),t&&t("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t("SUBSCRIBED");return}}).receive("error",d=>{t&&t("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t&&t("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessToken?`Bearer ${this.socket.accessToken}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o}]})};try{const a=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=a.body)===null||i===void 0?void 0:i.cancel()),a.ok?"ok":"error"}catch(a){return a.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,l,a;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((a=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||a===void 0)&&a.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ze.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ct.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const i=new Al(this,Ct.leave,{},t);i.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(t,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Al(this,t,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,s;const o=t.toLocaleLowerCase(),{close:l,error:a,leave:c,join:d}=Ct;if(r&&[l,a,c,d].indexOf(o)>=0&&r!==this._joinRef())return;let p=this._onMessage(o,n,r);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var y,w,x;return((y=f.filter)===null||y===void 0?void 0:y.event)==="*"||((x=(w=f.filter)===null||w===void 0?void 0:w.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(f=>f.callback(p,r)):(s=this.bindings[o])===null||s===void 0||s.filter(f=>{var y,w,x,m,g,v;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const S=f.id,E=(y=f.filter)===null||y===void 0?void 0:y.event;return S&&((w=n.ids)===null||w===void 0?void 0:w.includes(S))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const S=(g=(m=f==null?void 0:f.filter)===null||m===void 0?void 0:m.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return S==="*"||S===((v=n==null?void 0:n.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof p=="object"&&"ids"in p){const y=p.data,{schema:w,table:x,commit_timestamp:m,type:g,errors:v}=y;p=Object.assign(Object.assign({},{schema:w,table:x,commit_timestamp:m,eventType:g,new:{},old:{},errors:v}),this._getPayloadRecords(y))}f.callback(p,r)})}_isClosed(){return this.state===Ze.closed}_isJoined(){return this.state===Ze.joined}_isJoining(){return this.state===Ze.joining}_isLeaving(){return this.state===Ze.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&dc.isEqual(i.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ct.close,{},t)}_onError(t){this._on(Ct.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ze.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Kd(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Kd(t.columns,t.old_record)),n}}const Iw=()=>{},Ow=typeof WebSocket<"u";class Lw{constructor(t,n){var r;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=_w,this.params={},this.timeout=Qm,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Iw,this.conn=null,this.sendBuffer=[],this.serializer=new jw,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...l)=>Br(async()=>{const{default:a}=await Promise.resolve().then(()=>Qr);return{default:a}},void 0).then(({default:a})=>a(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${Qa.websocket}`,this.httpEndpoint=Ym(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;i&&(this.accessToken=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(s,o)=>o(JSON.stringify(s)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Km(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(Ow){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new Aw(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),Br(async()=>{const{default:t}=await import("./browser-aRKZLKJW.js").then(n=>n.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Pr.connecting:return zn.Connecting;case Pr.open:return zn.Open;case Pr.closing:return zn.Closing;default:return zn.Closed}}isConnected(){return this.connectionState()===zn.Open}channel(t,n={config:{}}){const r=new dc(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){const{topic:n,event:r,payload:i,ref:s}=t,o=()=>{this.encode(t,l=>{var a;(a=this.conn)===null||a===void 0||a.send(l)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}setAuth(t){this.accessToken=t,this.channels.forEach(n=>{t&&n.updateJoinPayload({access_token:t}),n.joinedOnce&&n._isJoined()&&n._push(Ct.access_token,{access_token:t})})}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:kw}))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:i,payload:s,ref:o}=n;(o&&o===this.pendingHeartbeatRef||i===(s==null?void 0:s.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${i} ${o&&"("+o+")"||""}`,s),this.channels.filter(l=>l._isMember(r)).forEach(l=>l._trigger(i,s,o)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ct.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(Sw,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class Aw{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Pr.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class hc extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ae(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Rw extends hc{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Zd extends hc{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var Fw=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?s(d.value):i(d.value).then(l,a)}c((r=r.apply(e,t||[])).next())})};const Gm=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Br(async()=>{const{default:r}=await Promise.resolve().then(()=>Qr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Dw=()=>Fw(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Br(()=>Promise.resolve().then(()=>Qr),void 0)).Response:Response});var Kr=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?s(d.value):i(d.value).then(l,a)}c((r=r.apply(e,t||[])).next())})};const Rl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Mw=(e,t)=>Kr(void 0,void 0,void 0,function*(){const n=yield Dw();e instanceof n?e.json().then(r=>{t(new Rw(Rl(r),e.status||500))}).catch(r=>{t(new Zd(Rl(r),r))}):t(new Zd(Rl(e),e))}),zw=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};function Zo(e,t,n,r,i,s){return Kr(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,zw(t,r,i,s)).then(a=>{if(!a.ok)throw a;return r!=null&&r.noResolveJson?a:a.json()}).then(a=>o(a)).catch(a=>Mw(a,l))})})}function Ja(e,t,n,r){return Kr(this,void 0,void 0,function*(){return Zo(e,"GET",t,n,r)})}function rn(e,t,n,r,i){return Kr(this,void 0,void 0,function*(){return Zo(e,"POST",t,r,i,n)})}function Bw(e,t,n,r,i){return Kr(this,void 0,void 0,function*(){return Zo(e,"PUT",t,r,i,n)})}function Xm(e,t,n,r,i){return Kr(this,void 0,void 0,function*(){return Zo(e,"DELETE",t,r,i,n)})}var ut=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?s(d.value):i(d.value).then(l,a)}c((r=r.apply(e,t||[])).next())})};const $w={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},eh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Uw{constructor(t,n={},r,i){this.url=t,this.headers=n,this.bucketId=r,this.fetch=Gm(i)}uploadOrUpdate(t,n,r,i){return ut(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},eh),i),l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",o.cacheControl)):(s=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType);const a=this._removeEmptyFolders(n),c=this._getFinalPath(a),d=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:t,body:s,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield d.json();return d.ok?{data:{path:a,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(s){if(Ae(s))return{data:null,error:s};throw s}})}upload(t,n,r){return ut(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return ut(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),o=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let a;const c=Object.assign({upsert:eh.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",c.cacheControl),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",c.cacheControl)):(a=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:a,headers:d}),p=yield h.json();return h.ok?{data:{path:s,fullPath:p.Key},error:null}:{data:null,error:p}}catch(a){if(Ae(a))return{data:null,error:a};throw a}})}createSignedUploadUrl(t,n){return ut(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield rn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+s.url),l=o.searchParams.get("token");if(!l)throw new hc("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(r){if(Ae(r))return{data:null,error:r};throw r}})}update(t,n,r){return ut(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return ut(this,void 0,void 0,function*(){try{return{data:yield rn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Ae(i))return{data:null,error:i};throw i}})}copy(t,n,r){return ut(this,void 0,void 0,function*(){try{return{data:{path:(yield rn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Ae(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return ut(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield rn(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(Ae(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return ut(this,void 0,void 0,function*(){try{const i=yield rn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(Ae(i))return{data:null,error:i};throw i}})}download(t,n){return ut(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=s?`?${s}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Ja(this.fetch,`${this.url}/${i}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Ae(l))return{data:null,error:l};throw l}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});a!==""&&i.push(a);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${c}`)}}}remove(t){return ut(this,void 0,void 0,function*(){try{return{data:yield Xm(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Ae(n))return{data:null,error:n};throw n}})}list(t,n,r){return ut(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},$w),n),{prefix:t||""});return{data:yield rn(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(Ae(i))return{data:null,error:i};throw i}})}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const Hw="2.6.0",Vw={"X-Client-Info":`storage-js/${Hw}`};var lr=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?s(d.value):i(d.value).then(l,a)}c((r=r.apply(e,t||[])).next())})};class qw{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},Vw),n),this.fetch=Gm(r)}listBuckets(){return lr(this,void 0,void 0,function*(){try{return{data:yield Ja(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ae(t))return{data:null,error:t};throw t}})}getBucket(t){return lr(this,void 0,void 0,function*(){try{return{data:yield Ja(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Ae(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return lr(this,void 0,void 0,function*(){try{return{data:yield rn(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ae(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return lr(this,void 0,void 0,function*(){try{return{data:yield Bw(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ae(r))return{data:null,error:r};throw r}})}emptyBucket(t){return lr(this,void 0,void 0,function*(){try{return{data:yield rn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Ae(n))return{data:null,error:n};throw n}})}deleteBucket(t){return lr(this,void 0,void 0,function*(){try{return{data:yield Xm(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Ae(n))return{data:null,error:n};throw n}})}}class Ww extends qw{constructor(t,n={},r){super(t,n,r)}from(t){return new Uw(this.url,this.headers,t,this.fetch)}}const Qw="2.44.3";let xi="";typeof Deno<"u"?xi="deno":typeof document<"u"?xi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?xi="react-native":xi="node";const Kw={"X-Client-Info":`supabase-js-${xi}/${Qw}`},Jw={headers:Kw},Yw={schema:"public"},Gw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Xw={};var Zw=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?s(d.value):i(d.value).then(l,a)}c((r=r.apply(e,t||[])).next())})};const ex=e=>{let t;return e?t=e:typeof fetch>"u"?t=Dm:t=fetch,(...n)=>t(...n)},tx=()=>typeof Headers>"u"?Mm:Headers,nx=(e,t,n)=>{const r=ex(n),i=tx();return(s,o)=>Zw(void 0,void 0,void 0,function*(){var l;const a=(l=yield t())!==null&&l!==void 0?l:e;let c=new i(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${a}`),r(s,Object.assign(Object.assign({},o),{headers:c}))})};function rx(e){return e.replace(/\/$/,"")}function ix(e,t){const{db:n,auth:r,realtime:i,global:s}=e,{db:o,auth:l,realtime:a,global:c}=t;return{db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},l),r),realtime:Object.assign(Object.assign({},a),i),global:Object.assign(Object.assign({},c),s)}}const Zm="2.64.2",sx="http://localhost:9999",ox="supabase.auth.token",lx={"X-Client-Info":`gotrue-js/${Zm}`},th=10,Ya="X-Supabase-Api-Version",eg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function ax(e){return Math.round(Date.now()/1e3)+e}function ux(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const kt=()=>typeof document<"u",An={tested:!1,writable:!1},Ii=()=>{if(!kt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(An.tested)return An.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),An.tested=!0,An.writable=!0}catch{An.tested=!0,An.writable=!1}return An.writable};function Fl(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const tg=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Br(async()=>{const{default:r}=await Promise.resolve().then(()=>Qr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},cx=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ng=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Is=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Dl=async(e,t)=>{await e.removeItem(t)};function dx(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,i,s,o,l,a,c,d=0;for(e=e.replace("-","+").replace("_","/");d<e.length;)o=t.indexOf(e.charAt(d++)),l=t.indexOf(e.charAt(d++)),a=t.indexOf(e.charAt(d++)),c=t.indexOf(e.charAt(d++)),r=o<<2|l>>4,i=(l&15)<<4|a>>2,s=(a&3)<<6|c,n=n+String.fromCharCode(r),a!=64&&i!=0&&(n=n+String.fromCharCode(i)),c!=64&&s!=0&&(n=n+String.fromCharCode(s));return n}class el{constructor(){this.promise=new el.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}el.promiseConstructor=Promise;function nh(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=e.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(dx(r))}async function hx(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function fx(e,t){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await e(s);if(!t(s,null,o)){r(o);return}}catch(o){if(!t(s,o)){i(o);return}}})()})}function px(e){return("0"+e.toString(16)).substr(-2)}function mx(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,px).join("")}async function gx(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}function yx(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function vx(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await gx(e);return yx(n)}async function ar(e,t,n=!1){const r=mx();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await ng(e,`${t}-code-verifier`,i);const s=await vx(r);return[s,r===s?"plain":"s256"]}const wx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function xx(e){const t=e.headers.get(Ya);if(!t||!t.match(wx))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class fc extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function V(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class _x extends fc{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function kx(e){return V(e)&&e.name==="AuthApiError"}class rg extends fc{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class er extends fc{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class Rn extends er{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class Ml extends er{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Os extends er{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ls extends er{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class rh extends er{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ga extends er{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function zl(e){return V(e)&&e.name==="AuthRetryableFetchError"}class ih extends er{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var Sx=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Mn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),jx=[502,503,504];async function sh(e){var t;if(!cx(e))throw new Ga(Mn(e),0);if(jx.includes(e.status))throw new Ga(Mn(e),e.status);let n;try{n=await e.json()}catch(s){throw new rg(Mn(s),s)}let r;const i=xx(e);if(i&&i.getTime()>=eg["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new ih(Mn(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[])}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new ih(Mn(n),e.status,n.weak_password.reasons);throw new _x(Mn(n),e.status||500,r)}const Cx=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function K(e,t,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[Ya]||(s[Ya]=eg["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",a=await Ex(e,t,n+l,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(a):{data:Object.assign({},a),error:null}}async function Ex(e,t,n,r,i,s){const o=Cx(t,r,i,s);let l;try{l=await e(n,Object.assign({},o))}catch(a){throw console.error(a),new Ga(Mn(a),0)}if(l.ok||await sh(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(a){await sh(a)}}function en(e){var t;let n=null;Nx(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=ax(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function oh(e){const t=en(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function an(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function bx(e){return{data:e,error:null}}function Tx(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=e,o=Sx(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},a=Object.assign({},o);return{data:{properties:l,user:a},error:null}}function Px(e){return e}function Nx(e){return e.access_token&&e.refresh_token&&e.expires_in}var Ix=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class Ox{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=tg(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await K(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(V(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await K(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:an})}catch(r){if(V(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Ix(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await K(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Tx,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(V(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await K(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:an})}catch(n){if(V(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,s,o,l,a;try{const c={nextPage:null,lastPage:0,total:0},d=await K(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Px});if(d.error)throw d.error;const h=await d.json(),p=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(a=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&a!==void 0?a:[];return f.length>0&&(f.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(y.split(";")[1].split("=")[1]);c[`${x}Page`]=w}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(V(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){try{return await K(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:an})}catch(n){if(V(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await K(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:an})}catch(r){if(V(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await K(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:an})}catch(r){if(V(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await K(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(V(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await K(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(V(n))return{data:null,error:n};throw n}}}const Lx={getItem:e=>Ii()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Ii()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Ii()&&globalThis.localStorage.removeItem(e)}};function lh(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function Ax(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ur={debug:!!(globalThis&&Ii()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ig extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Rx extends ig{}async function Fx(e,t,n){ur.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),ur.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){ur.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{ur.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw ur.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Rx(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ur.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}})}Ax();const Dx={url:sx,storageKey:ox,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:lx,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},ui=30*1e3,ah=3;async function uh(e,t,n){return await n()}class Zi{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Zi.nextInstanceID,Zi.nextInstanceID+=1,this.instanceID>0&&kt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},Dx),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Ox({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=tg(i.fetch),this.lock=i.lock||uh,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:kt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Fx:this.lock=uh,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:Ii()?this.storage=Lx:(this.memoryStorage={},this.storage=lh(this.memoryStorage)):(this.memoryStorage={},this.storage=lh(this.memoryStorage)),kt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Zm}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const t=kt()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",t),t||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:n,error:r}=await this._getSessionFromURL(t);if(r)return this._debug("#_initialize()","error detecting session from URL",r),(r==null?void 0:r.message)==="Identity is already linked"||(r==null?void 0:r.message)==="Identity is already linked to another user"?{error:r}:(await this._removeSession(),{error:r});const{session:i,redirectType:s}=n;return this._debug("#_initialize()","detected session in URL",i,"redirect type",s),await this._saveSession(i),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return V(t)?{error:t}:{error:new rg("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{await this._removeSession();const s=await K(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:en}),{data:o,error:l}=s;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(s){if(V(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var n,r,i;try{await this._removeSession();let s;if("email"in t){const{email:d,password:h,options:p}=t;let f=null,y=null;this.flowType==="pkce"&&([f,y]=await ar(this.storage,this.storageKey)),s=await K(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:f,code_challenge_method:y},xform:en})}else if("phone"in t){const{phone:d,password:h,options:p}=t;s=await K(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(i=p==null?void 0:p.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:en})}else throw new Os("You must provide either an email or phone number and a password");const{data:o,error:l}=s;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(s){if(V(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{await this._removeSession();let n;if("email"in t){const{email:s,password:o,options:l}=t;n=await K(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:oh})}else if("phone"in t){const{phone:s,password:o,options:l}=t;n=await K(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:oh})}else throw new Os("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Ml}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(V(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,s;return await this._removeSession(),await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await Is(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/"),{data:s,error:o}=await K(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:en});return await Dl(this.storage,`${this.storageKey}-code-verifier`),o?{data:{user:null,session:null,redirectType:null},error:o}:!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Ml}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}async signInWithIdToken(t){await this._removeSession();try{const{options:n,provider:r,token:i,access_token:s,nonce:o}=t,l=await K(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:en}),{data:a,error:c}=l;return c?{data:{user:null,session:null},error:c}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new Ml}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:c})}catch(n){if(V(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,s,o;try{if(await this._removeSession(),"email"in t){const{email:l,options:a}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await ar(this.storage,this.storageKey));const{error:h}=await K(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=a==null?void 0:a.data)!==null&&n!==void 0?n:{},create_user:(r=a==null?void 0:a.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:a}=t,{data:c,error:d}=await K(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=a==null?void 0:a.data)!==null&&i!==void 0?i:{},create_user:(s=a==null?void 0:a.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},channel:(o=a==null?void 0:a.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new Os("You must provide either an email or phone number.")}catch(l){if(V(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,r;try{t.type!=="email_change"&&t.type!=="phone_change"&&await this._removeSession();let i,s;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,s=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await K(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:en});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const a=o.session,c=o.user;return a!=null&&a.access_token&&(await this._saveSession(a),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(i){if(V(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{await this._removeSession();let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await ar(this.storage,this.storageKey)),await K(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:bx})}catch(s){if(V(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Rn;const{error:i}=await K(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(V(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{t.type!="email_change"&&t.type!="phone_change"&&await this._removeSession();const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:s}=t,{error:o}=await K(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:i,options:s}=t,{data:o,error:l}=await K(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Os("You must provide either an email or phone number and a type")}catch(n){if(V(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Is(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){const o=this.suppressGetSessionWarning;t=new Proxy(t,{get(a,c,d){return!o&&c==="user"&&console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),Reflect.get(a,c,d)}})}return{data:{session:t},error:null}}const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await K(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:an}):await this._useSession(async n=>{var r,i,s;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Rn}:await K(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:an})})}catch(n){if(V(n))return{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new Rn;const o=i.session;let l=null,a=null;this.flowType==="pkce"&&t.email!=null&&([l,a]=await ar(this.storage,this.storageKey));const{data:c,error:d}=await K(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:a}),jwt:o.access_token,xform:an});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(V(r))return{data:{user:null},error:r};throw r}}_decodeJWT(t){return nh(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Rn;const n=Date.now()/1e3;let r=n,i=!0,s=null;const o=nh(t.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{session:l,error:a}=await this._callRefreshToken(t.refresh_token);if(a)return{data:{user:null,session:null},error:a};if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:a}=await this._getUser(t.access_token);if(a)throw a;s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(V(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Rn;const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(V(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t){try{if(!kt())throw new Ls("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new Ls("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!t)throw new rh("Not a valid PKCE flow url.");const n=Fl(window.location.href);if(t){if(!n.code)throw new rh("No code detected.");const{data:g,error:v}=await this._exchangeCodeForSession(n.code);if(v)throw v;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:g.session,redirectType:null},error:null}}if(n.error||n.error_description||n.error_code)throw new Ls(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:l,expires_at:a,token_type:c}=n;if(!s||!l||!o||!c)throw new Ls("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let p=d+h;a&&(p=parseInt(a));const f=p-d;f*1e3<=ui&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const y=p-h;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,p,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",y,p,d);const{data:w,error:x}=await this._getUser(s);if(x)throw x;const m={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:h,expires_at:p,refresh_token:o,token_type:c,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:n.type},error:null}}catch(n){if(V(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantFlow(){const t=Fl(window.location.href);return!!(kt()&&(t.access_token||t.error_description))}async _isPKCEFlow(){const t=Fl(window.location.href),n=await Is(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(kx(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Dl(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(t){const n=ux(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await ar(this.storage,this.storageKey,!0));try{return await K(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(V(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(V(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var o,l,a,c,d;const{data:h,error:p}=s;if(p)throw p;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:!0});return await K(this.fetch,"GET",f,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return kt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(V(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)throw o;return await K(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(V(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await fx(async i=>(i>0&&await hx(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await K(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:en})),(i,s)=>{const o=200*Math.pow(2,i);return s&&zl(s)&&Date.now()+o-r<ui})}catch(r){if(this._debug(n,"error",r),V(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),kt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Is(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const i=Math.round(Date.now()/1e3),s=((t=r.expires_at)!==null&&t!==void 0?t:1/0)<i+th;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${th}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),zl(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Rn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new el;const{data:s,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!s.session)throw new Rn;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(i,"error",s),V(s)){const o={session:null,error:s};return zl(s)||(await this._removeSession(),await this._notifyAllSubscribers("SIGNED_OUT",null)),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(a){s.push(a)}});if(await Promise.all(o),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await ng(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Dl(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&kt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ui);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/ui);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${ui}ms, refresh threshold is ${ah} ticks`),i<=ah&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof ig)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!kt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,o]=await ar(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(l.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await K(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(V(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)return{data:null,error:o};const{data:l,error:a}=await K(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:t.friendlyName,factor_type:t.factorType,issuer:t.issuer},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(V(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const{data:o,error:l}=await K(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(V(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await K(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(V(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],i=r.filter(s=>s.factor_type==="totp"&&s.status==="verified");return{data:{all:r,totp:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(i.access_token);let l=null;o.aal&&(l=o.aal);let a=l;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:a,currentAuthenticationMethods:d},error:null}}))}}Zi.nextInstanceID=0;const Mx=Zi;class zx extends Mx{constructor(t){super(t)}}var Bx=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?s(d.value):i(d.value).then(l,a)}c((r=r.apply(e,t||[])).next())})};class $x{constructor(t,n,r){var i,s,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=rx(t);this.realtimeUrl=`${l}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${l}/auth/v1`,this.storageUrl=`${l}/storage/v1`,this.functionsUrl=`${l}/functions/v1`;const a=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:Yw,realtime:Xw,auth:Object.assign(Object.assign({},Gw),{storageKey:a}),global:Jw},d=ix(r??{},c);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=d.global.headers)!==null&&s!==void 0?s:{},this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=nx(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},d.realtime)),this.rest=new ww(`${l}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new J0(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Ww(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return Bx(this,void 0,void 0,function*(){const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:s,flowType:o,debug:l},a,c){var d;const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new zx({url:this.authUrl,headers:Object.assign(Object.assign({},h),a),storageKey:s,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,flowType:o,debug:l,fetch:c,hasCustomAuthorizationHeader:(d="Authorization"in this.headers)!==null&&d!==void 0?d:!1})}_initRealtimeClient(t){return new Lw(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):t==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Ux=(e,t,n)=>new $x(e,t,n),sg="https://ysuqkwlvbkjhfrqelfzb.supabase.co",Hx="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlzdXFrd2x2YmtqaGZycWVsZnpiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MDQ4NTI1OTcsImV4cCI6MjAyMDQyODU5N30.aqmgb8fSy638Ccdmq_wCAI6h0pADFjn3vszD3bgiYs0",Z=Ux(sg,Hx),un=sg.replace("https://","sb-").replace(".supabase.co","-auth-token");location.hostname==="localhost"&&addEventListener("keydown",e=>{var t,n;e.ctrlKey&&e.key==="k"&&(e.preventDefault(),location.pathname!=="/mubooks"&&(location.pathname="/mubooks"),location.hash.split("/").pop()!=="search"&&(location.hash="#/search")),e.key==="j"?window.scrollBy(0,64):e.key==="k"?window.scrollBy(0,-64):e.key==="/"&&(e.preventDefault(),(t=document.getElementById("search_term"))==null||t.setAttribute("value","harry potter"),(n=document.getElementById("search_term"))==null||n.focus())});function Vx(e){return e.slice(0,8)==="https://"}function Xa(e,t=void 0){let n="";return t&&(n="-"+t),e.slice(0,2)==="OL"?"https://covers.openlibrary.org/b/olid/"+e+n+".jpg":"https://covers.openlibrary.org/b/isbn/"+e+n+".jpg"}function Gn(e,t){let n="";return t?(n="-"+t,e.replace(".jpg",n+".jpg")):e}async function qx(e){return await fetch("https://openlibrary.org/search.json?q=/works/"+e+"&mode=number_of_pages_median&fields=number_of_pages_median&limit=1").then(n=>n.json()).then(n=>n.docs[0].number_of_pages_median)}function ch(e,t){let n;return function(){const r=this||window;clearTimeout(n),n=setTimeout(()=>e.apply(r),t)}}function dh(e){const t=document.getElementById(e);try{t.showPicker()}catch(n){t.classList.remove("calendar-hidden"),t.focus(),console.error(n)}}function Wx(e){let t=e.length;for(;t>0;){const n=Math.floor(Math.random()*t);t--,[e[t],e[n]]=[e[n],e[t]]}}function tt(e,t,n=!1){let r;n?r=e.split(/['#','?','&']/):r=e.split(/['?','&']/);for(let i=0;i<r.length;i++)if(r[i].slice(0,t.length)===t)return r[i].split("=")[1];return""}const hh="Add a book",Qx=()=>{const{setNavTitle:e}=_.useContext(B);_.useEffect(()=>{e(hh)},[e]);const[t,n]=_.useState("/img/coverless.png"),[r,i]=_.useState([]),[s,o]=_.useState(""),[l,a]=_.useState(""),[c,d]=_.useState(!1);async function h(w){w.preventDefault();const x=w.currentTarget.search_term.value.trim();x.length>4?(d(!0),o(""),await(await fetch("https://openlibrary.org/search.json?q="+x+"&mode=everything&limit=8&fields="+"title,author_name,isbn,cover_edition_key,author_key,edition_key,key,first_publish_year,number_of_pages_median")).json().then(v=>v.docs.filter(S=>S.author_key!==void 0&&S.edition_key!==void 0&&S.isbn!==void 0&&S.cover_edition_key!==void 0)).then(v=>{for(let S=0;S<v.length;S++)v[S].id=v[S].edition_key.slice(0,1).toString(),v[S].title_short=v[S].title.slice(0,45).toString(),v[S].cover=Xa(v[S].cover_edition_key);return v.length>30?a("Showing only 30 results. Specify a bit more."):a("Showing "+v.length+" results for "+x+"."),v}).then(v=>i(v)),d(!1)):x.length===0?o(x.length):o("keep typing...")}function p(w){w.preventDefault(),n(w.currentTarget.abCover.value.trim())}const f=u.jsx(u.Fragment,{children:u.jsx("img",{src:t,style:{width:"50%"}})});function y(w){const x=w.currentTarget.value;Vx(x)&&n(w.currentTarget.value.trim())}return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"booksearch",children:[u.jsx("h1",{children:"Search book"}),u.jsxs("form",{onSubmit:h,children:[u.jsx("input",{type:"text",id:"search_term",name:"search_term"}),u.jsx("div",{className:l!==""?"dblock":"dnone",children:l}),u.jsx("div",{className:s!==""?"dblock":"dnone",children:s}),u.jsx("button",{disabled:c,children:c?"Searching...":"Search"})]})]}),u.jsx("div",{className:"booksearchresults",children:r.map((w,x)=>{if(w.id!==void 0){let m;w.title.length>55?m=w.title.slice(0,55)+"...":m=w.title;const g=w.author_name.map((v,S)=>u.jsxs("span",{children:[v,S<w.author_name.length-1&&", "]},"author"+x+S));return u.jsxs("div",{className:"result",children:[u.jsxs("div",{className:"wrapper",children:[u.jsx("img",{src:"img/loep.svg",className:"loep"}),u.jsxs("div",{className:"text",children:[m," ",u.jsxs("em",{className:"sf",children:[" (",w.first_publish_year,")"]}),u.jsx("br",{}),u.jsx("em",{className:"sf cl",children:g})]})]}),u.jsx("img",{src:Xa(w.id,"S"),className:"thumbnail"})]},"result"+x)}})}),u.jsx("h1",{children:hh}),u.jsx("form",{onSubmit:p,children:u.jsxs("fieldset",{children:[u.jsx("label",{htmlFor:"abIsbn",children:"ISBN"}),u.jsx("input",{type:"text",id:"abIsbn",name:"abIsbn",required:!0}),u.jsx("label",{htmlFor:"abTitle",children:"Title"}),u.jsx("input",{type:"text",id:"abTitle",name:"abTitle",required:!0}),u.jsxs("label",{htmlFor:"abAuthors",children:["Author(s) ",u.jsx("em",{className:"sf",children:"1 author per line"})]}),u.jsx("textarea",{name:"abAuthors",id:"abAuthors"}),u.jsxs("label",{htmlFor:"abCover",children:["Cover URL ",u.jsx("em",{className:"sf",children:"starts with https://"})]}),u.jsx("input",{type:"url",name:"abCover",id:"abCover",onChange:y}),f,u.jsx("br",{}),u.jsx("br",{}),u.jsx("label",{htmlFor:"abYearPublished",children:"Year published"}),u.jsx("input",{type:"number",name:"abYearPublished",id:"abYearPublished"}),u.jsx("label",{htmlFor:"abPages",children:"Pages"}),u.jsx("input",{type:"number",name:"abPages",id:"abPages"}),u.jsxs("label",{htmlFor:"abTropes",children:["Tropes ",u.jsx("em",{className:"sf",children:"one trope per line"})]}),u.jsx("textarea",{name:"abTropes",id:"abTropes"}),u.jsx("button",{children:"Add book to wishlist"})]})})]})};/**
 * @remix-run/router v1.17.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ur(){return Ur=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ur.apply(this,arguments)}var fn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(fn||(fn={}));const fh="popstate";function Kx(e){e===void 0&&(e={});function t(i,s){let{pathname:o="/",search:l="",hash:a=""}=tr(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Za("",{pathname:o,search:l,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let a=i.location.href,c=a.indexOf("#");l=c===-1?a:a.slice(0,c)}return l+"#"+(typeof s=="string"?s:Co(s))}function r(i,s){pc(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return Yx(t,n,r,e)}function ve(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function pc(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Jx(){return Math.random().toString(36).substr(2,8)}function ph(e,t){return{usr:e.state,key:e.key,idx:t}}function Za(e,t,n,r){return n===void 0&&(n=null),Ur({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?tr(t):t,{state:n,key:t&&t.key||r||Jx()})}function Co(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function tr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Yx(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=fn.Pop,a=null,c=d();c==null&&(c=0,o.replaceState(Ur({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=fn.Pop;let x=d(),m=x==null?null:x-c;c=x,a&&a({action:l,location:w.location,delta:m})}function p(x,m){l=fn.Push;let g=Za(w.location,x,m);n&&n(g,x),c=d()+1;let v=ph(g,c),S=w.createHref(g);try{o.pushState(v,"",S)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(S)}s&&a&&a({action:l,location:w.location,delta:1})}function f(x,m){l=fn.Replace;let g=Za(w.location,x,m);n&&n(g,x),c=d();let v=ph(g,c),S=w.createHref(g);o.replaceState(v,"",S),s&&a&&a({action:l,location:w.location,delta:0})}function y(x){let m=i.location.origin!=="null"?i.location.origin:i.location.href,g=typeof x=="string"?x:Co(x);return g=g.replace(/ $/,"%20"),ve(m,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,m)}let w={get action(){return l},get location(){return e(i,o)},listen(x){if(a)throw new Error("A history only accepts one active listener");return i.addEventListener(fh,h),a=x,()=>{i.removeEventListener(fh,h),a=null}},createHref(x){return t(i,x)},createURL:y,encodeLocation(x){let m=y(x);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:p,replace:f,go(x){return o.go(x)}};return w}var mh;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(mh||(mh={}));function Gx(e,t,n){return n===void 0&&(n="/"),Xx(e,t,n,!1)}function Xx(e,t,n,r){let i=typeof t=="string"?tr(t):t,s=Hr(i.pathname||"/",n);if(s==null)return null;let o=og(e);Zx(o);let l=null;for(let a=0;l==null&&a<o.length;++a){let c=c_(s);l=a_(o[a],c,r)}return l}function og(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let a={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};a.relativePath.startsWith("/")&&(ve(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(r.length));let c=kn([r,a.relativePath]),d=n.concat(a);s.children&&s.children.length>0&&(ve(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),og(s.children,t,d,c)),!(s.path==null&&!s.index)&&t.push({path:c,score:o_(c,s.index),routesMeta:d})};return e.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let a of lg(s.path))i(s,o,a)}),t}function lg(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=lg(r.join("/")),l=[];return l.push(...o.map(a=>a===""?s:[s,a].join("/"))),i&&l.push(...o),l.map(a=>e.startsWith("/")&&a===""?"/":a)}function Zx(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:l_(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const e_=/^:[\w-]+$/,t_=3,n_=2,r_=1,i_=10,s_=-2,gh=e=>e==="*";function o_(e,t){let n=e.split("/"),r=n.length;return n.some(gh)&&(r+=s_),t&&(r+=n_),n.filter(i=>!gh(i)).reduce((i,s)=>i+(e_.test(s)?t_:s===""?r_:i_),r)}function l_(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function a_(e,t,n){let{routesMeta:r}=e,i={},s="/",o=[];for(let l=0;l<r.length;++l){let a=r[l],c=l===r.length-1,d=s==="/"?t:t.slice(s.length)||"/",h=Eo({path:a.relativePath,caseSensitive:a.caseSensitive,end:c},d),p=a.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=Eo({path:a.relativePath,caseSensitive:a.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:kn([s,h.pathname]),pathnameBase:p_(kn([s,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(s=kn([s,h.pathnameBase]))}return o}function Eo(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=u_(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((c,d,h)=>{let{paramName:p,isOptional:f}=d;if(p==="*"){let w=l[h]||"";o=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const y=l[h];return f&&!y?c[p]=void 0:c[p]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:e}}function u_(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),pc(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,a)=>(r.push({paramName:l,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function c_(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return pc(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Hr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function d_(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?tr(e):e;return{pathname:n?n.startsWith("/")?n:h_(n,t):t,search:m_(r),hash:g_(i)}}function h_(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Bl(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function f_(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function ag(e,t){let n=f_(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function ug(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=tr(e):(i=Ur({},e),ve(!i.pathname||!i.pathname.includes("?"),Bl("?","pathname","search",i)),ve(!i.pathname||!i.pathname.includes("#"),Bl("#","pathname","hash",i)),ve(!i.search||!i.search.includes("#"),Bl("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let h=t.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}l=h>=0?t[h]:"/"}let a=d_(i,l),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(c||d)&&(a.pathname+="/"),a}const kn=e=>e.join("/").replace(/\/\/+/g,"/"),p_=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),m_=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,g_=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,y_=function(t,n){n===void 0&&(n=302);let r=n;typeof r=="number"?r={status:r}:typeof r.status>"u"&&(r.status=302);let i=new Headers(r.headers);return i.set("Location",t),new Response(null,Ur({},r,{headers:i}))};function v_(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const cg=["post","put","patch","delete"];new Set(cg);const w_=["get",...cg];new Set(w_);/**
 * React Router v6.24.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function es(){return es=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},es.apply(this,arguments)}const tl=_.createContext(null),dg=_.createContext(null),Pn=_.createContext(null),nl=_.createContext(null),nr=_.createContext({outlet:null,matches:[],isDataRoute:!1}),hg=_.createContext(null);function x_(e,t){let{relative:n}=t===void 0?{}:t;us()||ve(!1);let{basename:r,navigator:i}=_.useContext(Pn),{hash:s,pathname:o,search:l}=rl(e,{relative:n}),a=o;return r!=="/"&&(a=o==="/"?r:kn([r,o])),i.createHref({pathname:a,search:l,hash:s})}function us(){return _.useContext(nl)!=null}function cs(){return us()||ve(!1),_.useContext(nl).location}function fg(e){_.useContext(Pn).static||_.useLayoutEffect(e)}function at(){let{isDataRoute:e}=_.useContext(nr);return e?L_():__()}function __(){us()||ve(!1);let e=_.useContext(tl),{basename:t,future:n,navigator:r}=_.useContext(Pn),{matches:i}=_.useContext(nr),{pathname:s}=cs(),o=JSON.stringify(ag(i,n.v7_relativeSplatPath)),l=_.useRef(!1);return fg(()=>{l.current=!0}),_.useCallback(function(c,d){if(d===void 0&&(d={}),!l.current)return;if(typeof c=="number"){r.go(c);return}let h=ug(c,JSON.parse(o),s,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:kn([t,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[t,r,o,s,e])}function rl(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=_.useContext(Pn),{matches:i}=_.useContext(nr),{pathname:s}=cs(),o=JSON.stringify(ag(i,r.v7_relativeSplatPath));return _.useMemo(()=>ug(e,JSON.parse(o),s,n==="path"),[e,o,s,n])}function k_(e,t){return S_(e,t)}function S_(e,t,n,r){us()||ve(!1);let{navigator:i}=_.useContext(Pn),{matches:s}=_.useContext(nr),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let c=cs(),d;if(t){var h;let x=typeof t=="string"?tr(t):t;a==="/"||(h=x.pathname)!=null&&h.startsWith(a)||ve(!1),d=x}else d=c;let p=d.pathname||"/",f=p;if(a!=="/"){let x=a.replace(/^\//,"").split("/");f="/"+p.replace(/^\//,"").split("/").slice(x.length).join("/")}let y=Gx(e,{pathname:f}),w=T_(y&&y.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:kn([a,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?a:kn([a,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,n,r);return t&&w?_.createElement(nl.Provider,{value:{location:es({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:fn.Pop}},w):w}function j_(){let e=O_(),t=v_(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),n?_.createElement("pre",{style:i},n):null,null)}const C_=_.createElement(j_,null);class E_ extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?_.createElement(nr.Provider,{value:this.props.routeContext},_.createElement(hg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function b_(e){let{routeContext:t,match:n,children:r}=e,i=_.useContext(tl);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),_.createElement(nr.Provider,{value:t},r)}function T_(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if((s=n)!=null&&s.errors)e=n.matches;else return null}let o=e,l=(i=n)==null?void 0:i.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||ve(!1),o=o.slice(0,Math.min(o.length,d+1))}let a=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:p,errors:f}=n,y=h.route.loader&&p[h.route.id]===void 0&&(!f||f[h.route.id]===void 0);if(h.route.lazy||y){a=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,h,p)=>{let f,y=!1,w=null,x=null;n&&(f=l&&h.route.id?l[h.route.id]:void 0,w=h.route.errorElement||C_,a&&(c<0&&p===0?(y=!0,x=null):c===p&&(y=!0,x=h.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,p+1)),g=()=>{let v;return f?v=w:y?v=x:h.route.Component?v=_.createElement(h.route.Component,null):h.route.element?v=h.route.element:v=d,_.createElement(b_,{match:h,routeContext:{outlet:d,matches:m,isDataRoute:n!=null},children:v})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?_.createElement(E_,{location:n.location,revalidation:n.revalidation,component:w,error:f,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}var pg=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(pg||{}),bo=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(bo||{});function P_(e){let t=_.useContext(tl);return t||ve(!1),t}function N_(e){let t=_.useContext(dg);return t||ve(!1),t}function I_(e){let t=_.useContext(nr);return t||ve(!1),t}function mg(e){let t=I_(),n=t.matches[t.matches.length-1];return n.route.id||ve(!1),n.route.id}function O_(){var e;let t=_.useContext(hg),n=N_(bo.UseRouteError),r=mg(bo.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function L_(){let{router:e}=P_(pg.UseNavigateStable),t=mg(bo.UseNavigateStable),n=_.useRef(!1);return fg(()=>{n.current=!0}),_.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,es({fromRouteId:t},s)))},[e,t])}function de(e){ve(!1)}function A_(e){let{basename:t="/",children:n=null,location:r,navigationType:i=fn.Pop,navigator:s,static:o=!1,future:l}=e;us()&&ve(!1);let a=t.replace(/^\/*/,"/"),c=_.useMemo(()=>({basename:a,navigator:s,static:o,future:es({v7_relativeSplatPath:!1},l)}),[a,l,s,o]);typeof r=="string"&&(r=tr(r));let{pathname:d="/",search:h="",hash:p="",state:f=null,key:y="default"}=r,w=_.useMemo(()=>{let x=Hr(d,a);return x==null?null:{location:{pathname:x,search:h,hash:p,state:f,key:y},navigationType:i}},[a,d,h,p,f,y,i]);return w==null?null:_.createElement(Pn.Provider,{value:c},_.createElement(nl.Provider,{children:n,value:w}))}function R_(e){let{children:t,location:n}=e;return k_(eu(t),n)}new Promise(()=>{});function eu(e,t){t===void 0&&(t=[]);let n=[];return _.Children.forEach(e,(r,i)=>{if(!_.isValidElement(r))return;let s=[...t,i];if(r.type===_.Fragment){n.push.apply(n,eu(r.props.children,s));return}r.type!==de&&ve(!1),!r.props.index||!r.props.children||ve(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=eu(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.24.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function To(){return To=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},To.apply(this,arguments)}function gg(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function F_(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function D_(e,t){return e.button===0&&(!t||t==="_self")&&!F_(e)}const M_=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],z_=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],B_="6";try{window.__reactRouterVersion=B_}catch{}const $_=_.createContext({isTransitioning:!1}),U_="startTransition",yh=Ny[U_];function H_(e){let{basename:t,children:n,future:r,window:i}=e,s=_.useRef();s.current==null&&(s.current=Kx({window:i,v5Compat:!0}));let o=s.current,[l,a]=_.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=_.useCallback(h=>{c&&yh?yh(()=>a(h)):a(h)},[a,c]);return _.useLayoutEffect(()=>o.listen(d),[o,d]),_.createElement(A_,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const V_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",q_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ee=_.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:a,to:c,preventScrollReset:d,unstable_viewTransition:h}=t,p=gg(t,M_),{basename:f}=_.useContext(Pn),y,w=!1;if(typeof c=="string"&&q_.test(c)&&(y=c,V_))try{let v=new URL(window.location.href),S=c.startsWith("//")?new URL(v.protocol+c):new URL(c),E=Hr(S.pathname,f);S.origin===v.origin&&E!=null?c=E+S.search+S.hash:w=!0}catch{}let x=x_(c,{relative:i}),m=Q_(c,{replace:o,state:l,target:a,preventScrollReset:d,relative:i,unstable_viewTransition:h});function g(v){r&&r(v),v.defaultPrevented||m(v)}return _.createElement("a",To({},p,{href:y||x,onClick:w||s?r:g,ref:n,target:a}))}),Me=_.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:l,to:a,unstable_viewTransition:c,children:d}=t,h=gg(t,z_),p=rl(a,{relative:h.relative}),f=cs(),y=_.useContext(dg),{navigator:w,basename:x}=_.useContext(Pn),m=y!=null&&K_(p)&&c===!0,g=w.encodeLocation?w.encodeLocation(p).pathname:p.pathname,v=f.pathname,S=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;i||(v=v.toLowerCase(),S=S?S.toLowerCase():null,g=g.toLowerCase()),S&&x&&(S=Hr(S,x)||S);const E=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let C=v===g||!o&&v.startsWith(g)&&v.charAt(E)==="/",T=S!=null&&(S===g||!o&&S.startsWith(g)&&S.charAt(g.length)==="/"),I={isActive:C,isPending:T,isTransitioning:m},M=C?r:void 0,R;typeof s=="function"?R=s(I):R=[s,C?"active":null,T?"pending":null,m?"transitioning":null].filter(Boolean).join(" ");let D=typeof l=="function"?l(I):l;return _.createElement(ee,To({},h,{"aria-current":M,className:R,ref:n,style:D,to:a,unstable_viewTransition:c}),typeof d=="function"?d(I):d)});var tu;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(tu||(tu={}));var vh;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(vh||(vh={}));function W_(e){let t=_.useContext(tl);return t||ve(!1),t}function Q_(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:l}=t===void 0?{}:t,a=at(),c=cs(),d=rl(e,{relative:o});return _.useCallback(h=>{if(D_(h,n)){h.preventDefault();let p=r!==void 0?r:Co(c)===Co(d);a(e,{replace:p,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:l})}},[c,a,d,r,i,n,e,s,o,l])}function K_(e,t){t===void 0&&(t={});let n=_.useContext($_);n==null&&ve(!1);let{basename:r}=W_(tu.useViewTransitionState),i=rl(e,{relative:t.relative});if(!n.isTransitioning)return!1;let s=Hr(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Hr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Eo(i.pathname,o)!=null||Eo(i.pathname,s)!=null}const J_=()=>{const e=at();return setTimeout(()=>{e("/account/login")},2e3),u.jsxs(u.Fragment,{children:[u.jsxs("h1",{children:["Your account is confirmed ",u.jsx("sub",{children:"You can now log in."})]}),u.jsx("p",{children:"Redirecting to the login screen..."})]})},Y_="Reset password page",G_=()=>{const{userIsLoggedIn:e,setPopupNotification:t,setPopupNotificationShow:n,setNavTitle:r}=_.useContext(B);console.log("is user logged in?",e),_.useEffect(()=>{r(Y_)},[r]);const i=at(),[s,o]=_.useState("");e&&(console.log("hold up"),i("/dashboard"));const[l,a]=_.useState(!0);async function c(){const f=tt(window.location.href,"token"),y=tt(window.location.href,"type"),w=tt(window.location.href,"email");if(y==="recovery"&&f!==null){const{data:x,error:m}=await Z.auth.verifyOtp({email:w,token:f,type:"email"});m?o(m.message):localStorage.setItem("supabaseSession",JSON.stringify(x.session)),a(!1)}}_.useEffect(()=>{l&&(c(),a(!1))},[l]);function d(){console.log("afterSbUpdate triggered"),setTimeout(()=>{t(""),n(!1),console.log("empty setPopupNotification after 3 sec"),i("/dashboard"),console.log("i just navigated to /dashboard... correct?")},3e3)}const h=async f=>{console.log("root page is loaded, now changing updateSbUser");const{error:y}=await Z.auth.updateUser({password:f});y?(o(y.message),console.log("Error updating user:",y)):(console.log("no errors, soon triggering afterSbUpdate"),t("Password updated, logging in..."),n(!0),d())};function p(f){if(f.preventDefault(),f.currentTarget.account_password.value===f.currentTarget.account_password_again.value){const y=f.currentTarget.account_password.value.trim();h(y)}else o("Passwords do not match, try again")}return l?u.jsx("p",{children:"Loading..."}):u.jsxs(u.Fragment,{children:[u.jsxs("h1",{id:"welcome",children:[u.jsx("img",{id:"welcome-logo-img",src:"img/logo.svg",alt:""})," MuBooks"]}),u.jsx("div",{children:u.jsxs("div",{className:"card",children:[u.jsxs("header",{children:["Reset your password",u.jsx("sub",{children:"Fill in your new password twice and submit to activate it"})]}),u.jsx("main",{children:u.jsxs("form",{onSubmit:p,children:[u.jsxs("label",{htmlFor:"account_password",children:[u.jsx("div",{className:"description",children:"New password"}),u.jsx("input",{type:"password",id:"account_password",name:"account_password",defaultValue:"",required:!0})]}),u.jsxs("label",{htmlFor:"account_password",children:[u.jsx("div",{className:"description",children:"New password again"}),u.jsx("input",{type:"password",id:"account_password_again",name:"account_password_again",defaultValue:"",required:!0})]}),u.jsxs("div",{className:s!==""?"dblock error":"dblock",children:[s," "]}),u.jsx("button",{children:"Save new password and login"})]})}),u.jsx("footer",{children:u.jsx(ee,{to:"/account/login",children:"Login without changing password."})})]})})]})},X_=()=>{const{usermail:e}=_.useContext(B),t=e;return u.jsxs(u.Fragment,{children:[u.jsx("h1",{children:"Check your email"}),u.jsxs("p",{children:["You should receive an email on ",u.jsx("strong",{children:u.jsx("u",{children:t})})," containing a link to confirm your account, click it."]})]})},Z_="Check Mail Password Page",ek=()=>{const{usermail:e,userIsLoggedIn:t,setNavTitle:n}=_.useContext(B),r=e;return _.useEffect(()=>{n(Z_),t&&(console.log("daaaaaaaaaaaaaaaaaa"),y_("/dashboard"))},[n,t]),e!==""&&!t?u.jsxs(u.Fragment,{children:[u.jsx("h1",{children:"Check your email"}),u.jsxs("p",{children:[u.jsx("span",{children:"You should receive an email on"})," ",u.jsx("strong",{children:u.jsx("u",{children:r})}),u.jsx("span",{children:" containing a link to reset your password, click it."})]})]}):t?u.jsxs(u.Fragment,{children:[u.jsx("h1",{children:"Not so fast!"}),u.jsxs("p",{children:["You're already logged in, do you want to ",u.jsx(ee,{to:"/dashboard",children:"return to your dashboard"})," or see ",u.jsx(ee,{to:"/account/profile",children:"your profile here"}),"?"]})]}):u.jsxs(u.Fragment,{children:[u.jsx("h1",{children:"New here?"}),u.jsxs("p",{children:["Are you trying to reset your password or log in?",u.jsx("br",{}),u.jsx(ee,{to:"/account/login",children:"Click here to go to the login screen"}),"."]})]})};async function tk(e){const{setUserMyBooks:t,setPopupNotification:n,userid:r}=_.useContext(B);let i;t(e);const{error:s}=await Z.from("user_entries").update({json:e}).eq("user_id",r).select();s?(i="Error, data was not changed",console.log("error:",s)):i="Updated Mu Books.",n(i)}const nk="Clear all saved books",rk=()=>{const{setUserMyBooks:e,setNavTitle:t}=_.useContext(B);_.useEffect(()=>{t(nk)},[t]);function n(){tk([]),e([])}return u.jsx(u.Fragment,{children:u.jsx("button",{onClick:n,children:"Clear my books"})})},ik=()=>{const{userMyBooks:e}=_.useContext(B),t=e.filter(l=>l.review_fav_quote&&l.review_fav_quote.length>4&&l.author_name&&l.title),[n,r]=_.useState(!1),i=Math.floor(Math.random()*t.length),[s,o]=_.useState();return _.useEffect(()=>{t[i]&&n===!1&&(o({title:t[i].title,quote:t[i].review_fav_quote,authors:t[i].author_name.join(",")}),r(!0))},[i,t,n]),u.jsx(u.Fragment,{children:s&&u.jsxs("article",{className:"quote",children:[u.jsx("main",{children:s.quote&&s.quote}),u.jsxs("footer",{children:[s.title,", ",s.authors]})]})})},Oi=e=>e===1?"wishlist":e===2?"reading":e===3?"finished":e===4?"favorite":(console.error("No list name? There must be something wrong..."),"none");function cn(e,t){const n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];let r,i=0,s="",o=0,l=0;typeof e=="number"&&e<22221100?(r=e.toString().split(""),i=+(r[4]+""+r[5]),o=+(r[0]+""+r[1]+r[2]+r[3]),l=+(r[6]+""+r[7]),s=n[i-1]):typeof e=="number"&&e>22221100?(r=new Date(e),i=r.getMonth()+1,o=r.getFullYear(),l=r.getDate(),s=n[i]):typeof e=="string"&&(r=e.split("-"),i=Number(r[1]),o=Number(r[0]),l=Number(r[2]),s=n[i-1]);let a=l,c=i;switch(Number(a)<10&&(a="0"+l.toString()),Number(c)<10&&(c="0"+i.toString()),t){case"human":return l+" "+s+" "+o;case"digit":return o+""+c+a;case"input":return o+"-"+c+"-"+a}}function nu(e,t){if(e!==void 0){const n=new Date(e),r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],i=n.getFullYear(),s=n.getMonth()+1,o=r[s],l=n.getDate();let a=l,c=s;switch(a<9&&(a="0"+l.toString()),c<9&&(c="0"+s.toString()),t){case"input":return i+"-"+c+"-"+a;case"human":return l+" "+o+" "+i;case"digit":return i+""+c+a}}return""}const ci=(e,t,n=!1)=>{const{userid:r,userMyBooks:i,setUserMyBooks:s,setPopupNotification:o}=_.useContext(B);function l(p,f=p.list){p.title.length>55?p.title_short=p.title.slice(0,55)+"...":p.title_short=p.title;let y=i;const w=Number(cn(Date.now(),"digit"));let x=0;t>1&&(x=w);let m=0;return t>2&&(m=w),y===null&&(y=[]),y.push({author_key:p.author_key,author_name:p.author_name,cover:p.cover,cover_edition_key:p.cover_edition_key,date_finished:m,date_reading:x,first_publish_year:p.first_publish_year,id:p.id,img:p.img,list:f,number_of_pages_median:p.number_of_pages_median,rate_spice:0,rate_stars:0,review_fav_quote:"",review_text:"",review_tropes:[],title:p.title,title_short:p.title_short}),y}async function a(p){let f;s(p);const{error:y}=await Z.from("user_entries").update({json:p,testdata:"updated from AddBookToXButton"}).eq("user_id",r).select("*");y?f=y.message:f="Added "+e.title_short+" to "+Oi(t),o(f)}function c(p,f){let y;i===void 0?y=[]:y=i;let w=!1;for(let m=0;m<y.length;m++)y[m].id===p.id&&(w=!0,y[m].list=f,f===2&&(y[m].date_reading=Number(nu(Date.now(),"digit"))),f===3&&(y[m].date_finished=Number(nu(Date.now(),"digit"))));let x;return w===!1?x=l(p,f):x=y,a(x),x}function d(){const p=c(e,t);s(p)}const h="icon icon-"+Oi(t);return n&&t===4?u.jsx("span",{className:"icon-heart inactive",onClick:d}):u.jsx("div",{className:"mark",children:u.jsxs("button",{className:"btn-text",onClick:d,children:[u.jsx("span",{className:h}),"Add to ",Oi(t)]})})};function sk(e){return e.author_name.map((t,n)=>{const r=e.id+"-"+n;return u.jsxs("span",{id:r,children:[t,u.jsx("br",{})]},r)})}const ok=({date_started:e,date_finished:t,bookid:n,list:r})=>{const{userMyBooks:i,setUserMyBooks:s,setPopupNotification:o,userid:l,todaysDateInput:a}=_.useContext(B),[c,d]=_.useState(e),[h,p]=_.useState(t);async function f(x){let m;s(x);const{error:g}=await Z.from("user_entries").update({json:x}).eq("user_id",l).select();g?(m="Error, date was not changed",console.log("error:",g)):m="Changed the date.",o(m)}function y(x,m){x==="date_reading"?d(m):x==="date_finished"&&p(m);let g;i===void 0?g=[]:g=i;for(let S=0;S<g.length;S++)g[S].id===n&&(x==="date_reading"&&(g[S].date_reading=m),x==="date_finished"&&(g[S].date_finished=m,g[S].date_finished===null&&g[S].list>2&&(g[S].list=2)));f(g)}function w(x){if(document.getElementById(x+n)===null)return;const m=x+n,g=document.getElementById(m).value.split("-"),v=parseInt(g[0]+g[1]+g[2],10);y(x,v)}return _.useEffect(()=>{c&&(document.getElementById("date_reading"+n).value=cn(c,"input")),h&&(document.getElementById("date_finished"+n).value=cn(h,"input"))},[c,h,n]),u.jsx("div",{className:"book-started-finished",children:u.jsxs("div",{children:[u.jsxs("em",{className:"btn-text",children:[u.jsx("span",{className:"icon icon-reading"}),u.jsx("button",{className:"btn-calendar btn-text",onClick:()=>dh("date_reading"+n),children:c&&cn(c,"human")})]}),u.jsx("input",{tabIndex:-1,id:"date_reading"+n,name:"date_reading"+n,type:"date",max:a,className:"calendar-hidden",onChange:ch(()=>w("date_reading"),100)}),r>2&&u.jsxs(u.Fragment,{children:[u.jsxs("em",{className:"btn-text",children:[u.jsx("span",{className:"icon icon-finished"}),u.jsx("button",{className:"btn-calendar btn-text",onClick:()=>dh("date_finished"+n),children:h&&cn(h,"human")})]}),u.jsx("input",{tabIndex:-1,id:"date_finished"+n,name:"date_finished"+n,type:"date",min:e&&cn(e,"input"),max:a,className:"calendar-hidden",onChange:ch(()=>w("date_finished"),1e3)})]})]})})};function lk(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const ak=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,uk=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,ck={};function wh(e,t){return(ck.jsx?uk:ak).test(e)}const dk=/[ \t\n\f\r]/g;function hk(e){return typeof e=="object"?e.type==="text"?xh(e.value):!1:xh(e)}function xh(e){return e.replace(dk,"")===""}class ds{constructor(t,n,r){this.property=t,this.normal=n,r&&(this.space=r)}}ds.prototype.property={};ds.prototype.normal={};ds.prototype.space=null;function yg(e,t){const n={},r={};let i=-1;for(;++i<e.length;)Object.assign(n,e[i].property),Object.assign(r,e[i].normal);return new ds(n,r,t)}function ru(e){return e.toLowerCase()}class vt{constructor(t,n){this.property=t,this.attribute=n}}vt.prototype.space=null;vt.prototype.boolean=!1;vt.prototype.booleanish=!1;vt.prototype.overloadedBoolean=!1;vt.prototype.number=!1;vt.prototype.commaSeparated=!1;vt.prototype.spaceSeparated=!1;vt.prototype.commaOrSpaceSeparated=!1;vt.prototype.mustUseProperty=!1;vt.prototype.defined=!1;let fk=0;const H=rr(),ke=rr(),vg=rr(),N=rr(),se=rr(),Nr=rr(),Xe=rr();function rr(){return 2**++fk}const iu=Object.freeze(Object.defineProperty({__proto__:null,boolean:H,booleanish:ke,commaOrSpaceSeparated:Xe,commaSeparated:Nr,number:N,overloadedBoolean:vg,spaceSeparated:se},Symbol.toStringTag,{value:"Module"})),$l=Object.keys(iu);class mc extends vt{constructor(t,n,r,i){let s=-1;if(super(t,n),_h(this,"space",i),typeof r=="number")for(;++s<$l.length;){const o=$l[s];_h(this,$l[s],(r&iu[o])===iu[o])}}}mc.prototype.defined=!0;function _h(e,t,n){n&&(e[t]=n)}const pk={}.hasOwnProperty;function Jr(e){const t={},n={};let r;for(r in e.properties)if(pk.call(e.properties,r)){const i=e.properties[r],s=new mc(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[ru(r)]=r,n[ru(s.attribute)]=r}return new ds(t,n,e.space)}const wg=Jr({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),xg=Jr({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function _g(e,t){return t in e?e[t]:t}function kg(e,t){return _g(e,t.toLowerCase())}const Sg=Jr({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:kg,properties:{xmlns:null,xmlnsXLink:null}}),jg=Jr({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:ke,ariaAutoComplete:null,ariaBusy:ke,ariaChecked:ke,ariaColCount:N,ariaColIndex:N,ariaColSpan:N,ariaControls:se,ariaCurrent:null,ariaDescribedBy:se,ariaDetails:null,ariaDisabled:ke,ariaDropEffect:se,ariaErrorMessage:null,ariaExpanded:ke,ariaFlowTo:se,ariaGrabbed:ke,ariaHasPopup:null,ariaHidden:ke,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:se,ariaLevel:N,ariaLive:null,ariaModal:ke,ariaMultiLine:ke,ariaMultiSelectable:ke,ariaOrientation:null,ariaOwns:se,ariaPlaceholder:null,ariaPosInSet:N,ariaPressed:ke,ariaReadOnly:ke,ariaRelevant:null,ariaRequired:ke,ariaRoleDescription:se,ariaRowCount:N,ariaRowIndex:N,ariaRowSpan:N,ariaSelected:ke,ariaSetSize:N,ariaSort:null,ariaValueMax:N,ariaValueMin:N,ariaValueNow:N,ariaValueText:null,role:null}}),mk=Jr({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:kg,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Nr,acceptCharset:se,accessKey:se,action:null,allow:null,allowFullScreen:H,allowPaymentRequest:H,allowUserMedia:H,alt:null,as:null,async:H,autoCapitalize:null,autoComplete:se,autoFocus:H,autoPlay:H,blocking:se,capture:null,charSet:null,checked:H,cite:null,className:se,cols:N,colSpan:null,content:null,contentEditable:ke,controls:H,controlsList:se,coords:N|Nr,crossOrigin:null,data:null,dateTime:null,decoding:null,default:H,defer:H,dir:null,dirName:null,disabled:H,download:vg,draggable:ke,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:H,formTarget:null,headers:se,height:N,hidden:H,high:N,href:null,hrefLang:null,htmlFor:se,httpEquiv:se,id:null,imageSizes:null,imageSrcSet:null,inert:H,inputMode:null,integrity:null,is:null,isMap:H,itemId:null,itemProp:se,itemRef:se,itemScope:H,itemType:se,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:H,low:N,manifest:null,max:null,maxLength:N,media:null,method:null,min:null,minLength:N,multiple:H,muted:H,name:null,nonce:null,noModule:H,noValidate:H,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:H,optimum:N,pattern:null,ping:se,placeholder:null,playsInline:H,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:H,referrerPolicy:null,rel:se,required:H,reversed:H,rows:N,rowSpan:N,sandbox:se,scope:null,scoped:H,seamless:H,selected:H,shadowRootClonable:H,shadowRootDelegatesFocus:H,shadowRootMode:null,shape:null,size:N,sizes:null,slot:null,span:N,spellCheck:ke,src:null,srcDoc:null,srcLang:null,srcSet:null,start:N,step:null,style:null,tabIndex:N,target:null,title:null,translate:null,type:null,typeMustMatch:H,useMap:null,value:ke,width:N,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:se,axis:null,background:null,bgColor:null,border:N,borderColor:null,bottomMargin:N,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:H,declare:H,event:null,face:null,frame:null,frameBorder:null,hSpace:N,leftMargin:N,link:null,longDesc:null,lowSrc:null,marginHeight:N,marginWidth:N,noResize:H,noHref:H,noShade:H,noWrap:H,object:null,profile:null,prompt:null,rev:null,rightMargin:N,rules:null,scheme:null,scrolling:ke,standby:null,summary:null,text:null,topMargin:N,valueType:null,version:null,vAlign:null,vLink:null,vSpace:N,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:H,disableRemotePlayback:H,prefix:null,property:null,results:N,security:null,unselectable:null}}),gk=Jr({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:_g,properties:{about:Xe,accentHeight:N,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:N,amplitude:N,arabicForm:null,ascent:N,attributeName:null,attributeType:null,azimuth:N,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:N,by:null,calcMode:null,capHeight:N,className:se,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:N,diffuseConstant:N,direction:null,display:null,dur:null,divisor:N,dominantBaseline:null,download:H,dx:null,dy:null,edgeMode:null,editable:null,elevation:N,enableBackground:null,end:null,event:null,exponent:N,externalResourcesRequired:null,fill:null,fillOpacity:N,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Nr,g2:Nr,glyphName:Nr,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:N,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:N,horizOriginX:N,horizOriginY:N,id:null,ideographic:N,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:N,k:N,k1:N,k2:N,k3:N,k4:N,kernelMatrix:Xe,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:N,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:N,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:N,overlineThickness:N,paintOrder:null,panose1:null,path:null,pathLength:N,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:se,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:N,pointsAtY:N,pointsAtZ:N,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Xe,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Xe,rev:Xe,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Xe,requiredFeatures:Xe,requiredFonts:Xe,requiredFormats:Xe,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:N,specularExponent:N,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:N,strikethroughThickness:N,string:null,stroke:null,strokeDashArray:Xe,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:N,strokeOpacity:N,strokeWidth:null,style:null,surfaceScale:N,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Xe,tabIndex:N,tableValues:null,target:null,targetX:N,targetY:N,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Xe,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:N,underlineThickness:N,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:N,values:null,vAlphabetic:N,vMathematical:N,vectorEffect:null,vHanging:N,vIdeographic:N,version:null,vertAdvY:N,vertOriginX:N,vertOriginY:N,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:N,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),yk=/^data[-\w.:]+$/i,kh=/-[a-z]/g,vk=/[A-Z]/g;function wk(e,t){const n=ru(t);let r=t,i=vt;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&yk.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(kh,_k);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!kh.test(s)){let o=s.replace(vk,xk);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=mc}return new i(r,t)}function xk(e){return"-"+e.toLowerCase()}function _k(e){return e.charAt(1).toUpperCase()}const kk={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Sk=yg([xg,wg,Sg,jg,mk],"html"),gc=yg([xg,wg,Sg,jg,gk],"svg");function jk(e){return e.join(" ").trim()}var Cg={},Sh=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,Ck=/\n/g,Ek=/^\s*/,bk=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,Tk=/^:\s*/,Pk=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Nk=/^[;\s]*/,Ik=/^\s+|\s+$/g,Ok=`
`,jh="/",Ch="*",Bn="",Lk="comment",Ak="declaration",Rk=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(y){var w=y.match(Ck);w&&(n+=w.length);var x=y.lastIndexOf(Ok);r=~x?y.length-x:r+y.length}function s(){var y={line:n,column:r};return function(w){return w.position=new o(y),c(),w}}function o(y){this.start=y,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function l(y){var w=new Error(t.source+":"+n+":"+r+": "+y);if(w.reason=y,w.filename=t.source,w.line=n,w.column=r,w.source=e,!t.silent)throw w}function a(y){var w=y.exec(e);if(w){var x=w[0];return i(x),e=e.slice(x.length),w}}function c(){a(Ek)}function d(y){var w;for(y=y||[];w=h();)w!==!1&&y.push(w);return y}function h(){var y=s();if(!(jh!=e.charAt(0)||Ch!=e.charAt(1))){for(var w=2;Bn!=e.charAt(w)&&(Ch!=e.charAt(w)||jh!=e.charAt(w+1));)++w;if(w+=2,Bn===e.charAt(w-1))return l("End of comment missing");var x=e.slice(2,w-2);return r+=2,i(x),e=e.slice(w),r+=2,y({type:Lk,comment:x})}}function p(){var y=s(),w=a(bk);if(w){if(h(),!a(Tk))return l("property missing ':'");var x=a(Pk),m=y({type:Ak,property:Eh(w[0].replace(Sh,Bn)),value:x?Eh(x[0].replace(Sh,Bn)):Bn});return a(Nk),m}}function f(){var y=[];d(y);for(var w;w=p();)w!==!1&&(y.push(w),d(y));return y}return c(),f()};function Eh(e){return e?e.replace(Ik,Bn):Bn}var Fk=Ye&&Ye.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Cg,"__esModule",{value:!0});var Dk=Fk(Rk);function Mk(e,t){var n=null;if(!e||typeof e!="string")return n;var r=(0,Dk.default)(e),i=typeof t=="function";return r.forEach(function(s){if(s.type==="declaration"){var o=s.property,l=s.value;i?t(o,l,s):l&&(n=n||{},n[o]=l)}}),n}var bh=Cg.default=Mk;const zk=bh.default||bh,Eg=bg("end"),yc=bg("start");function bg(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Bk(e){const t=yc(e),n=Eg(e);if(t&&n)return{start:t,end:n}}function Li(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Th(e.position):"start"in e||"end"in e?Th(e):"line"in e||"column"in e?su(e):""}function su(e){return Ph(e&&e.line)+":"+Ph(e&&e.column)}function Th(e){return su(e&&e.start)+"-"+su(e&&e.end)}function Ph(e){return e&&typeof e=="number"?e:1}class De extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof t=="string"?i=t:!s.cause&&t&&(o=!0,i=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof r=="string"){const a=r.indexOf(":");a===-1?s.ruleId=r:(s.source=r.slice(0,a),s.ruleId=r.slice(a+1))}if(!s.place&&s.ancestors&&s.ancestors){const a=s.ancestors[s.ancestors.length-1];a&&(s.place=a.position)}const l=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=l?l.line:void 0,this.name=Li(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual,this.expected,this.note,this.url}}De.prototype.file="";De.prototype.name="";De.prototype.reason="";De.prototype.message="";De.prototype.stack="";De.prototype.column=void 0;De.prototype.line=void 0;De.prototype.ancestors=void 0;De.prototype.cause=void 0;De.prototype.fatal=void 0;De.prototype.place=void 0;De.prototype.ruleId=void 0;De.prototype.source=void 0;const vc={}.hasOwnProperty,$k=new Map,Uk=/[A-Z]/g,Hk=/-([a-z])/g,Vk=new Set(["table","tbody","thead","tfoot","tr"]),qk=new Set(["td","th"]),Tg="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Wk(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=e1(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Zk(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?gc:Sk,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=Pg(i,e,void 0);return s&&typeof s!="string"?s:i.create(e,i.Fragment,{children:s||void 0},void 0)}function Pg(e,t,n){if(t.type==="element")return Qk(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return Kk(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return Yk(e,t,n);if(t.type==="mdxjsEsm")return Jk(e,t);if(t.type==="root")return Gk(e,t,n);if(t.type==="text")return Xk(e,t)}function Qk(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=gc,e.schema=i),e.ancestors.push(t);const s=Ig(e,t.tagName,!1),o=t1(e,t);let l=xc(e,t);return Vk.has(t.tagName)&&(l=l.filter(function(a){return typeof a=="string"?!hk(a):!0})),Ng(e,o,s,t),wc(o,l),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}function Kk(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}ts(e,t.position)}function Jk(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);ts(e,t.position)}function Yk(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=gc,e.schema=i),e.ancestors.push(t);const s=t.name===null?e.Fragment:Ig(e,t.name,!0),o=n1(e,t),l=xc(e,t);return Ng(e,o,s,t),wc(o,l),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}function Gk(e,t,n){const r={};return wc(r,xc(e,t)),e.create(t,e.Fragment,r,n)}function Xk(e,t){return t.value}function Ng(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function wc(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function Zk(e,t,n){return r;function r(i,s,o,l){const c=Array.isArray(o.children)?n:t;return l?c(s,o,l):c(s,o)}}function e1(e,t){return n;function n(r,i,s,o){const l=Array.isArray(s.children),a=yc(r);return t(i,s,o,l,{columnNumber:a?a.column-1:void 0,fileName:e,lineNumber:a?a.line:void 0},void 0)}}function t1(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&vc.call(t.properties,i)){const s=r1(e,i,t.properties[i]);if(s){const[o,l]=s;e.tableCellAlignToStyle&&o==="align"&&typeof l=="string"&&qk.has(t.tagName)?r=l:n[o]=l}}if(r){const s=n.style||(n.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function n1(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const s=r.data.estree.body[0];s.type;const o=s.expression;o.type;const l=o.properties[0];l.type,Object.assign(n,e.evaluater.evaluateExpression(l.argument))}else ts(e,t.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const l=r.value.data.estree.body[0];l.type,s=e.evaluater.evaluateExpression(l.expression)}else ts(e,t.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function xc(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:$k;for(;++r<t.children.length;){const s=t.children[r];let o;if(e.passKeys){const a=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(a){const c=i.get(a)||0;o=a+"-"+c,i.set(a,c+1)}}const l=Pg(e,s,o);l!==void 0&&n.push(l)}return n}function r1(e,t,n){const r=wk(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?lk(n):jk(n)),r.property==="style"){let i=typeof n=="object"?n:i1(e,String(n));return e.stylePropertyNameCase==="css"&&(i=s1(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?kk[r.property]||r.property:r.attribute,n]}}function i1(e,t){const n={};try{zk(t,r)}catch(i){if(!e.ignoreInvalidStyle){const s=i,o=new De("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:s,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw o.file=e.filePath||void 0,o.url=Tg+"#cannot-parse-style-attribute",o}}return n;function r(i,s){let o=i;o.slice(0,2)!=="--"&&(o.slice(0,4)==="-ms-"&&(o="ms-"+o.slice(4)),o=o.replace(Hk,l1)),n[o]=s}}function Ig(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let s=-1,o;for(;++s<i.length;){const l=wh(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};o=o?{type:"MemberExpression",object:o,property:l,computed:!!(s&&l.type==="Literal"),optional:!1}:l}r=o}else r=wh(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return vc.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);ts(e)}function ts(e,t){const n=new De("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=Tg+"#cannot-handle-mdx-estrees-without-createevaluater",n}function s1(e){const t={};let n;for(n in e)vc.call(e,n)&&(t[o1(n)]=e[n]);return t}function o1(e){let t=e.replace(Uk,a1);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function l1(e,t){return t.toUpperCase()}function a1(e){return"-"+e.toLowerCase()}const Ul={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},u1={};function c1(e,t){const n=u1,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Og(e,r,i)}function Og(e,t,n){if(d1(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Nh(e.children,t,n)}return Array.isArray(e)?Nh(e,t,n):""}function Nh(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=Og(e[i],t,n);return r.join("")}function d1(e){return!!(e&&typeof e=="object")}const Ih=document.createElement("i");function _c(e){const t="&"+e+";";Ih.innerHTML=t;const n=Ih.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Jt(e,t,n,r){const i=e.length;let s=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(t,0),e.splice(...o),s+=1e4,t+=1e4}function ht(e,t){return e.length>0?(Jt(e,e.length,0,t),e):t}const Oh={}.hasOwnProperty;function h1(e){const t={};let n=-1;for(;++n<e.length;)f1(t,e[n]);return t}function f1(e,t){let n;for(n in t){const i=(Oh.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let o;if(s)for(o in s){Oh.call(i,o)||(i[o]=[]);const l=s[o];p1(i[o],Array.isArray(l)?l:l?[l]:[])}}}function p1(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Jt(e,0,0,r)}function Lg(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function Ir(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Rt=Nn(/[A-Za-z]/),rt=Nn(/[\dA-Za-z]/),m1=Nn(/[#-'*+\--9=?A-Z^-~]/);function ou(e){return e!==null&&(e<32||e===127)}const lu=Nn(/\d/),g1=Nn(/[\dA-Fa-f]/),y1=Nn(/[!-/:-@[-`{-~]/);function $(e){return e!==null&&e<-2}function Je(e){return e!==null&&(e<0||e===32)}function X(e){return e===-2||e===-1||e===32}const v1=Nn(new RegExp("\\p{P}|\\p{S}","u")),w1=Nn(/\s/);function Nn(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Yr(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let o="";if(s===37&&rt(e.charCodeAt(n+1))&&rt(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const l=e.charCodeAt(n+1);s<56320&&l>56319&&l<57344?(o=String.fromCharCode(s,l),i=1):o="�"}else o=String.fromCharCode(s);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function le(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(a){return X(a)?(e.enter(n),l(a)):t(a)}function l(a){return X(a)&&s++<i?(e.consume(a),l):(e.exit(n),t(a))}}const x1={tokenize:_1};function _1(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),le(e,t,"linePrefix")}function i(l){return e.enter("paragraph"),s(l)}function s(l){const a=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=a),n=a,o(l)}function o(l){if(l===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(l);return}return $(l)?(e.consume(l),e.exit("chunkText"),s):(e.consume(l),o)}}const k1={tokenize:S1},Lh={tokenize:j1};function S1(e){const t=this,n=[];let r=0,i,s,o;return l;function l(v){if(r<n.length){const S=n[r];return t.containerState=S[1],e.attempt(S[0].continuation,a,c)(v)}return c(v)}function a(v){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&g();const S=t.events.length;let E=S,C;for(;E--;)if(t.events[E][0]==="exit"&&t.events[E][1].type==="chunkFlow"){C=t.events[E][1].end;break}m(r);let T=S;for(;T<t.events.length;)t.events[T][1].end=Object.assign({},C),T++;return Jt(t.events,E+1,0,t.events.slice(S)),t.events.length=T,c(v)}return l(v)}function c(v){if(r===n.length){if(!i)return p(v);if(i.currentConstruct&&i.currentConstruct.concrete)return y(v);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Lh,d,h)(v)}function d(v){return i&&g(),m(r),p(v)}function h(v){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,y(v)}function p(v){return t.containerState={},e.attempt(Lh,f,y)(v)}function f(v){return r++,n.push([t.currentConstruct,t.containerState]),p(v)}function y(v){if(v===null){i&&g(),m(0),e.consume(v);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:s,_tokenizer:i}),w(v)}function w(v){if(v===null){x(e.exit("chunkFlow"),!0),m(0),e.consume(v);return}return $(v)?(e.consume(v),x(e.exit("chunkFlow")),r=0,t.interrupt=void 0,l):(e.consume(v),w)}function x(v,S){const E=t.sliceStream(v);if(S&&E.push(null),v.previous=s,s&&(s.next=v),s=v,i.defineSkip(v.start),i.write(E),t.parser.lazy[v.start.line]){let C=i.events.length;for(;C--;)if(i.events[C][1].start.offset<o&&(!i.events[C][1].end||i.events[C][1].end.offset>o))return;const T=t.events.length;let I=T,M,R;for(;I--;)if(t.events[I][0]==="exit"&&t.events[I][1].type==="chunkFlow"){if(M){R=t.events[I][1].end;break}M=!0}for(m(r),C=T;C<t.events.length;)t.events[C][1].end=Object.assign({},R),C++;Jt(t.events,I+1,0,t.events.slice(T)),t.events.length=C}}function m(v){let S=n.length;for(;S-- >v;){const E=n[S];t.containerState=E[1],E[0].exit.call(t,e)}n.length=v}function g(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function j1(e,t,n){return le(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Ah(e){if(e===null||Je(e)||w1(e))return 1;if(v1(e))return 2}function kc(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const au={name:"attention",tokenize:E1,resolveAll:C1};function C1(e,t){let n=-1,r,i,s,o,l,a,c,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;a=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const h=Object.assign({},e[r][1].end),p=Object.assign({},e[n][1].start);Rh(h,-a),Rh(p,a),o={type:a>1?"strongSequence":"emphasisSequence",start:h,end:Object.assign({},e[r][1].end)},l={type:a>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[n][1].start),end:p},s={type:a>1?"strongText":"emphasisText",start:Object.assign({},e[r][1].end),end:Object.assign({},e[n][1].start)},i={type:a>1?"strong":"emphasis",start:Object.assign({},o.start),end:Object.assign({},l.end)},e[r][1].end=Object.assign({},o.start),e[n][1].start=Object.assign({},l.end),c=[],e[r][1].end.offset-e[r][1].start.offset&&(c=ht(c,[["enter",e[r][1],t],["exit",e[r][1],t]])),c=ht(c,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",s,t]]),c=ht(c,kc(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),c=ht(c,[["exit",s,t],["enter",l,t],["exit",l,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,c=ht(c,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,Jt(e,r-1,n-r+3,c),n=r+c.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function E1(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Ah(r);let s;return o;function o(a){return s=a,e.enter("attentionSequence"),l(a)}function l(a){if(a===s)return e.consume(a),l;const c=e.exit("attentionSequence"),d=Ah(a),h=!d||d===2&&i||n.includes(a),p=!i||i===2&&d||n.includes(r);return c._open=!!(s===42?h:h&&(i||!p)),c._close=!!(s===42?p:p&&(d||!h)),t(a)}}function Rh(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const b1={name:"autolink",tokenize:T1};function T1(e,t,n){let r=0;return i;function i(f){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(f){return Rt(f)?(e.consume(f),o):f===64?n(f):c(f)}function o(f){return f===43||f===45||f===46||rt(f)?(r=1,l(f)):c(f)}function l(f){return f===58?(e.consume(f),r=0,a):(f===43||f===45||f===46||rt(f))&&r++<32?(e.consume(f),l):(r=0,c(f))}function a(f){return f===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.exit("autolink"),t):f===null||f===32||f===60||ou(f)?n(f):(e.consume(f),a)}function c(f){return f===64?(e.consume(f),d):m1(f)?(e.consume(f),c):n(f)}function d(f){return rt(f)?h(f):n(f)}function h(f){return f===46?(e.consume(f),r=0,d):f===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.exit("autolink"),t):p(f)}function p(f){if((f===45||rt(f))&&r++<63){const y=f===45?p:h;return e.consume(f),y}return n(f)}}const il={tokenize:P1,partial:!0};function P1(e,t,n){return r;function r(s){return X(s)?le(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||$(s)?t(s):n(s)}}const Ag={name:"blockQuote",tokenize:N1,continuation:{tokenize:I1},exit:O1};function N1(e,t,n){const r=this;return i;function i(o){if(o===62){const l=r.containerState;return l.open||(e.enter("blockQuote",{_container:!0}),l.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),s}return n(o)}function s(o){return X(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function I1(e,t,n){const r=this;return i;function i(o){return X(o)?le(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return e.attempt(Ag,t,n)(o)}}function O1(e){e.exit("blockQuote")}const Rg={name:"characterEscape",tokenize:L1};function L1(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return y1(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const Fg={name:"characterReference",tokenize:A1};function A1(e,t,n){const r=this;let i=0,s,o;return l;function l(h){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),a}function a(h){return h===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(h),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),s=31,o=rt,d(h))}function c(h){return h===88||h===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(h),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,o=g1,d):(e.enter("characterReferenceValue"),s=7,o=lu,d(h))}function d(h){if(h===59&&i){const p=e.exit("characterReferenceValue");return o===rt&&!_c(r.sliceSerialize(p))?n(h):(e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(h)&&i++<s?(e.consume(h),d):n(h)}}const Fh={tokenize:F1,partial:!0},Dh={name:"codeFenced",tokenize:R1,concrete:!0};function R1(e,t,n){const r=this,i={tokenize:E,partial:!0};let s=0,o=0,l;return a;function a(C){return c(C)}function c(C){const T=r.events[r.events.length-1];return s=T&&T[1].type==="linePrefix"?T[2].sliceSerialize(T[1],!0).length:0,l=C,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(C)}function d(C){return C===l?(o++,e.consume(C),d):o<3?n(C):(e.exit("codeFencedFenceSequence"),X(C)?le(e,h,"whitespace")(C):h(C))}function h(C){return C===null||$(C)?(e.exit("codeFencedFence"),r.interrupt?t(C):e.check(Fh,w,S)(C)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),p(C))}function p(C){return C===null||$(C)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),h(C)):X(C)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),le(e,f,"whitespace")(C)):C===96&&C===l?n(C):(e.consume(C),p)}function f(C){return C===null||$(C)?h(C):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),y(C))}function y(C){return C===null||$(C)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),h(C)):C===96&&C===l?n(C):(e.consume(C),y)}function w(C){return e.attempt(i,S,x)(C)}function x(C){return e.enter("lineEnding"),e.consume(C),e.exit("lineEnding"),m}function m(C){return s>0&&X(C)?le(e,g,"linePrefix",s+1)(C):g(C)}function g(C){return C===null||$(C)?e.check(Fh,w,S)(C):(e.enter("codeFlowValue"),v(C))}function v(C){return C===null||$(C)?(e.exit("codeFlowValue"),g(C)):(e.consume(C),v)}function S(C){return e.exit("codeFenced"),t(C)}function E(C,T,I){let M=0;return R;function R(W){return C.enter("lineEnding"),C.consume(W),C.exit("lineEnding"),D}function D(W){return C.enter("codeFencedFence"),X(W)?le(C,A,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(W):A(W)}function A(W){return W===l?(C.enter("codeFencedFenceSequence"),J(W)):I(W)}function J(W){return W===l?(M++,C.consume(W),J):M>=o?(C.exit("codeFencedFenceSequence"),X(W)?le(C,fe,"whitespace")(W):fe(W)):I(W)}function fe(W){return W===null||$(W)?(C.exit("codeFencedFence"),T(W)):I(W)}}}function F1(e,t,n){const r=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const Hl={name:"codeIndented",tokenize:M1},D1={tokenize:z1,partial:!0};function M1(e,t,n){const r=this;return i;function i(c){return e.enter("codeIndented"),le(e,s,"linePrefix",5)(c)}function s(c){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?o(c):n(c)}function o(c){return c===null?a(c):$(c)?e.attempt(D1,o,a)(c):(e.enter("codeFlowValue"),l(c))}function l(c){return c===null||$(c)?(e.exit("codeFlowValue"),o(c)):(e.consume(c),l)}function a(c){return e.exit("codeIndented"),t(c)}}function z1(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):$(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):le(e,s,"linePrefix",5)(o)}function s(o){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(o):$(o)?i(o):n(o)}}const B1={name:"codeText",tokenize:H1,resolve:$1,previous:U1};function $1(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function U1(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function H1(e,t,n){let r=0,i,s;return o;function o(h){return e.enter("codeText"),e.enter("codeTextSequence"),l(h)}function l(h){return h===96?(e.consume(h),r++,l):(e.exit("codeTextSequence"),a(h))}function a(h){return h===null?n(h):h===32?(e.enter("space"),e.consume(h),e.exit("space"),a):h===96?(s=e.enter("codeTextSequence"),i=0,d(h)):$(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),a):(e.enter("codeTextData"),c(h))}function c(h){return h===null||h===32||h===96||$(h)?(e.exit("codeTextData"),a(h)):(e.consume(h),c)}function d(h){return h===96?(e.consume(h),i++,d):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(h)):(s.type="codeTextData",c(h))}}class V1{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&di(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),di(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),di(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);di(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);di(this.left,n.reverse())}}}function di(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function Dg(e){const t={};let n=-1,r,i,s,o,l,a,c;const d=new V1(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(a=r[1]._tokenizer.events,s=0,s<a.length&&a[s][1].type==="lineEndingBlank"&&(s+=2),s<a.length&&a[s][1].type==="content"))for(;++s<a.length&&a[s][1].type!=="content";)a[s][1].type==="chunkText"&&(a[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,q1(d,n)),n=t[n],c=!0);else if(r[1]._container){for(s=n,i=void 0;s--&&(o=d.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank");)o[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);i&&(r[1].end=Object.assign({},d.get(i)[1].start),l=d.slice(i,n),l.unshift(r),d.splice(i,n-i+1,l))}}return Jt(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!c}function q1(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const s=[],o=n._tokenizer||r.parser[n.contentType](n.start),l=o.events,a=[],c={};let d,h,p=-1,f=n,y=0,w=0;const x=[w];for(;f;){for(;e.get(++i)[1]!==f;);s.push(i),f._tokenizer||(d=r.sliceStream(f),f.next||d.push(null),h&&o.defineSkip(f.start),f._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(d),f._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),h=f,f=f.next}for(f=n;++p<l.length;)l[p][0]==="exit"&&l[p-1][0]==="enter"&&l[p][1].type===l[p-1][1].type&&l[p][1].start.line!==l[p][1].end.line&&(w=p+1,x.push(w),f._tokenizer=void 0,f.previous=void 0,f=f.next);for(o.events=[],f?(f._tokenizer=void 0,f.previous=void 0):x.pop(),p=x.length;p--;){const m=l.slice(x[p],x[p+1]),g=s.pop();a.push([g,g+m.length-1]),e.splice(g,2,m)}for(a.reverse(),p=-1;++p<a.length;)c[y+a[p][0]]=y+a[p][1],y+=a[p][1]-a[p][0]-1;return c}const W1={tokenize:J1,resolve:K1},Q1={tokenize:Y1,partial:!0};function K1(e){return Dg(e),e}function J1(e,t){let n;return r;function r(l){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(l)}function i(l){return l===null?s(l):$(l)?e.check(Q1,o,s)(l):(e.consume(l),i)}function s(l){return e.exit("chunkContent"),e.exit("content"),t(l)}function o(l){return e.consume(l),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Y1(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),le(e,s,"linePrefix")}function s(o){if(o===null||$(o))return n(o);const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function Mg(e,t,n,r,i,s,o,l,a){const c=a||Number.POSITIVE_INFINITY;let d=0;return h;function h(m){return m===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(m),e.exit(s),p):m===null||m===32||m===41||ou(m)?n(m):(e.enter(r),e.enter(o),e.enter(l),e.enter("chunkString",{contentType:"string"}),w(m))}function p(m){return m===62?(e.enter(s),e.consume(m),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(l),e.enter("chunkString",{contentType:"string"}),f(m))}function f(m){return m===62?(e.exit("chunkString"),e.exit(l),p(m)):m===null||m===60||$(m)?n(m):(e.consume(m),m===92?y:f)}function y(m){return m===60||m===62||m===92?(e.consume(m),f):f(m)}function w(m){return!d&&(m===null||m===41||Je(m))?(e.exit("chunkString"),e.exit(l),e.exit(o),e.exit(r),t(m)):d<c&&m===40?(e.consume(m),d++,w):m===41?(e.consume(m),d--,w):m===null||m===32||m===40||ou(m)?n(m):(e.consume(m),m===92?x:w)}function x(m){return m===40||m===41||m===92?(e.consume(m),w):w(m)}}function zg(e,t,n,r,i,s){const o=this;let l=0,a;return c;function c(f){return e.enter(r),e.enter(i),e.consume(f),e.exit(i),e.enter(s),d}function d(f){return l>999||f===null||f===91||f===93&&!a||f===94&&!l&&"_hiddenFootnoteSupport"in o.parser.constructs?n(f):f===93?(e.exit(s),e.enter(i),e.consume(f),e.exit(i),e.exit(r),t):$(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),h(f))}function h(f){return f===null||f===91||f===93||$(f)||l++>999?(e.exit("chunkString"),d(f)):(e.consume(f),a||(a=!X(f)),f===92?p:h)}function p(f){return f===91||f===92||f===93?(e.consume(f),l++,h):h(f)}}function Bg(e,t,n,r,i,s){let o;return l;function l(p){return p===34||p===39||p===40?(e.enter(r),e.enter(i),e.consume(p),e.exit(i),o=p===40?41:p,a):n(p)}function a(p){return p===o?(e.enter(i),e.consume(p),e.exit(i),e.exit(r),t):(e.enter(s),c(p))}function c(p){return p===o?(e.exit(s),a(o)):p===null?n(p):$(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),le(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===o||p===null||$(p)?(e.exit("chunkString"),c(p)):(e.consume(p),p===92?h:d)}function h(p){return p===o||p===92?(e.consume(p),d):d(p)}}function Ai(e,t){let n;return r;function r(i){return $(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):X(i)?le(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const G1={name:"definition",tokenize:Z1},X1={tokenize:eS,partial:!0};function Z1(e,t,n){const r=this;let i;return s;function s(f){return e.enter("definition"),o(f)}function o(f){return zg.call(r,e,l,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(f)}function l(f){return i=Ir(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),f===58?(e.enter("definitionMarker"),e.consume(f),e.exit("definitionMarker"),a):n(f)}function a(f){return Je(f)?Ai(e,c)(f):c(f)}function c(f){return Mg(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(f)}function d(f){return e.attempt(X1,h,h)(f)}function h(f){return X(f)?le(e,p,"whitespace")(f):p(f)}function p(f){return f===null||$(f)?(e.exit("definition"),r.parser.defined.push(i),t(f)):n(f)}}function eS(e,t,n){return r;function r(l){return Je(l)?Ai(e,i)(l):n(l)}function i(l){return Bg(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function s(l){return X(l)?le(e,o,"whitespace")(l):o(l)}function o(l){return l===null||$(l)?t(l):n(l)}}const tS={name:"hardBreakEscape",tokenize:nS};function nS(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return $(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const rS={name:"headingAtx",tokenize:sS,resolve:iS};function iS(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Jt(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function sS(e,t,n){let r=0;return i;function i(d){return e.enter("atxHeading"),s(d)}function s(d){return e.enter("atxHeadingSequence"),o(d)}function o(d){return d===35&&r++<6?(e.consume(d),o):d===null||Je(d)?(e.exit("atxHeadingSequence"),l(d)):n(d)}function l(d){return d===35?(e.enter("atxHeadingSequence"),a(d)):d===null||$(d)?(e.exit("atxHeading"),t(d)):X(d)?le(e,l,"whitespace")(d):(e.enter("atxHeadingText"),c(d))}function a(d){return d===35?(e.consume(d),a):(e.exit("atxHeadingSequence"),l(d))}function c(d){return d===null||d===35||Je(d)?(e.exit("atxHeadingText"),l(d)):(e.consume(d),c)}}const oS=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Mh=["pre","script","style","textarea"],lS={name:"htmlFlow",tokenize:dS,resolveTo:cS,concrete:!0},aS={tokenize:fS,partial:!0},uS={tokenize:hS,partial:!0};function cS(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function dS(e,t,n){const r=this;let i,s,o,l,a;return c;function c(j){return d(j)}function d(j){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(j),h}function h(j){return j===33?(e.consume(j),p):j===47?(e.consume(j),s=!0,w):j===63?(e.consume(j),i=3,r.interrupt?t:k):Rt(j)?(e.consume(j),o=String.fromCharCode(j),x):n(j)}function p(j){return j===45?(e.consume(j),i=2,f):j===91?(e.consume(j),i=5,l=0,y):Rt(j)?(e.consume(j),i=4,r.interrupt?t:k):n(j)}function f(j){return j===45?(e.consume(j),r.interrupt?t:k):n(j)}function y(j){const je="CDATA[";return j===je.charCodeAt(l++)?(e.consume(j),l===je.length?r.interrupt?t:A:y):n(j)}function w(j){return Rt(j)?(e.consume(j),o=String.fromCharCode(j),x):n(j)}function x(j){if(j===null||j===47||j===62||Je(j)){const je=j===47,wt=o.toLowerCase();return!je&&!s&&Mh.includes(wt)?(i=1,r.interrupt?t(j):A(j)):oS.includes(o.toLowerCase())?(i=6,je?(e.consume(j),m):r.interrupt?t(j):A(j)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(j):s?g(j):v(j))}return j===45||rt(j)?(e.consume(j),o+=String.fromCharCode(j),x):n(j)}function m(j){return j===62?(e.consume(j),r.interrupt?t:A):n(j)}function g(j){return X(j)?(e.consume(j),g):R(j)}function v(j){return j===47?(e.consume(j),R):j===58||j===95||Rt(j)?(e.consume(j),S):X(j)?(e.consume(j),v):R(j)}function S(j){return j===45||j===46||j===58||j===95||rt(j)?(e.consume(j),S):E(j)}function E(j){return j===61?(e.consume(j),C):X(j)?(e.consume(j),E):v(j)}function C(j){return j===null||j===60||j===61||j===62||j===96?n(j):j===34||j===39?(e.consume(j),a=j,T):X(j)?(e.consume(j),C):I(j)}function T(j){return j===a?(e.consume(j),a=null,M):j===null||$(j)?n(j):(e.consume(j),T)}function I(j){return j===null||j===34||j===39||j===47||j===60||j===61||j===62||j===96||Je(j)?E(j):(e.consume(j),I)}function M(j){return j===47||j===62||X(j)?v(j):n(j)}function R(j){return j===62?(e.consume(j),D):n(j)}function D(j){return j===null||$(j)?A(j):X(j)?(e.consume(j),D):n(j)}function A(j){return j===45&&i===2?(e.consume(j),_e):j===60&&i===1?(e.consume(j),we):j===62&&i===4?(e.consume(j),Y):j===63&&i===3?(e.consume(j),k):j===93&&i===5?(e.consume(j),z):$(j)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(aS,ne,J)(j)):j===null||$(j)?(e.exit("htmlFlowData"),J(j)):(e.consume(j),A)}function J(j){return e.check(uS,fe,ne)(j)}function fe(j){return e.enter("lineEnding"),e.consume(j),e.exit("lineEnding"),W}function W(j){return j===null||$(j)?J(j):(e.enter("htmlFlowData"),A(j))}function _e(j){return j===45?(e.consume(j),k):A(j)}function we(j){return j===47?(e.consume(j),o="",L):A(j)}function L(j){if(j===62){const je=o.toLowerCase();return Mh.includes(je)?(e.consume(j),Y):A(j)}return Rt(j)&&o.length<8?(e.consume(j),o+=String.fromCharCode(j),L):A(j)}function z(j){return j===93?(e.consume(j),k):A(j)}function k(j){return j===62?(e.consume(j),Y):j===45&&i===2?(e.consume(j),k):A(j)}function Y(j){return j===null||$(j)?(e.exit("htmlFlowData"),ne(j)):(e.consume(j),Y)}function ne(j){return e.exit("htmlFlow"),t(j)}}function hS(e,t,n){const r=this;return i;function i(o){return $(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function fS(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(il,t,n)}}const pS={name:"htmlText",tokenize:mS};function mS(e,t,n){const r=this;let i,s,o;return l;function l(k){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(k),a}function a(k){return k===33?(e.consume(k),c):k===47?(e.consume(k),E):k===63?(e.consume(k),v):Rt(k)?(e.consume(k),I):n(k)}function c(k){return k===45?(e.consume(k),d):k===91?(e.consume(k),s=0,y):Rt(k)?(e.consume(k),g):n(k)}function d(k){return k===45?(e.consume(k),f):n(k)}function h(k){return k===null?n(k):k===45?(e.consume(k),p):$(k)?(o=h,we(k)):(e.consume(k),h)}function p(k){return k===45?(e.consume(k),f):h(k)}function f(k){return k===62?_e(k):k===45?p(k):h(k)}function y(k){const Y="CDATA[";return k===Y.charCodeAt(s++)?(e.consume(k),s===Y.length?w:y):n(k)}function w(k){return k===null?n(k):k===93?(e.consume(k),x):$(k)?(o=w,we(k)):(e.consume(k),w)}function x(k){return k===93?(e.consume(k),m):w(k)}function m(k){return k===62?_e(k):k===93?(e.consume(k),m):w(k)}function g(k){return k===null||k===62?_e(k):$(k)?(o=g,we(k)):(e.consume(k),g)}function v(k){return k===null?n(k):k===63?(e.consume(k),S):$(k)?(o=v,we(k)):(e.consume(k),v)}function S(k){return k===62?_e(k):v(k)}function E(k){return Rt(k)?(e.consume(k),C):n(k)}function C(k){return k===45||rt(k)?(e.consume(k),C):T(k)}function T(k){return $(k)?(o=T,we(k)):X(k)?(e.consume(k),T):_e(k)}function I(k){return k===45||rt(k)?(e.consume(k),I):k===47||k===62||Je(k)?M(k):n(k)}function M(k){return k===47?(e.consume(k),_e):k===58||k===95||Rt(k)?(e.consume(k),R):$(k)?(o=M,we(k)):X(k)?(e.consume(k),M):_e(k)}function R(k){return k===45||k===46||k===58||k===95||rt(k)?(e.consume(k),R):D(k)}function D(k){return k===61?(e.consume(k),A):$(k)?(o=D,we(k)):X(k)?(e.consume(k),D):M(k)}function A(k){return k===null||k===60||k===61||k===62||k===96?n(k):k===34||k===39?(e.consume(k),i=k,J):$(k)?(o=A,we(k)):X(k)?(e.consume(k),A):(e.consume(k),fe)}function J(k){return k===i?(e.consume(k),i=void 0,W):k===null?n(k):$(k)?(o=J,we(k)):(e.consume(k),J)}function fe(k){return k===null||k===34||k===39||k===60||k===61||k===96?n(k):k===47||k===62||Je(k)?M(k):(e.consume(k),fe)}function W(k){return k===47||k===62||Je(k)?M(k):n(k)}function _e(k){return k===62?(e.consume(k),e.exit("htmlTextData"),e.exit("htmlText"),t):n(k)}function we(k){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),L}function L(k){return X(k)?le(e,z,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(k):z(k)}function z(k){return e.enter("htmlTextData"),o(k)}}const Sc={name:"labelEnd",tokenize:_S,resolveTo:xS,resolveAll:wS},gS={tokenize:kS},yS={tokenize:SS},vS={tokenize:jS};function wS(e){let t=-1;for(;++t<e.length;){const n=e[t][1];(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(e.splice(t+1,n.type==="labelImage"?4:2),n.type="data",t++)}return e}function xS(e,t){let n=e.length,r=0,i,s,o,l;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const a={type:e[s][1].type==="labelLink"?"link":"image",start:Object.assign({},e[s][1].start),end:Object.assign({},e[e.length-1][1].end)},c={type:"label",start:Object.assign({},e[s][1].start),end:Object.assign({},e[o][1].end)},d={type:"labelText",start:Object.assign({},e[s+r+2][1].end),end:Object.assign({},e[o-2][1].start)};return l=[["enter",a,t],["enter",c,t]],l=ht(l,e.slice(s+1,s+r+3)),l=ht(l,[["enter",d,t]]),l=ht(l,kc(t.parser.constructs.insideSpan.null,e.slice(s+r+4,o-3),t)),l=ht(l,[["exit",d,t],e[o-2],e[o-1],["exit",c,t]]),l=ht(l,e.slice(o+1)),l=ht(l,[["exit",a,t]]),Jt(e,s,e.length,l),e}function _S(e,t,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return l;function l(p){return s?s._inactive?h(p):(o=r.parser.defined.includes(Ir(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(p),e.exit("labelMarker"),e.exit("labelEnd"),a):n(p)}function a(p){return p===40?e.attempt(gS,d,o?d:h)(p):p===91?e.attempt(yS,d,o?c:h)(p):o?d(p):h(p)}function c(p){return e.attempt(vS,d,h)(p)}function d(p){return t(p)}function h(p){return s._balanced=!0,n(p)}}function kS(e,t,n){return r;function r(h){return e.enter("resource"),e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),i}function i(h){return Je(h)?Ai(e,s)(h):s(h)}function s(h){return h===41?d(h):Mg(e,o,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function o(h){return Je(h)?Ai(e,a)(h):d(h)}function l(h){return n(h)}function a(h){return h===34||h===39||h===40?Bg(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):d(h)}function c(h){return Je(h)?Ai(e,d)(h):d(h)}function d(h){return h===41?(e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),e.exit("resource"),t):n(h)}}function SS(e,t,n){const r=this;return i;function i(l){return zg.call(r,e,s,o,"reference","referenceMarker","referenceString")(l)}function s(l){return r.parser.defined.includes(Ir(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(l):n(l)}function o(l){return n(l)}}function jS(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const CS={name:"labelStartImage",tokenize:ES,resolveAll:Sc.resolveAll};function ES(e,t,n){const r=this;return i;function i(l){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(l),e.exit("labelImageMarker"),s}function s(l){return l===91?(e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelImage"),o):n(l)}function o(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):t(l)}}const bS={name:"labelStartLink",tokenize:TS,resolveAll:Sc.resolveAll};function TS(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const Vl={name:"lineEnding",tokenize:PS};function PS(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),le(e,t,"linePrefix")}}const Ys={name:"thematicBreak",tokenize:NS};function NS(e,t,n){let r=0,i;return s;function s(c){return e.enter("thematicBreak"),o(c)}function o(c){return i=c,l(c)}function l(c){return c===i?(e.enter("thematicBreakSequence"),a(c)):r>=3&&(c===null||$(c))?(e.exit("thematicBreak"),t(c)):n(c)}function a(c){return c===i?(e.consume(c),r++,a):(e.exit("thematicBreakSequence"),X(c)?le(e,l,"whitespace")(c):l(c))}}const He={name:"list",tokenize:LS,continuation:{tokenize:AS},exit:FS},IS={tokenize:DS,partial:!0},OS={tokenize:RS,partial:!0};function LS(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return l;function l(f){const y=r.containerState.type||(f===42||f===43||f===45?"listUnordered":"listOrdered");if(y==="listUnordered"?!r.containerState.marker||f===r.containerState.marker:lu(f)){if(r.containerState.type||(r.containerState.type=y,e.enter(y,{_container:!0})),y==="listUnordered")return e.enter("listItemPrefix"),f===42||f===45?e.check(Ys,n,c)(f):c(f);if(!r.interrupt||f===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),a(f)}return n(f)}function a(f){return lu(f)&&++o<10?(e.consume(f),a):(!r.interrupt||o<2)&&(r.containerState.marker?f===r.containerState.marker:f===41||f===46)?(e.exit("listItemValue"),c(f)):n(f)}function c(f){return e.enter("listItemMarker"),e.consume(f),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||f,e.check(il,r.interrupt?n:d,e.attempt(IS,p,h))}function d(f){return r.containerState.initialBlankLine=!0,s++,p(f)}function h(f){return X(f)?(e.enter("listItemPrefixWhitespace"),e.consume(f),e.exit("listItemPrefixWhitespace"),p):n(f)}function p(f){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(f)}}function AS(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(il,i,s);function i(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,le(e,t,"listItemIndent",r.containerState.size+1)(l)}function s(l){return r.containerState.furtherBlankLines||!X(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(OS,t,o)(l))}function o(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,le(e,e.attempt(He,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function RS(e,t,n){const r=this;return le(e,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(s):n(s)}}function FS(e){e.exit(this.containerState.type)}function DS(e,t,n){const r=this;return le(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!X(s)&&o&&o[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const zh={name:"setextUnderline",tokenize:zS,resolveTo:MS};function MS(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",o,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end=Object.assign({},e[s][1].end)):e[r][1]=o,e.push(["exit",o,t]),e}function zS(e,t,n){const r=this;let i;return s;function s(c){let d=r.events.length,h;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){h=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||h)?(e.enter("setextHeadingLine"),i=c,o(c)):n(c)}function o(c){return e.enter("setextHeadingLineSequence"),l(c)}function l(c){return c===i?(e.consume(c),l):(e.exit("setextHeadingLineSequence"),X(c)?le(e,a,"lineSuffix")(c):a(c))}function a(c){return c===null||$(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const BS={tokenize:$S};function $S(e){const t=this,n=e.attempt(il,r,e.attempt(this.parser.constructs.flowInitial,i,le(e,e.attempt(this.parser.constructs.flow,i,e.attempt(W1,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const US={resolveAll:Ug()},HS=$g("string"),VS=$g("text");function $g(e){return{tokenize:t,resolveAll:Ug(e==="text"?qS:void 0)};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,o,l);return o;function o(d){return c(d)?s(d):l(d)}function l(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),a}function a(d){return c(d)?(n.exit("data"),s(d)):(n.consume(d),a)}function c(d){if(d===null)return!0;const h=i[d];let p=-1;if(h)for(;++p<h.length;){const f=h[p];if(!f.previous||f.previous.call(r,r.previous))return!0}return!1}}}function Ug(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function qS(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,o=-1,l=0,a;for(;s--;){const c=i[s];if(typeof c=="string"){for(o=c.length;c.charCodeAt(o-1)===32;)l++,o--;if(o)break;o=-1}else if(c===-2)a=!0,l++;else if(c!==-1){s++;break}}if(l){const c={type:n===e.length||a||l<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-l,offset:r.end.offset-l,_index:r.start._index+s,_bufferIndex:s?o:r.start._bufferIndex+o},end:Object.assign({},r.end)};r.end=Object.assign({},c.start),r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}function WS(e,t,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},s=[];let o=[],l=[];const a={consume:g,enter:v,exit:S,attempt:T(E),check:T(C),interrupt:T(C,{interrupt:!0})},c={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:f,sliceSerialize:p,now:y,defineSkip:w,write:h};let d=t.tokenize.call(c,a);return t.resolveAll&&s.push(t),c;function h(D){return o=ht(o,D),x(),o[o.length-1]!==null?[]:(I(t,0),c.events=kc(s,c.events,c),c.events)}function p(D,A){return KS(f(D),A)}function f(D){return QS(o,D)}function y(){const{line:D,column:A,offset:J,_index:fe,_bufferIndex:W}=r;return{line:D,column:A,offset:J,_index:fe,_bufferIndex:W}}function w(D){i[D.line]=D.column,R()}function x(){let D;for(;r._index<o.length;){const A=o[r._index];if(typeof A=="string")for(D=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===D&&r._bufferIndex<A.length;)m(A.charCodeAt(r._bufferIndex));else m(A)}}function m(D){d=d(D)}function g(D){$(D)?(r.line++,r.column=1,r.offset+=D===-3?2:1,R()):D!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=D}function v(D,A){const J=A||{};return J.type=D,J.start=y(),c.events.push(["enter",J,c]),l.push(J),J}function S(D){const A=l.pop();return A.end=y(),c.events.push(["exit",A,c]),A}function E(D,A){I(D,A.from)}function C(D,A){A.restore()}function T(D,A){return J;function J(fe,W,_e){let we,L,z,k;return Array.isArray(fe)?ne(fe):"tokenize"in fe?ne([fe]):Y(fe);function Y(ae){return Nt;function Nt(Gt){const ir=Gt!==null&&ae[Gt],On=Gt!==null&&ae.null,ll=[...Array.isArray(ir)?ir:ir?[ir]:[],...Array.isArray(On)?On:On?[On]:[]];return ne(ll)(Gt)}}function ne(ae){return we=ae,L=0,ae.length===0?_e:j(ae[L])}function j(ae){return Nt;function Nt(Gt){return k=M(),z=ae,ae.partial||(c.currentConstruct=ae),ae.name&&c.parser.constructs.disable.null.includes(ae.name)?wt():ae.tokenize.call(A?Object.assign(Object.create(c),A):c,a,je,wt)(Gt)}}function je(ae){return D(z,k),W}function wt(ae){return k.restore(),++L<we.length?j(we[L]):_e}}}function I(D,A){D.resolveAll&&!s.includes(D)&&s.push(D),D.resolve&&Jt(c.events,A,c.events.length-A,D.resolve(c.events.slice(A),c)),D.resolveTo&&(c.events=D.resolveTo(c.events,c))}function M(){const D=y(),A=c.previous,J=c.currentConstruct,fe=c.events.length,W=Array.from(l);return{restore:_e,from:fe};function _e(){r=D,c.previous=A,c.currentConstruct=J,c.events.length=fe,l=W,R()}}function R(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function QS(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,s)];else{if(o=e.slice(n,i),r>-1){const l=o[0];typeof l=="string"?o[0]=l.slice(r):o.shift()}s>0&&o.push(e[i].slice(0,s))}return o}function KS(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}const JS={42:He,43:He,45:He,48:He,49:He,50:He,51:He,52:He,53:He,54:He,55:He,56:He,57:He,62:Ag},YS={91:G1},GS={[-2]:Hl,[-1]:Hl,32:Hl},XS={35:rS,42:Ys,45:[zh,Ys],60:lS,61:zh,95:Ys,96:Dh,126:Dh},ZS={38:Fg,92:Rg},ej={[-5]:Vl,[-4]:Vl,[-3]:Vl,33:CS,38:Fg,42:au,60:[b1,pS],91:bS,92:[tS,Rg],93:Sc,95:au,96:B1},tj={null:[au,US]},nj={null:[42,95]},rj={null:[]},ij=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:nj,contentInitial:YS,disable:rj,document:JS,flow:XS,flowInitial:GS,insideSpan:tj,string:ZS,text:ej},Symbol.toStringTag,{value:"Module"}));function sj(e){const n=h1([ij,...(e||{}).extensions||[]]),r={defined:[],lazy:{},constructs:n,content:i(x1),document:i(k1),flow:i(BS),string:i(HS),text:i(VS)};return r;function i(s){return o;function o(l){return WS(r,s,l)}}}function oj(e){for(;!Dg(e););return e}const Bh=/[\0\t\n\r]/g;function lj(){let e=1,t="",n=!0,r;return i;function i(s,o,l){const a=[];let c,d,h,p,f;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),h=0,t="",n&&(s.charCodeAt(0)===65279&&h++,n=void 0);h<s.length;){if(Bh.lastIndex=h,c=Bh.exec(s),p=c&&c.index!==void 0?c.index:s.length,f=s.charCodeAt(p),!c){t=s.slice(h);break}if(f===10&&h===p&&r)a.push(-3),r=void 0;else switch(r&&(a.push(-5),r=void 0),h<p&&(a.push(s.slice(h,p)),e+=p-h),f){case 0:{a.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,a.push(-2);e++<d;)a.push(-1);break}case 10:{a.push(-4),e=1;break}default:r=!0,e=1}h=p+1}return l&&(r&&a.push(-5),t&&a.push(t),a.push(null)),a}}const aj=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function uj(e){return e.replace(aj,cj)}function cj(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return Lg(n.slice(s?2:1),s?16:10)}return _c(n)||e}const Hg={}.hasOwnProperty;function dj(e,t,n){return typeof t!="string"&&(n=t,t=void 0),hj(n)(oj(sj(n).document().write(lj()(e,t,!0))))}function hj(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(Fc),autolinkProtocol:M,autolinkEmail:M,atxHeading:s(Lc),blockQuote:s(ir),characterEscape:M,characterReference:M,codeFenced:s(On),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(On,o),codeText:s(ll,o),codeTextData:M,data:M,codeFlowValue:M,definition:s(sy),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(oy),hardBreakEscape:s(Ac),hardBreakTrailing:s(Ac),htmlFlow:s(Rc,o),htmlFlowData:M,htmlText:s(Rc,o),htmlTextData:M,image:s(ly),label:o,link:s(Fc),listItem:s(ay),listItemValue:p,listOrdered:s(Dc,h),listUnordered:s(Dc),paragraph:s(uy),reference:j,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(Lc),strong:s(cy),thematicBreak:s(hy)},exit:{atxHeading:a(),atxHeadingSequence:E,autolink:a(),autolinkEmail:Gt,autolinkProtocol:Nt,blockQuote:a(),characterEscapeValue:R,characterReferenceMarkerHexadecimal:wt,characterReferenceMarkerNumeric:wt,characterReferenceValue:ae,codeFenced:a(x),codeFencedFence:w,codeFencedFenceInfo:f,codeFencedFenceMeta:y,codeFlowValue:R,codeIndented:a(m),codeText:a(W),codeTextData:R,data:R,definition:a(),definitionDestinationString:S,definitionLabelString:g,definitionTitleString:v,emphasis:a(),hardBreakEscape:a(A),hardBreakTrailing:a(A),htmlFlow:a(J),htmlFlowData:R,htmlText:a(fe),htmlTextData:R,image:a(we),label:z,labelText:L,lineEnding:D,link:a(_e),listItem:a(),listOrdered:a(),listUnordered:a(),paragraph:a(),referenceString:je,resourceDestinationString:k,resourceTitleString:Y,resource:ne,setextHeading:a(I),setextHeadingLineSequence:T,setextHeadingText:C,strong:a(),thematicBreak:a()}};Vg(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(b){let O={type:"root",children:[]};const U={stack:[O],tokenStack:[],config:t,enter:l,exit:c,buffer:o,resume:d,data:n},Q=[];let re=-1;for(;++re<b.length;)if(b[re][1].type==="listOrdered"||b[re][1].type==="listUnordered")if(b[re][0]==="enter")Q.push(re);else{const xt=Q.pop();re=i(b,xt,re)}for(re=-1;++re<b.length;){const xt=t[b[re][0]];Hg.call(xt,b[re][1].type)&&xt[b[re][1].type].call(Object.assign({sliceSerialize:b[re][2].sliceSerialize},U),b[re][1])}if(U.tokenStack.length>0){const xt=U.tokenStack[U.tokenStack.length-1];(xt[1]||$h).call(U,void 0,xt[0])}for(O.position={start:Zt(b.length>0?b[0][1].start:{line:1,column:1,offset:0}),end:Zt(b.length>0?b[b.length-2][1].end:{line:1,column:1,offset:0})},re=-1;++re<t.transforms.length;)O=t.transforms[re](O)||O;return O}function i(b,O,U){let Q=O-1,re=-1,xt=!1,Ln,Mt,Xr,Zr;for(;++Q<=U;){const Ge=b[Q];switch(Ge[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ge[0]==="enter"?re++:re--,Zr=void 0;break}case"lineEndingBlank":{Ge[0]==="enter"&&(Ln&&!Zr&&!re&&!Xr&&(Xr=Q),Zr=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Zr=void 0}if(!re&&Ge[0]==="enter"&&Ge[1].type==="listItemPrefix"||re===-1&&Ge[0]==="exit"&&(Ge[1].type==="listUnordered"||Ge[1].type==="listOrdered")){if(Ln){let sr=Q;for(Mt=void 0;sr--;){const zt=b[sr];if(zt[1].type==="lineEnding"||zt[1].type==="lineEndingBlank"){if(zt[0]==="exit")continue;Mt&&(b[Mt][1].type="lineEndingBlank",xt=!0),zt[1].type="lineEnding",Mt=sr}else if(!(zt[1].type==="linePrefix"||zt[1].type==="blockQuotePrefix"||zt[1].type==="blockQuotePrefixWhitespace"||zt[1].type==="blockQuoteMarker"||zt[1].type==="listItemIndent"))break}Xr&&(!Mt||Xr<Mt)&&(Ln._spread=!0),Ln.end=Object.assign({},Mt?b[Mt][1].start:Ge[1].end),b.splice(Mt||Q,0,["exit",Ln,Ge[2]]),Q++,U++}if(Ge[1].type==="listItemPrefix"){const sr={type:"listItem",_spread:!1,start:Object.assign({},Ge[1].start),end:void 0};Ln=sr,b.splice(Q,0,["enter",sr,Ge[2]]),Q++,U++,Xr=void 0,Zr=!0}}}return b[O][1]._spread=xt,U}function s(b,O){return U;function U(Q){l.call(this,b(Q),Q),O&&O.call(this,Q)}}function o(){this.stack.push({type:"fragment",children:[]})}function l(b,O,U){this.stack[this.stack.length-1].children.push(b),this.stack.push(b),this.tokenStack.push([O,U]),b.position={start:Zt(O.start),end:void 0}}function a(b){return O;function O(U){b&&b.call(this,U),c.call(this,U)}}function c(b,O){const U=this.stack.pop(),Q=this.tokenStack.pop();if(Q)Q[0].type!==b.type&&(O?O.call(this,b,Q[0]):(Q[1]||$h).call(this,b,Q[0]));else throw new Error("Cannot close `"+b.type+"` ("+Li({start:b.start,end:b.end})+"): it’s not open");U.position.end=Zt(b.end)}function d(){return c1(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function p(b){if(this.data.expectingFirstListItemValue){const O=this.stack[this.stack.length-2];O.start=Number.parseInt(this.sliceSerialize(b),10),this.data.expectingFirstListItemValue=void 0}}function f(){const b=this.resume(),O=this.stack[this.stack.length-1];O.lang=b}function y(){const b=this.resume(),O=this.stack[this.stack.length-1];O.meta=b}function w(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function x(){const b=this.resume(),O=this.stack[this.stack.length-1];O.value=b.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function m(){const b=this.resume(),O=this.stack[this.stack.length-1];O.value=b.replace(/(\r?\n|\r)$/g,"")}function g(b){const O=this.resume(),U=this.stack[this.stack.length-1];U.label=O,U.identifier=Ir(this.sliceSerialize(b)).toLowerCase()}function v(){const b=this.resume(),O=this.stack[this.stack.length-1];O.title=b}function S(){const b=this.resume(),O=this.stack[this.stack.length-1];O.url=b}function E(b){const O=this.stack[this.stack.length-1];if(!O.depth){const U=this.sliceSerialize(b).length;O.depth=U}}function C(){this.data.setextHeadingSlurpLineEnding=!0}function T(b){const O=this.stack[this.stack.length-1];O.depth=this.sliceSerialize(b).codePointAt(0)===61?1:2}function I(){this.data.setextHeadingSlurpLineEnding=void 0}function M(b){const U=this.stack[this.stack.length-1].children;let Q=U[U.length-1];(!Q||Q.type!=="text")&&(Q=dy(),Q.position={start:Zt(b.start),end:void 0},U.push(Q)),this.stack.push(Q)}function R(b){const O=this.stack.pop();O.value+=this.sliceSerialize(b),O.position.end=Zt(b.end)}function D(b){const O=this.stack[this.stack.length-1];if(this.data.atHardBreak){const U=O.children[O.children.length-1];U.position.end=Zt(b.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(O.type)&&(M.call(this,b),R.call(this,b))}function A(){this.data.atHardBreak=!0}function J(){const b=this.resume(),O=this.stack[this.stack.length-1];O.value=b}function fe(){const b=this.resume(),O=this.stack[this.stack.length-1];O.value=b}function W(){const b=this.resume(),O=this.stack[this.stack.length-1];O.value=b}function _e(){const b=this.stack[this.stack.length-1];if(this.data.inReference){const O=this.data.referenceType||"shortcut";b.type+="Reference",b.referenceType=O,delete b.url,delete b.title}else delete b.identifier,delete b.label;this.data.referenceType=void 0}function we(){const b=this.stack[this.stack.length-1];if(this.data.inReference){const O=this.data.referenceType||"shortcut";b.type+="Reference",b.referenceType=O,delete b.url,delete b.title}else delete b.identifier,delete b.label;this.data.referenceType=void 0}function L(b){const O=this.sliceSerialize(b),U=this.stack[this.stack.length-2];U.label=uj(O),U.identifier=Ir(O).toLowerCase()}function z(){const b=this.stack[this.stack.length-1],O=this.resume(),U=this.stack[this.stack.length-1];if(this.data.inReference=!0,U.type==="link"){const Q=b.children;U.children=Q}else U.alt=O}function k(){const b=this.resume(),O=this.stack[this.stack.length-1];O.url=b}function Y(){const b=this.resume(),O=this.stack[this.stack.length-1];O.title=b}function ne(){this.data.inReference=void 0}function j(){this.data.referenceType="collapsed"}function je(b){const O=this.resume(),U=this.stack[this.stack.length-1];U.label=O,U.identifier=Ir(this.sliceSerialize(b)).toLowerCase(),this.data.referenceType="full"}function wt(b){this.data.characterReferenceType=b.type}function ae(b){const O=this.sliceSerialize(b),U=this.data.characterReferenceType;let Q;U?(Q=Lg(O,U==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Q=_c(O);const re=this.stack.pop();re.value+=Q,re.position.end=Zt(b.end)}function Nt(b){R.call(this,b);const O=this.stack[this.stack.length-1];O.url=this.sliceSerialize(b)}function Gt(b){R.call(this,b);const O=this.stack[this.stack.length-1];O.url="mailto:"+this.sliceSerialize(b)}function ir(){return{type:"blockquote",children:[]}}function On(){return{type:"code",lang:null,meta:null,value:""}}function ll(){return{type:"inlineCode",value:""}}function sy(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function oy(){return{type:"emphasis",children:[]}}function Lc(){return{type:"heading",depth:0,children:[]}}function Ac(){return{type:"break"}}function Rc(){return{type:"html",value:""}}function ly(){return{type:"image",title:null,url:"",alt:null}}function Fc(){return{type:"link",title:null,url:"",children:[]}}function Dc(b){return{type:"list",ordered:b.type==="listOrdered",start:null,spread:b._spread,children:[]}}function ay(b){return{type:"listItem",spread:b._spread,checked:null,children:[]}}function uy(){return{type:"paragraph",children:[]}}function cy(){return{type:"strong",children:[]}}function dy(){return{type:"text",value:""}}function hy(){return{type:"thematicBreak"}}}function Zt(e){return{line:e.line,column:e.column,offset:e.offset}}function Vg(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?Vg(e,r):fj(e,r)}}function fj(e,t){let n;for(n in t)if(Hg.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function $h(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Li({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Li({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Li({start:t.start,end:t.end})+") is still open")}function pj(e){const t=this;t.parser=n;function n(r){return dj(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function mj(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function gj(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function yj(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function vj(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function wj(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function xj(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=Yr(r.toLowerCase()),s=e.footnoteOrder.indexOf(r);let o,l=e.footnoteCounts.get(r);l===void 0?(l=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=s+1,l+=1,e.footnoteCounts.set(r,l);const a={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,a);const c={type:"element",tagName:"sup",properties:{},children:[a]};return e.patch(t,c),e.applyData(t,c)}function _j(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function kj(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function qg(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function Sj(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return qg(e,t);const i={src:Yr(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,s),e.applyData(t,s)}function jj(e,t){const n={src:Yr(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function Cj(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function Ej(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return qg(e,t);const i={href:Yr(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function bj(e,t){const n={href:Yr(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Tj(e,t,n){const r=e.all(t),i=n?Pj(n):Wg(t),s={},o=[];if(typeof t.checked=="boolean"){const d=r[0];let h;d&&d.type==="element"&&d.tagName==="p"?h=d:(h={type:"element",tagName:"p",properties:{},children:[]},r.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let l=-1;for(;++l<r.length;){const d=r[l];(i||l!==0||d.type!=="element"||d.tagName!=="p")&&o.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?o.push(...d.children):o.push(d)}const a=r[r.length-1];a&&(i||a.type!=="element"||a.tagName!=="p")&&o.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:s,children:o};return e.patch(t,c),e.applyData(t,c)}function Pj(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=Wg(n[r])}return t}function Wg(e){const t=e.spread;return t??e.children.length>1}function Nj(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function Ij(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Oj(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function Lj(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Aj(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},l=yc(t.children[1]),a=Eg(t.children[t.children.length-1]);l&&a&&(o.position={start:l,end:a}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function Rj(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,l=o?o.length:t.children.length;let a=-1;const c=[];for(;++a<l;){const h=t.children[a],p={},f=o?o[a]:void 0;f&&(p.align=f);let y={type:"element",tagName:s,properties:p,children:[]};h&&(y.children=e.all(h),e.patch(h,y),y=e.applyData(h,y)),c.push(y)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(t,d),e.applyData(t,d)}function Fj(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const Uh=9,Hh=32;function Dj(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(Vh(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(Vh(t.slice(i),i>0,!1)),s.join("")}function Vh(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===Uh||s===Hh;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===Uh||s===Hh;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function Mj(e,t){const n={type:"text",value:Dj(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function zj(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const Bj={blockquote:mj,break:gj,code:yj,delete:vj,emphasis:wj,footnoteReference:xj,heading:_j,html:kj,imageReference:Sj,image:jj,inlineCode:Cj,linkReference:Ej,link:bj,listItem:Tj,list:Nj,paragraph:Ij,root:Oj,strong:Lj,table:Aj,tableCell:Fj,tableRow:Rj,text:Mj,thematicBreak:zj,toml:As,yaml:As,definition:As,footnoteDefinition:As};function As(){}const Qg=-1,sl=0,Po=1,No=2,jc=3,Cc=4,Ec=5,bc=6,Kg=7,Jg=8,qh=typeof self=="object"?self:globalThis,$j=(e,t)=>{const n=(i,s)=>(e.set(s,i),i),r=i=>{if(e.has(i))return e.get(i);const[s,o]=t[i];switch(s){case sl:case Qg:return n(o,i);case Po:{const l=n([],i);for(const a of o)l.push(r(a));return l}case No:{const l=n({},i);for(const[a,c]of o)l[r(a)]=r(c);return l}case jc:return n(new Date(o),i);case Cc:{const{source:l,flags:a}=o;return n(new RegExp(l,a),i)}case Ec:{const l=n(new Map,i);for(const[a,c]of o)l.set(r(a),r(c));return l}case bc:{const l=n(new Set,i);for(const a of o)l.add(r(a));return l}case Kg:{const{name:l,message:a}=o;return n(new qh[l](a),i)}case Jg:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i)}return n(new qh[s](o),i)};return r},Wh=e=>$j(new Map,e)(0),cr="",{toString:Uj}={},{keys:Hj}=Object,hi=e=>{const t=typeof e;if(t!=="object"||!e)return[sl,t];const n=Uj.call(e).slice(8,-1);switch(n){case"Array":return[Po,cr];case"Object":return[No,cr];case"Date":return[jc,cr];case"RegExp":return[Cc,cr];case"Map":return[Ec,cr];case"Set":return[bc,cr]}return n.includes("Array")?[Po,n]:n.includes("Error")?[Kg,n]:[No,n]},Rs=([e,t])=>e===sl&&(t==="function"||t==="symbol"),Vj=(e,t,n,r)=>{const i=(o,l)=>{const a=r.push(o)-1;return n.set(l,a),a},s=o=>{if(n.has(o))return n.get(o);let[l,a]=hi(o);switch(l){case sl:{let d=o;switch(a){case"bigint":l=Jg,d=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+a);d=null;break;case"undefined":return i([Qg],o)}return i([l,d],o)}case Po:{if(a)return i([a,[...o]],o);const d=[],h=i([l,d],o);for(const p of o)d.push(s(p));return h}case No:{if(a)switch(a){case"BigInt":return i([a,o.toString()],o);case"Boolean":case"Number":case"String":return i([a,o.valueOf()],o)}if(t&&"toJSON"in o)return s(o.toJSON());const d=[],h=i([l,d],o);for(const p of Hj(o))(e||!Rs(hi(o[p])))&&d.push([s(p),s(o[p])]);return h}case jc:return i([l,o.toISOString()],o);case Cc:{const{source:d,flags:h}=o;return i([l,{source:d,flags:h}],o)}case Ec:{const d=[],h=i([l,d],o);for(const[p,f]of o)(e||!(Rs(hi(p))||Rs(hi(f))))&&d.push([s(p),s(f)]);return h}case bc:{const d=[],h=i([l,d],o);for(const p of o)(e||!Rs(hi(p)))&&d.push(s(p));return h}}const{message:c}=o;return i([l,{name:a,message:c}],o)};return s},Qh=(e,{json:t,lossy:n}={})=>{const r=[];return Vj(!(t||n),!!t,new Map,r)(e),r},Io=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Wh(Qh(e,t)):structuredClone(e):(e,t)=>Wh(Qh(e,t));function qj(e,t){const n=[{type:"text",value:"↩"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function Wj(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function Qj(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||qj,r=e.options.footnoteBackLabel||Wj,i=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let a=-1;for(;++a<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[a]);if(!c)continue;const d=e.all(c),h=String(c.identifier).toUpperCase(),p=Yr(h.toLowerCase());let f=0;const y=[],w=e.footnoteCounts.get(h);for(;w!==void 0&&++f<=w;){y.length>0&&y.push({type:"text",value:" "});let g=typeof n=="string"?n:n(a,f);typeof g=="string"&&(g={type:"text",value:g}),y.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+p+(f>1?"-"+f:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(a,f),className:["data-footnote-backref"]},children:Array.isArray(g)?g:[g]})}const x=d[d.length-1];if(x&&x.type==="element"&&x.tagName==="p"){const g=x.children[x.children.length-1];g&&g.type==="text"?g.value+=" ":x.children.push({type:"text",value:" "}),x.children.push(...y)}else d.push(...y);const m={type:"element",tagName:"li",properties:{id:t+"fn-"+p},children:e.wrap(d,!0)};e.patch(c,m),l.push(m)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...Io(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(l,!0)},{type:"text",value:`
`}]}}const Yg=function(e){if(e==null)return Gj;if(typeof e=="function")return ol(e);if(typeof e=="object")return Array.isArray(e)?Kj(e):Jj(e);if(typeof e=="string")return Yj(e);throw new Error("Expected function, string, or object as test")};function Kj(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Yg(e[n]);return ol(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function Jj(e){const t=e;return ol(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function Yj(e){return ol(t);function t(n){return n&&n.type===e}}function ol(e){return t;function t(n,r,i){return!!(Xj(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function Gj(){return!0}function Xj(e){return e!==null&&typeof e=="object"&&"type"in e}const Gg=[],Zj=!0,Kh=!1,eC="skip";function tC(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=Yg(i),o=r?-1:1;l(e,void 0,[])();function l(a,c,d){const h=a&&typeof a=="object"?a:{};if(typeof h.type=="string"){const f=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(a.type+(f?"<"+f+">":""))+")"})}return p;function p(){let f=Gg,y,w,x;if((!t||s(a,c,d[d.length-1]||void 0))&&(f=nC(n(a,d)),f[0]===Kh))return f;if("children"in a&&a.children){const m=a;if(m.children&&f[0]!==eC)for(w=(r?m.children.length:-1)+o,x=d.concat(m);w>-1&&w<m.children.length;){const g=m.children[w];if(y=l(g,w,x)(),y[0]===Kh)return y;w=typeof y[1]=="number"?y[1]:w+o}}return f}}}function nC(e){return Array.isArray(e)?e:typeof e=="number"?[Zj,e]:e==null?Gg:[e]}function Xg(e,t,n,r){let i,s,o;typeof t=="function"&&typeof n!="function"?(s=void 0,o=t,i=n):(s=t,o=n,i=r),tC(e,s,l,i);function l(a,c){const d=c[c.length-1],h=d?d.children.indexOf(a):void 0;return o(a,h,d)}}const uu={}.hasOwnProperty,rC={};function iC(e,t){const n=t||rC,r=new Map,i=new Map,s=new Map,o={...Bj,...n.handlers},l={all:c,applyData:oC,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:a,options:n,patch:sC,wrap:aC};return Xg(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const h=d.type==="definition"?r:i,p=String(d.identifier).toUpperCase();h.has(p)||h.set(p,d)}}),l;function a(d,h){const p=d.type,f=l.handlers[p];if(uu.call(l.handlers,p)&&f)return f(l,d,h);if(l.options.passThrough&&l.options.passThrough.includes(p)){if("children"in d){const{children:w,...x}=d,m=Io(x);return m.children=l.all(d),m}return Io(d)}return(l.options.unknownHandler||lC)(l,d,h)}function c(d){const h=[];if("children"in d){const p=d.children;let f=-1;for(;++f<p.length;){const y=l.one(p[f],d);if(y){if(f&&p[f-1].type==="break"&&(!Array.isArray(y)&&y.type==="text"&&(y.value=Jh(y.value)),!Array.isArray(y)&&y.type==="element")){const w=y.children[0];w&&w.type==="text"&&(w.value=Jh(w.value))}Array.isArray(y)?h.push(...y):h.push(y)}}}return h}}function sC(e,t){e.position&&(t.position=Bk(e))}function oC(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,Io(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function lC(e,t){const n=t.data||{},r="value"in t&&!(uu.call(n,"hProperties")||uu.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function aC(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function Jh(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function Yh(e,t){const n=iC(e,t),r=n.one(e,void 0),i=Qj(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function uC(e,t){return e&&"run"in e?async function(n,r){const i=Yh(n,{file:r,...t});await e.run(i,r)}:function(n,r){return Yh(n,{file:r,...t||e})}}function Gh(e){if(e)throw e}var Gs=Object.prototype.hasOwnProperty,Zg=Object.prototype.toString,Xh=Object.defineProperty,Zh=Object.getOwnPropertyDescriptor,ef=function(t){return typeof Array.isArray=="function"?Array.isArray(t):Zg.call(t)==="[object Array]"},tf=function(t){if(!t||Zg.call(t)!=="[object Object]")return!1;var n=Gs.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&Gs.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||Gs.call(t,i)},nf=function(t,n){Xh&&n.name==="__proto__"?Xh(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},rf=function(t,n){if(n==="__proto__")if(Gs.call(t,n)){if(Zh)return Zh(t,n).value}else return;return t[n]},cC=function e(){var t,n,r,i,s,o,l=arguments[0],a=1,c=arguments.length,d=!1;for(typeof l=="boolean"&&(d=l,l=arguments[1]||{},a=2),(l==null||typeof l!="object"&&typeof l!="function")&&(l={});a<c;++a)if(t=arguments[a],t!=null)for(n in t)r=rf(l,n),i=rf(t,n),l!==i&&(d&&i&&(tf(i)||(s=ef(i)))?(s?(s=!1,o=r&&ef(r)?r:[]):o=r&&tf(r)?r:{},nf(l,{name:n,newValue:e(d,o,i)})):typeof i<"u"&&nf(l,{name:n,newValue:i}));return l};const ql=jf(cC);function cu(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function dC(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);l(null,...i);function l(a,...c){const d=e[++s];let h=-1;if(a){o(a);return}for(;++h<i.length;)(c[h]===null||c[h]===void 0)&&(c[h]=i[h]);i=c,d?hC(d,l)(...c):o(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function hC(e,t){let n;return r;function r(...o){const l=e.length>o.length;let a;l&&o.push(i);try{a=e.apply(this,o)}catch(c){const d=c;if(l&&n)throw d;return i(d)}l||(a&&a.then&&typeof a.then=="function"?a.then(s,i):a instanceof Error?i(a):s(a))}function i(o,...l){n||(n=!0,t(o,...l))}function s(o){i(null,o)}}const Lt={basename:fC,dirname:pC,extname:mC,join:gC,sep:"/"};function fC(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');hs(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,l=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),l>-1&&(e.codePointAt(i)===t.codePointAt(l--)?l<0&&(r=i):(l=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function pC(e){if(hs(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function mC(e){hs(e);let t=e.length,n=-1,r=0,i=-1,s=0,o;for(;t--;){const l=e.codePointAt(t);if(l===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),l===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function gC(...e){let t=-1,n;for(;++t<e.length;)hs(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":yC(n)}function yC(e){hs(e);const t=e.codePointAt(0)===47;let n=vC(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function vC(e,t){let n="",r=0,i=-1,s=0,o=-1,l,a;for(;++o<=e.length;){if(o<e.length)l=e.codePointAt(o);else{if(l===47)break;l=47}if(l===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(a=n.lastIndexOf("/"),a!==n.length-1){a<0?(n="",r=0):(n=n.slice(0,a),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,s=0}else l===46&&s>-1?s++:s=-1}return n}function hs(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const wC={cwd:xC};function xC(){return"/"}function du(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function _C(e){if(typeof e=="string")e=new URL(e);else if(!du(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return kC(e)}function kC(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const Wl=["history","path","basename","stem","extname","dirname"];class ey{constructor(t){let n;t?du(t)?n={path:t}:typeof t=="string"||SC(t)?n={value:t}:n=t:n={},this.cwd=wC.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Wl.length;){const s=Wl[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)Wl.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Lt.basename(this.path):void 0}set basename(t){Kl(t,"basename"),Ql(t,"basename"),this.path=Lt.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Lt.dirname(this.path):void 0}set dirname(t){sf(this.basename,"dirname"),this.path=Lt.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Lt.extname(this.path):void 0}set extname(t){if(Ql(t,"extname"),sf(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Lt.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){du(t)&&(t=_C(t)),Kl(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Lt.basename(this.path,this.extname):void 0}set stem(t){Kl(t,"stem"),Ql(t,"stem"),this.path=Lt.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new De(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Ql(e,t){if(e&&e.includes(Lt.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Lt.sep+"`")}function Kl(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function sf(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function SC(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const jC=function(e){const r=this.constructor.prototype,i=r[e],s=function(){return i.apply(s,arguments)};Object.setPrototypeOf(s,r);const o=Object.getOwnPropertyNames(i);for(const l of o){const a=Object.getOwnPropertyDescriptor(i,l);a&&Object.defineProperty(s,l,a)}return s},CC={}.hasOwnProperty;class Tc extends jC{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=dC()}copy(){const t=new Tc;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(ql(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Gl("data",this.frozen),this.namespace[t]=n,this):CC.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Gl("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Fs(t),r=this.parser||this.Parser;return Jl("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Jl("process",this.parser||this.Parser),Yl("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,o){const l=Fs(t),a=r.parse(l);r.run(a,l,function(d,h,p){if(d||!h||!p)return c(d);const f=h,y=r.stringify(f,p);TC(y)?p.value=y:p.result=y,c(d,p)});function c(d,h){d||!h?o(d):s?s(h):n(void 0,h)}}}processSync(t){let n=!1,r;return this.freeze(),Jl("processSync",this.parser||this.Parser),Yl("processSync",this.compiler||this.Compiler),this.process(t,i),lf("processSync","process",n),r;function i(s,o){n=!0,Gh(s),r=o}}run(t,n,r){of(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,l){const a=Fs(n);i.run(t,a,c);function c(d,h,p){const f=h||t;d?l(d):o?o(f):r(void 0,f,p)}}}runSync(t,n){let r=!1,i;return this.run(t,n,s),lf("runSync","run",r),i;function s(o,l){Gh(o),i=l,r=!0}}stringify(t,n){this.freeze();const r=Fs(n),i=this.compiler||this.Compiler;return Yl("stringify",i),of(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(Gl("use",this.frozen),t!=null)if(typeof t=="function")a(t,n);else if(typeof t=="object")Array.isArray(t)?l(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(c){if(typeof c=="function")a(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[d,...h]=c;a(d,h)}else o(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function o(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(c.plugins),c.settings&&(i.settings=ql(!0,i.settings,c.settings))}function l(c){let d=-1;if(c!=null)if(Array.isArray(c))for(;++d<c.length;){const h=c[d];s(h)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function a(c,d){let h=-1,p=-1;for(;++h<r.length;)if(r[h][0]===c){p=h;break}if(p===-1)r.push([c,...d]);else if(d.length>0){let[f,...y]=d;const w=r[p][1];cu(w)&&cu(f)&&(f=ql(!0,w,f)),r[p]=[c,f,...y]}}}}const EC=new Tc().freeze();function Jl(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Yl(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Gl(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function of(e){if(!cu(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function lf(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Fs(e){return bC(e)?e:new ey(e)}function bC(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function TC(e){return typeof e=="string"||PC(e)}function PC(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const NC="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",af=[],uf={allowDangerousHtml:!0},IC=/^(https?|ircs?|mailto|xmpp)$/i,OC=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function LC(e){const t=e.allowedElements,n=e.allowElement,r=e.children||"",i=e.className,s=e.components,o=e.disallowedElements,l=e.rehypePlugins||af,a=e.remarkPlugins||af,c=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...uf}:uf,d=e.skipHtml,h=e.unwrapDisallowed,p=e.urlTransform||AC,f=EC().use(pj).use(a).use(uC,c).use(l),y=new ey;typeof r=="string"&&(y.value=r);for(const g of OC)Object.hasOwn(e,g.from)&&(""+g.from+(g.to?"use `"+g.to+"` instead":"remove it")+NC+g.id,void 0);const w=f.parse(y);let x=f.runSync(w,y);return i&&(x={type:"element",tagName:"div",properties:{className:i},children:x.type==="root"?x.children:[x]}),Xg(x,m),Wk(x,{Fragment:u.Fragment,components:s,ignoreInvalidStyle:!0,jsx:u.jsx,jsxs:u.jsxs,passKeys:!0,passNode:!0});function m(g,v,S){if(g.type==="raw"&&S&&typeof v=="number")return d?S.children.splice(v,1):S.children[v]={type:"text",value:g.value},v;if(g.type==="element"){let E;for(E in Ul)if(Object.hasOwn(Ul,E)&&Object.hasOwn(g.properties,E)){const C=g.properties[E],T=Ul[E];(T===null||T.includes(g.tagName))&&(g.properties[E]=p(String(C||""),E,g))}}if(g.type==="element"){let E=t?!t.includes(g.tagName):o?o.includes(g.tagName):!1;if(!E&&n&&typeof v=="number"&&(E=!n(g,v,S)),E&&S&&typeof v=="number")return h&&g.children?S.children.splice(v,1,...g.children):S.children.splice(v,1),v}}}function AC(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t<0||i>-1&&t>i||n>-1&&t>n||r>-1&&t>r||IC.test(e.slice(0,t))?e:""}const fi=(e,t,n=!1)=>{const{userid:r,userMyBooks:i,setUserMyBooks:s,setPopupNotification:o}=_.useContext(B);function l(d){let h;if(i===void 0?h=[]:h=i,d.list===4){for(let f=0;f<h.length;f++)if(h[f].id===d.id){h[f].list=3;break}}else if(d.list===3){for(let f=0;f<h.length;f++)if(h[f].id===d.id){h[f].list=2,h[f].date_finished=void 0;break}}else{let f=0;for(let y=0;y<h.length;y++)if(h[y].id===d.id){d.list=0,f=y;break}h.splice(f,1)}const p=h;return c(p),p}function a(){const d=l(e);s(d)}async function c(d){let h;s(d);const{error:p}=await Z.from("user_entries").update({json:d,testdata:"updated from RemoveBookFromXButton"}).eq("user_id",r).select("*");p?h=p.message:h="Removed "+e.title_short+" from "+Oi(t),o(h)}return n&&t===4?u.jsx("span",{className:"icon-heart active",onClick:a}):u.jsx("div",{className:"mark",children:u.jsxs("button",{className:"btn-text",onClick:a,children:[u.jsx("span",{className:"icon icon-remove"}),"Remove from ",Oi(t)]})})},RC=e=>{const{userMyBooks:t,setUserMyBooks:n,setPopupNotification:r,userid:i}=_.useContext(B),[s,o]=_.useState(e.rate_stars),[l,a]=_.useState(e.rate_spice);async function c(w){let x;n(w);const{error:m}=await Z.from("user_entries").update({json:w,testdata:"updated from RateStars n Spice"}).eq("user_id",i).select("*");m?x=m.message:x="Added rating for "+e.title_short,r(x)}function d(w,x,m){let g;t!==void 0?g=t:g=[];for(let S=0;S<g.length;S++)if(g[S].id===w.id){x==="rate_stars"&&(g[S].rate_stars=m),x==="rate_spice"&&(g[S].rate_spice=m);break}const v=g;return c(v),v}function h(w,x){w==="rate_stars"&&o(x),w==="rate_spice"&&a(x);const m=d(e,w,x);n(m)}const p="icon icon-eraser",f="icon icon-star",y="icon icon-spice";return e.rate_stars===void 0&&(e.rate_stars=0),e.rate_spice===void 0&&(e.rate_spice=0),u.jsxs("div",{className:"review-rates",children:[u.jsxs("div",{className:"rate-stars",children:[u.jsx("button",{className:"btn-icon",onClick:()=>h("rate_stars",0),children:u.jsx("span",{className:p})}),u.jsx("button",{className:"btn-icon",onClick:()=>h("rate_stars",1),children:u.jsx("span",{className:f+(s>0?" active":""),children:"*"})}),u.jsx("button",{className:"btn-icon",onClick:()=>h("rate_stars",2),children:u.jsx("span",{className:f+(s>1?" active":""),children:"*"})}),u.jsx("button",{className:"btn-icon",onClick:()=>h("rate_stars",3),children:u.jsx("span",{className:f+(s>2?" active":""),children:"*"})}),u.jsx("button",{className:"btn-icon",onClick:()=>h("rate_stars",4),children:u.jsx("span",{className:f+(s>3?" active":""),children:"*"})}),u.jsx("button",{className:"btn-icon",onClick:()=>h("rate_stars",5),children:u.jsx("span",{className:f+(s>4?" active":""),children:"*"})})]}),u.jsxs("div",{className:"rate-spice",children:[u.jsx("button",{className:"btn-icon",onClick:()=>h("rate_spice",0),children:u.jsx("span",{className:p})}),u.jsx("button",{className:"btn-icon",onClick:()=>h("rate_spice",1),children:u.jsx("span",{className:y+(l>0?" active":""),children:"&"})}),u.jsx("button",{className:"btn-icon",onClick:()=>h("rate_spice",2),children:u.jsx("span",{className:y+(l>1?" active":""),children:"&"})}),u.jsx("button",{className:"btn-icon",onClick:()=>h("rate_spice",3),children:u.jsx("span",{className:y+(l>2?" active":""),children:"&"})}),u.jsx("button",{className:"btn-icon",onClick:()=>h("rate_spice",4),children:u.jsx("span",{className:y+(l>3?" active":""),children:"&"})}),u.jsx("button",{className:"btn-icon",onClick:()=>h("rate_spice",5),children:u.jsx("span",{className:y+(l>4?" active":""),children:"&"})})]})]})};function Cn(e,t=!1){if(e.trim(),e.length<1)return"";let n,r=e.charCodeAt(0);return t&&r>96&&r<123?(r-=32,n=String.fromCharCode(r)+e.slice(1)):n=e,n}function Pc(e,t=!0){if(e.length<1)return"";let n="",r;for(let i=0;i<e.length&&(r=e.charCodeAt(i),e[i]!=="?");i++)r<48||r>57&&r<65||r>90&&r<97||r>122?t&&(n+="-"):n+=e[i];return n}function Nc(e,t){let n="",r;for(let i=0;i<e.length;i++)r=e.charCodeAt(i),(r>47&&r<58||r>64&&r<91||r>90&&r<97||r>96&&r<123)&&(n+=e[i]);return n+=t,n}function FC(e){const t=[";","/","?",":","@","&","=","+","$",",","#"];let n="",r=!1;for(let i=0;i<e.length;i++){r=!1;for(let s=0;s<t.length;s++)if(e[i]===t[s]){r=!0;break}r?n+=" ":n+=e[i]}return n}const DC=(e,t)=>{const{userMyBooks:n,setUserMyBooks:r,userid:i,setPopupNotification:s}=_.useContext(B),[o,l]=_.useState(e.review_text),[a,c]=_.useState(!1),[d,h]=_.useState(!0),[p,f]=_.useState(!1);function y(v){v.preventDefault();const S=Cn(v.currentTarget.review_text.value.trim(),!0);S!==void 0&&(f(!0),l(S),c(!1),h(!0))}_.useEffect(()=>{(e.review_text===void 0||e.review_text.length<1)&&c(!0)},[e.review_text]);const w=_.useCallback(async function(S){let E;r(S);const{error:C}=await Z.from("user_entries").update({json:S,testdata:"updated from review: text"}).eq("user_id",i).select("*");C?E=C.message:E="Updated review.",s(E)},[r,s,i]),x=_.useCallback(async function(){for(let S=0;S<n.length;S++)if(n[S].id===e.id){n[S].review_text=o;break}w(n)},[n,e.id,o,w]);_.useEffect(()=>{t!==o&&p&&(x(),f(!1))},[p,r,x,e.id,t,o]);const m=()=>{c(!0),f(!0),h(!1)},g=()=>{f(!1),h(!0),c(!1)};return _.useEffect(()=>{var v,S;p&&((v=document.getElementById("review_text"+e.id))==null||v.focus(),o!==void 0&&((S=document.getElementById("review_text"+e.id))==null||S.setAttribute("value",o)))},[a,o,e.id,p]),u.jsxs("div",{className:"review-text",children:[a&&u.jsxs(u.Fragment,{children:[u.jsxs("form",{className:"single-small-form clr",onSubmit:y,children:[u.jsx("input",{name:"review_text",id:"review_text"+e.id,type:"text",placeholder:"Add a review..."}),u.jsx("button",{type:"submit",className:"btn-submit-inside-caret-right"})]}),o&&u.jsx("button",{className:"btn-text btn-text-cancel",onClick:g,children:"Cancel"})]}),d&&u.jsx("div",{onClick:m,children:o})]})},MC=(e,t)=>{const{userMyBooks:n,setUserMyBooks:r,setPopupNotification:i,userid:s}=_.useContext(B),[o,l]=_.useState(t),[a,c]=_.useState(!1),[d,h]=_.useState(!1);function p(g){h(!0),l(o.filter(v=>v!==g))}const f=(g,v)=>{if(g!==void 0)return u.jsxs("ul",{className:"tropes clr mb0",children:[g.map((S,E)=>u.jsxs("li",{className:"trope badge",children:[S,u.jsx("button",{className:"btn-x",onClick:()=>p(S),children:"x"})]},"trope"+v+E)),!a&&u.jsx("li",{className:"trope_add",children:u.jsx("button",{className:a?"btn-sm mb0 active":"btn-sm mb0",onClick:()=>c(!a),children:g.length>0?u.jsx(u.Fragment,{children:"+"}):u.jsx(u.Fragment,{children:"Add tropes"})})})]})},y=_.useCallback(async function(v){let S;r(v);const{error:E}=await Z.from("user_entries").update({json:v,testdata:"updated from review: Tropes"}).eq("user_id",s).select("*");E?S=E.message:S="Updated tropes.",i(S)},[r,i,s]),w=_.useCallback(async function(){if(!(n.length<1)){for(let v=0;v<n.length;v++)if(n[v].id===e.id){n[v].review_tropes=o;break}y(n)}},[n,e.id,o,y]);function x(g){g.preventDefault();const v=Cn(g.currentTarget.trope_add.value,!0);v!==void 0&&v.length>2&&(h(!0),l([...o,v]),g.currentTarget.trope_add.value="",g.currentTarget.trope_add.focus())}_.useEffect(()=>{t!==o&&d&&(w(),h(!1))},[t,d,r,w,e.id,o]),e.review_tropes===void 0&&(e.review_tropes=[]),_.useEffect(()=>{var g;a===!0&&((g=document.getElementById("trope_add_"+e.id))==null||g.focus())},[a,e.id]);const m=()=>{c(!1),h(!1)};return u.jsxs(u.Fragment,{children:[f(o,e.id),a&&u.jsxs(u.Fragment,{children:[u.jsxs("form",{className:"single-small-form clr",onSubmit:x,children:[u.jsx("input",{type:"text",name:"trope_add",id:"trope_add_"+e.id,placeholder:"Add a trope..."}),u.jsx("button",{className:"btn-submit-inside-caret-right"})]}),u.jsx("button",{className:"btn-text btn-text-cancel",onClick:m,children:"Cancel"})]})]})},cf=(e,t)=>{const{userMyBooks:n,setUserMyBooks:r,userid:i,setPopupNotification:s}=_.useContext(B),[o,l]=_.useState(e.review_fav_quote),[a,c]=_.useState(!1),[d,h]=_.useState(!0),[p,f]=_.useState(!1);function y(v){v.preventDefault();const S=Cn(v.currentTarget.review_fav_quote.value.trim(),!0);S!==void 0&&(f(!0),l(S),c(!1),h(!0))}_.useEffect(()=>{(e.review_fav_quote===void 0||e.review_fav_quote.length<1)&&c(!0)},[e.review_fav_quote]);const w=_.useCallback(async function(S){let E;r(S);const{error:C}=await Z.from("user_entries").update({json:S,testdata:"updated from review: favourite quote"}).eq("user_id",i).select("*");C?E=C.message:E="Updated review.",s(E)},[r,s,i]),x=_.useCallback(async function(){for(let S=0;S<n.length;S++)if(n[S].id===e.id){n[S].review_fav_quote=o;break}w(n)},[n,e.id,o,w]);_.useEffect(()=>{t!==o&&p&&(x(),f(!1))},[p,r,x,e.id,t,o]);const m=()=>{c(!0),f(!0),h(!1)},g=()=>{f(!1),h(!0),c(!1)};return _.useEffect(()=>{var v,S;p&&((v=document.getElementById("review_fav_quote"+e.id))==null||v.focus(),o!==void 0&&((S=document.getElementById("review_fav_quote"+e.id))==null||S.setAttribute("value",o))),h(!!(o&&o!==""))},[a,o,e.id,p]),u.jsxs("div",{className:"review-text quote",children:[a&&u.jsxs(u.Fragment,{children:[u.jsxs("form",{className:"single-small-form clr",onSubmit:y,children:[u.jsx("input",{name:"review_fav_quote",id:"review_fav_quote"+e.id,type:"text",placeholder:"Add your favorite quote..."}),u.jsx("button",{type:"submit",className:"btn-submit-inside-caret-right"})]}),o&&u.jsx("button",{className:"btn-text btn-text-cancel",onClick:g,children:"Cancel"})]}),d&&u.jsx("div",{onClick:m,children:o})]})},zC=(e,t)=>{const[n,r]=_.useState(!1);function i(){r(!n)}if(t!==void 0)return u.jsxs("ul",{className:"tropes clr mb0",children:[t.map((s,o)=>{if(n)return u.jsx("li",{className:"trope badge",children:s},"trope"+e+o);if(o<5)return u.jsx("li",{className:"trope badge",children:s},"trope"+e+o)}),u.jsx("li",{className:"trope_more",children:u.jsx("button",{onClick:()=>i(),className:"btn-sm mb0",children:n?"<":"..."})})]})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var hu=function(){return hu=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},hu.apply(this,arguments)};function BC(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}var Or="",Ri=null,Xs=null,ty=null;function Ic(){Or="",Ri!==null&&Ri.disconnect(),Xs!==null&&(window.clearTimeout(Xs),Xs=null)}function df(e){var t=["BUTTON","INPUT","SELECT","TEXTAREA"],n=["A","AREA"];return t.includes(e.tagName)&&!e.hasAttribute("disabled")||n.includes(e.tagName)&&e.hasAttribute("href")}function hf(){var e=null;if(Or==="#")e=document.body;else{var t=Or.replace("#","");e=document.getElementById(t),e===null&&Or==="#top"&&(e=document.body)}if(e!==null){ty(e);var n=e.getAttribute("tabindex");return n===null&&!df(e)&&e.setAttribute("tabindex",-1),e.focus({preventScroll:!0}),n===null&&!df(e)&&(e.blur(),e.removeAttribute("tabindex")),Ic(),!0}return!1}function $C(e){window.setTimeout(function(){hf()===!1&&(Ri===null&&(Ri=new MutationObserver(hf)),Ri.observe(document,{attributes:!0,childList:!0,subtree:!0}),Xs=window.setTimeout(function(){Ic()},e||1e4))},0)}function ny(e){return Zs.forwardRef(function(t,n){var r="";typeof t.to=="string"&&t.to.includes("#")?r="#"+t.to.split("#").slice(1).join("#"):typeof t.to=="object"&&typeof t.to.hash=="string"&&(r=t.to.hash);var i={};e===Me&&(i.isActive=function(l,a){return l&&l.isExact&&a.hash===r});function s(l){Ic(),Or=t.elementId?"#"+t.elementId:r,t.onClick&&t.onClick(l),Or!==""&&!l.defaultPrevented&&l.button===0&&(!t.target||t.target==="_self")&&!(l.metaKey||l.altKey||l.ctrlKey||l.shiftKey)&&(ty=t.scroll||function(a){return t.smooth?a.scrollIntoView({behavior:"smooth"}):a.scrollIntoView()},$C(t.timeout))}var o=BC(t,["scroll","smooth","timeout","elementId"]);return Zs.createElement(e,hu({},i,o,{onClick:s,ref:n}),t.children)})}var Ds=ny(ee);ny(Me);const UC=({book:e})=>{const{userMyBooks:t,setUserMyBooks:n,setPopupNotification:r,userid:i}=_.useContext(B),[s,o]=_.useState(!0),[l,a]=_.useState(0),[c,d]=_.useState(!1),h=_.useCallback(async function(y){let w;n(y);const{error:x}=await Z.from("user_entries").update({json:y,testdata:"updated from book summary: Fetch pages"}).eq("user_id",i).select("*");x?w=x.message:w="Updated pages.",r(w)},[r,n,i]),p=_.useCallback(async function(){if(t.length<1)return;const y=l;for(let w=0;w<t.length;w++)if(t[w].id===e.id){y!==t[w].number_of_pages_median&&y>0&&(t[w].number_of_pages_median=y);break}h(t)},[t,e.id,h,l]);return _.useEffect(()=>{s&&((async()=>await qx(e.id))().then(y=>{a(y)}),o(!s)),c&&l>0&&(p(),d(!1))},[s,l,c,e.id,p]),u.jsx(u.Fragment,{children:l>0&&u.jsxs("button",{className:"btn-text fright mt05 ml05",onClick:()=>d(!0),children:[" ","guess: ",l," "]})})},HC=e=>{const{userMyBooks:t,setUserMyBooks:n,setPopupNotification:r,userid:i}=_.useContext(B),[s,o]=_.useState(!1),l="addPagesToBookId"+e.id,[a,c]=_.useState(e.number_of_pages_median),[d,h]=_.useState(!1),p=_.useCallback(async function(x){let m;n(x);const{error:g}=await Z.from("user_entries").update({json:x,testdata:"updated from book summary: Add pages"}).eq("user_id",i).select("*");g?m=g.message:m="Updated pages.",r(m)},[r,n,i]),f=_.useCallback(async function(){if(!(t.length<1)){for(let x=0;x<t.length;x++)if(t[x].id===e.id){a!==t[x].number_of_pages_median&&(t[x].number_of_pages_median=a);break}p(t)}},[t,e.id,a,p]);function y(w){w.preventDefault();const x=Number(Cn(w.currentTarget.pagesAmount.value));x!==void 0&&x>0&&(h(!0),c(x))}return _.useEffect(()=>{var w;s&&((w=document.getElementById(l))==null||w.focus()),a!==e.number_of_pages_median&&d&&(f(),h(!1))},[s,a,d,f,e.number_of_pages_median,l]),u.jsxs(u.Fragment,{children:[u.jsx("button",{className:"btn-text",onClick:()=>o(!s),children:"__ pages"}),s?u.jsxs("div",{className:s?"dblock":"dnone",children:[u.jsx(UC,{book:e}),u.jsxs("form",{onSubmit:y,className:"single-small-form wm6 diblock",children:[u.jsx("input",{type:"number",id:l,name:"pagesAmount",defaultValue:e.number_of_pages_median}),u.jsx("button",{type:"submit",className:"btn-submit-inside-caret-right"})]})]}):u.jsx(u.Fragment,{})]})},VC=e=>{const{userMyBooks:t,setUserMyBooks:n,setPopupNotification:r,userid:i}=_.useContext(B),[s,o]=_.useState(!1),l="modifyPagesToBookId"+e.id,[a,c]=_.useState(e.number_of_pages_median),[d,h]=_.useState(!1),p=_.useCallback(async function(x){let m;n(x);const{error:g}=await Z.from("user_entries").update({json:x,testdata:"updated from book summary: Modify pages"}).eq("user_id",i).select("*");g?m=g.message:m="Updated pages.",r(m)},[r,n,i]),f=_.useCallback(async function(){if(!(t.length<1)){for(let x=0;x<t.length;x++)if(t[x].id===e.id){a!==t[x].number_of_pages_median&&(t[x].number_of_pages_median=a);break}p(t)}},[t,e.id,a,p]);function y(w){if(w.preventDefault(),Cn(w.currentTarget.pagesAmount.value)==="")console.log("change nothing");else{const x=Number(Cn(w.currentTarget.pagesAmount.value));x!==void 0&&x>-1&&(h(!0),c(x))}}return _.useEffect(()=>{var w;s&&((w=document.getElementById(l))==null||w.focus()),a!==e.number_of_pages_median&&(c(e.number_of_pages_median),d&&(f(),h(!1),o(!1)))},[s,a,d,f,e,l]),u.jsxs("span",{className:e.number_of_pages_median>0?"":"dnone",children:[" ",u.jsx("button",{className:"btn-icon",onClick:()=>o(!s),children:u.jsx("span",{className:"icon icon-dots"})}),u.jsx("div",{className:s?"dblock":"dnone",children:u.jsxs("form",{onSubmit:y,className:"single-small-form wm6 diblock",children:[e.number_of_pages_median>0&&u.jsx(u.Fragment,{children:u.jsx("input",{type:"number",id:l,name:"pagesAmount",defaultValue:e.number_of_pages_median})}),u.jsx("button",{type:"submit",className:"btn-submit-inside-caret-right"})]})})]})},Gr=({book:e,currentPage:t})=>{const[n,r]=_.useState(""),[i,s]=_.useState(!1),[o,l]=_.useState(!1),[a,c]=_.useState(!1);async function d(){i?s(!i):(l(!0),await fetch("https://openlibrary.org/works/"+e.id+".json").then(p=>p.json()).then(p=>{var f;return(f=p.description)==null?void 0:f.value}).then(p=>{s(!0),r(p!==void 0?p:"No synopsis available yet.")}).catch(p=>{r("No synopsis available yet."),console.log("error",p)}).finally(()=>l(!1)))}const h=Pc(e.title_short+"-"+e.id);return u.jsxs("article",{className:e.list&&e.list>0&&t==="search"?"book-summary saved":"book-summary",id:h,children:[u.jsxs("aside",{className:"cover",children:[u.jsx("img",{src:Gn(e.cover,"M")!==void 0?Gn(e.cover,"M"):"img/coverless.png",alt:""}),(t==="finished"||t==="favorites")&&RC(e)]}),u.jsxs("div",{className:"article-main",children:[u.jsxs("header",{style:{position:"relative",width:"100%"},children:[t!=="search"?e.list===4?u.jsx(u.Fragment,{children:fi(e,e.list,!0)}):e.list===3&&u.jsx(u.Fragment,{children:ci(e,4,!0)}):"",u.jsxs("h2",{children:[e.title_short," ",e.first_publish_year&&t==="search"&&u.jsxs("sup",{children:["(",e.first_publish_year,")"]}),u.jsx("sub",{children:sk(e)})]}),t==="quotedbooks"&&cf(e,e.review_fav_quote),t!=="finished"&&t!=="favorites"&&t!=="quotedbooks"&&u.jsxs("div",{className:"pt0 mt0",children:[u.jsx("div",{className:!e.number_of_pages_median&&t!=="search"?"diblock":"dnone",children:HC(e)}),u.jsxs("span",{className:e.number_of_pages_median===0?"dnone":"diblock",children:[e.number_of_pages_median," pages"]}),t!=="dashboard"&&t!=="wishlist"&&u.jsxs(u.Fragment,{children:[" ",VC(e)]})]})]}),u.jsxs("main",{children:[u.jsx("div",{className:"reviews",children:(t==="finished"||t==="favorites")&&e.review_tropes&&MC(e,e==null?void 0:e.review_tropes)}),e.list>1&&t!=="search"&&t!=="quotedbooks"&&u.jsx(ok,{date_started:e.date_reading,date_finished:e.date_finished,bookid:e.id,list:e.list}),t!=="quotedbooks"&&u.jsxs(u.Fragment,{children:[t==="search"&&u.jsx("div",{className:"status",children:e.list>0&&u.jsxs("em",{children:[e.list===1&&u.jsxs(u.Fragment,{children:["Already on my ",u.jsx(Ds,{to:"/wishlist#"+h,children:"wishlist"}),"."]}),e.list===2&&u.jsxs(u.Fragment,{children:[u.jsx(Ds,{to:"/reading#"+h,children:"Reading"}),e.date_reading&&u.jsxs(u.Fragment,{children:[" since ",cn(e.date_reading,"human")]}),"."]}),(e.list===3||e.list===4)&&u.jsxs(u.Fragment,{children:[u.jsx(Ds,{to:"/finished#"+h,children:"Finished"}),e.date_finished&&u.jsxs(u.Fragment,{children:[" on ",cn(e.date_finished,"human")]}),e.list===4&&u.jsxs(u.Fragment,{children:[" and"," ",u.jsx(Ds,{to:"/favorites#"+h,children:"favorited"})]}),"."]})]})}),t!=="reading"&&t!=="dashboard"&&u.jsx("button",{className:"btn-icon",onClick:()=>c(!a),children:u.jsx("span",{className:"icon icon-dots"})}),u.jsxs("div",{className:a||t==="reading"?"marks dblock":"marks dnone",children:[!e.list&&ci(e,1),(e.list===1||t==="search"&&(e.list<2||!e.list))&&ci(e,2),(e.list===2||t==="search"&&e.list!==3&&e.list!==4)&&ci(e,3),(e.list===3||t==="search"&&e.list!==4)&&ci(e,4),e.list===1&&fi(e,1),e.list===2&&fi(e,2),(e.list===3||e.list===4)&&fi(e,3),e.list===4&&fi(e,4)]})]})]})]}),u.jsxs("footer",{children:[(t==="finished"||t==="favorites")&&DC(e,e.review_text),(t==="finished"||t==="favorites")&&cf(e,e.review_fav_quote),t!=="finished"&&t!=="favorites"&&t!=="quotedbooks"&&t!=="dashboard"&&u.jsxs(u.Fragment,{children:[t==="search"&&e.subject&&zC(e.id,e.subject),u.jsxs("button",{className:i?"btn-text caret-right-toggle active":"btn-text caret-right-toggle",onClick:d,children:[o&&"Loading...",!o&&!i&&"Synopsis",!o&&i&&u.jsx("b",{style:{color:"black"},children:" Synopsis "})]}),u.jsx("div",{className:"synopsisWrapper","aria-expanded":i,children:u.jsxs("div",{className:"synopsis",children:[u.jsx("br",{}),u.jsx(LC,{children:n})]})})]}),u.jsx("hr",{})]})]})};function qC(){const{userMyBooks:e}=_.useContext(B);let t=!1;const n=e.filter(i=>i.list===2);n.length>0&&(t=!0);function r(i){return i.length===1?i.map(s=>u.jsx(Gr,{book:s,currentPage:"dashboard"},s.id)):u.jsx(ee,{to:"/reading",children:u.jsx("div",{className:"deck-container",children:i.slice(-6).map((s,o)=>u.jsx("article",{className:"book-cover",style:{zIndex:10-o},children:u.jsx("img",{src:Gn(s.cover,"L")})},s.id))})})}return u.jsx(u.Fragment,{children:t?u.jsx("main",{className:"reading deck",children:r(n)}):u.jsx(ee,{to:"/reading",children:u.jsxs("main",{className:"toadd",children:[u.jsx("aside",{children:u.jsx("button",{className:"btn-icon",children:u.jsx("img",{src:"img/plus-icon.svg"})})}),"Already reading a book? Let's add it here."]})})})}function WC(){return u.jsx(u.Fragment,{children:u.jsxs("article",{className:"adder",children:[u.jsx(ee,{to:"/reading",children:u.jsxs("header",{className:"adder-header",children:["What I'm reading now ",u.jsx("span",{children:"›"})]})}),u.jsx(qC,{})]})})}function QC(){const{userMyBooks:e}=_.useContext(B);let t=!1;const n=e;n.length>0&&(t=!0);function r(i){return i.length===1?i.map(s=>u.jsx(Gr,{book:s,currentPage:"dashboard"},s.id)):u.jsx(ee,{to:"/saved-books",children:u.jsx("div",{className:"deck-container",children:i.slice(-6).map((s,o)=>u.jsx("article",{className:"book-cover",style:{zIndex:10-o},children:u.jsx("img",{src:Gn(s.cover,"L")})},s.id))})})}return u.jsx(u.Fragment,{children:t?u.jsx("main",{className:"saved deck",children:r(n)}):u.jsx(ee,{to:"/saved",children:u.jsxs("main",{className:"toadd",children:[u.jsx("aside",{children:u.jsx("button",{className:"btn-icon",children:u.jsx("img",{src:"img/save-books-icon.png"})})}),"Let's start saving books."]})})})}function KC(){return u.jsx(u.Fragment,{children:u.jsxs("article",{className:"adder",children:[u.jsx(ee,{to:"/saved-books",children:u.jsxs("header",{className:"adder-header",children:["All of Mu Books",u.jsx("span",{children:"›"})]})}),u.jsx(QC,{})]})})}function JC({page:e}){const{userMyBooks:t}=_.useContext(B);let n=!1;const r=t.filter(s=>s.list===3||s.list===4);r.length>0&&(n=!0);function i(s){return s.length===1?s.map(o=>u.jsx(Gr,{book:o,currentPage:e},o.id)):(s.sort((o,l)=>Number(l.date_finished)-Number(o.date_finished)),u.jsx(ee,{to:"/finished",children:u.jsx("div",{className:"deck-container",children:s.slice(0,6).map((o,l)=>u.jsx("article",{className:"book-cover",style:{zIndex:10-l},children:u.jsx("img",{src:Gn(o.cover,"L")})},o.id))})}))}return u.jsx(u.Fragment,{children:n?u.jsx("main",{className:"finished deck",children:i(r)}):u.jsx(ee,{to:"/finished",children:u.jsxs("main",{className:"toadd",children:[u.jsx("aside",{children:u.jsx("button",{className:"btn-icon",children:u.jsx("img",{src:"img/icon-finished.png"})})}),"Books I finished reading."]})})})}function YC(){return u.jsx(u.Fragment,{children:u.jsxs("article",{className:"adder",children:[u.jsx(ee,{to:"/finished",children:u.jsxs("header",{className:"adder-header",children:["Mu Finished books",u.jsx("span",{children:"›"})]})}),u.jsx(JC,{page:"dashboard"})]})})}function GC({page:e}){const{userMyBooks:t}=_.useContext(B);let n=!1;const r=t.filter(s=>s.list===4);r.length>0&&(n=!0);function i(s){return s.length===1?s.map(o=>u.jsx(Gr,{book:o,currentPage:e},o.id)):(Wx(s),u.jsx(ee,{to:"/favorites",children:u.jsx("div",{className:"deck-container",children:s.slice(-6).map((o,l)=>u.jsx("article",{className:"book-cover",style:{zIndex:10-l},children:u.jsx("img",{src:Gn(o.cover,"L")})},o.id))})}))}return u.jsx(u.Fragment,{children:n?u.jsx("main",{className:"favorites deck",children:i(r)}):u.jsx(ee,{to:"/favorites",children:u.jsxs("main",{className:"toadd",children:[u.jsx("aside",{children:u.jsx("button",{className:"btn-icon",children:u.jsx("img",{src:"img/icon-favorites.png"})})}),"Only the best ones here."]})})})}function XC(){return u.jsx(u.Fragment,{children:u.jsxs("article",{className:"adder",children:[u.jsx(ee,{to:"/favorites",children:u.jsxs("header",{className:"adder-header",children:["Mu Favorites",u.jsx("span",{children:"›"})]})}),u.jsx(GC,{page:"dashboard"})]})})}function ZC({page:e}){const{userMyBooks:t}=_.useContext(B);let n=!1;const r=t.filter(s=>s.list===1);r.length>0&&(n=!0);function i(s){return s.length===1?s.map(o=>u.jsx(Gr,{book:o,currentPage:e},o.id)):u.jsx(ee,{to:"/wishlist",children:u.jsx("div",{className:"deck-container",children:s.slice(-6).map((o,l)=>u.jsx("article",{className:"book-cover",style:{zIndex:10-l},children:u.jsx("img",{src:Gn(o.cover,"L")})},o.id))})})}return u.jsx(u.Fragment,{children:n?u.jsx("main",{className:"wishlist deck",children:i(r)}):u.jsx(ee,{to:"/wishlist",children:u.jsxs("main",{className:"toadd",children:[u.jsx("aside",{children:u.jsx("button",{className:"btn-icon",children:u.jsx("img",{src:"img/icon-wishlist.png"})})}),"Next in line."]})})})}function eE({page:e}){return u.jsx(u.Fragment,{children:u.jsxs("article",{className:"adder",children:[u.jsx(ee,{to:"/wishlist",children:u.jsxs("header",{className:"adder-header",children:["Mu Wishlist",u.jsx("span",{children:"›"})]})}),u.jsx(ZC,{page:e})]})})}const tE="Mu Dashboard",nE="dashboard";function rE(){const{setNavTitle:e}=_.useContext(B);_.useEffect(()=>{e(tE)},[e]);const t=at();return _.useEffect(()=>{localStorage.getItem(un)},[t]),u.jsxs(u.Fragment,{children:[u.jsx(ik,{}),u.jsx(WC,{}),u.jsx(eE,{page:nE}),u.jsx(XC,{}),u.jsx(YC,{}),u.jsx(KC,{})]})}const ff=window.location.href,iE=()=>{const e=at(),[t,n]=_.useState(""),[r,i]=_.useState(""),[s,o]=_.useState(""),[l,a]=_.useState("");let c="";if(tt(ff,"error_description")){const d=tt(ff,"error_description");c=FC(d)}return _.useEffect(()=>{setTimeout(()=>{n("We will redirect you to the login page in ")},1e3),setTimeout(()=>{i("3. ")},2e3),setTimeout(()=>{o("2. ")},3e3),setTimeout(()=>{a("1. ")},4e3),setTimeout(()=>{e("/account/login")},5e3)},[e]),u.jsxs(u.Fragment,{children:[u.jsx("h1",{children:"Error"}),u.jsx("h2",{children:c}),u.jsxs("p",{children:[t,r,s,l]})]})},sE=()=>{const{setLocalBookFilter:e,localBookFilter:t}=_.useContext(B);function n(i){const s=i.target.value.toLowerCase();s.length>0?e(s):e("")}function r(){e("")}return u.jsxs("div",{id:"booksoverview-filter-sort",children:[u.jsx("form",{className:"single-small-form ",children:u.jsx("input",{type:"text",onChange:n,id:"booksoverview-filter",value:t,placeholder:"Filter on book title"})}),t.length>0&&u.jsx("button",{className:"btn-text btn-text-cancel",onClick:r,children:"Reset filter"})]})},In=({books:e,page:t})=>{const{userMyBooks:n}=_.useContext(B),r=n;return u.jsxs(u.Fragment,{children:[t!=="search"&&t!=="tropes"&&u.jsx(sE,{}),e.map(i=>(t==="search"&&r.find(s=>{s.id===i.id&&(i.list=s.list,i.date_reading=s.date_reading,i.date_finished=s.date_finished)}),u.jsx(Gr,{book:i,currentPage:t},i.id)))]})},pf="Favorites",oE="favorites",lE=()=>{const{userMyBooks:e,setNavTitle:t,localBookFilter:n}=_.useContext(B);_.useEffect(()=>{t(pf)},[t]);let r=!1,i=[];return localStorage.getItem("MyBooks")!==void 0&&(n!==""&&n.length>0?i=e.filter(s=>s.list===4&&s.title_short.toLowerCase().includes(n.toLowerCase())):i=e.filter(s=>s.list===4),i!==void 0&&(i.length>0?(i.sort((s,o)=>Number(o.date_finished)-Number(s.date_finished)),r=!0):r=!1)),u.jsxs(u.Fragment,{children:[u.jsxs("h1",{children:[pf,u.jsx("sub",{children:n.length>0&&i.length>0?u.jsxs(u.Fragment,{children:["Results for ",u.jsx("i",{children:n})," : ",i.length]}):n.length>0&&i.length===0?u.jsxs(u.Fragment,{children:["No book titles found for ",u.jsxs("i",{children:[n,"."]})]}):u.jsxs(u.Fragment,{children:["Beloved and adored books: ",i.length]})})]}),!r&&n===""&&u.jsxs(u.Fragment,{children:[u.jsx("h4",{children:"No books marked as favorite yet."}),u.jsxs("p",{children:["Select and mark your favorite book from ",u.jsx(ee,{to:"/finished",children:"your finished books"})," add to this list."]})]}),u.jsx(In,{books:i,page:oE})]})},mf="Finished books",aE="finished",uE=()=>{const{userMyBooks:e,setNavTitle:t,localBookFilter:n}=_.useContext(B);_.useEffect(()=>{t(mf)},[t]);let r=!1,i=[];return localStorage.getItem("MyBooks")!==void 0&&(n!==""&&n.length>0?i=e.filter(s=>(s.list===3||s.list===4)&&s.title_short.toLowerCase().includes(n)):i=e.filter(s=>s.list===3||s.list===4),i.sort((s,o)=>Number(o.date_finished)-Number(s.date_finished)),i!==void 0&&(i.length>0?r=!0:r=!1)),u.jsxs(u.Fragment,{children:[u.jsxs("h1",{children:[mf,u.jsx("sub",{children:n.length>0&&i.length>0?u.jsxs(u.Fragment,{children:["Results for ",u.jsx("i",{children:n})," : ",i.length]}):n.length>0&&i.length===0?u.jsxs(u.Fragment,{children:["No book titles found for ",u.jsxs("i",{children:[n,"."]})]}):u.jsxs(u.Fragment,{children:["Books I finished reading: ",i.length]})})]}),!r&&n===""&&u.jsxs(u.Fragment,{children:[u.jsx("p",{children:"Have any favorites? Add them to your favorites from here."}),u.jsx("h4",{children:"Not finished any book yet."}),u.jsxs("p",{children:["Are you finished with the book you're reading?",u.jsx("br",{}),"Select and mark your ",u.jsx(ee,{to:"/reading",children:"currently reading book"})," as finished.",u.jsx("br",{}),u.jsx("br",{})]})]}),u.jsx(In,{books:i,page:aE})]})},cE=()=>{const e=at(),{userIsLoggedIn:t,navTitle:n}=_.useContext(B),[r,i]=_.useState(!1);function s(){i(!r)}function o(){i(!1),e("/search")}return t===!1?u.jsx(u.Fragment,{}):u.jsx(u.Fragment,{children:u.jsxs("div",{className:r?"anyexpanded":"allcollapsed",children:[u.jsxs("nav",{id:"navIcons",children:[u.jsx("button",{id:"toggleNavBurger",className:r?"expanded":"collapsed",onClick:s,children:u.jsxs("div",{className:"burger",children:[u.jsx("div",{className:"burgerbar bar1"}),u.jsx("div",{className:"burgerbar bar2"}),u.jsx("div",{className:"burgerbar bar2duplo"}),u.jsx("div",{className:"burgerbar bar3"})]})}),u.jsx("h1",{id:"navTitle",children:n}),u.jsx("div",{style:{display:"flex",alignContent:"center"},children:u.jsxs("button",{className:"toggleZoekNav",onClick:()=>o(),children:[u.jsx("span",{className:"alt",children:"Search"}),u.jsx("svg",{className:"zoekIconSvg",viewBox:"0 0 149.84702 148.5",version:"1.1",id:"nav-icon-loep",xmlns:"http://www.w3.org/2000/svg",children:u.jsxs("g",{id:"nav-icon-loep-path",children:[u.jsx("path",{id:"loep-rect1",transform:"rotate(-45)",d:"m -3.2461977,126.12067 h 8.3973866 c 3.5534027,0 6.4140841,2.86068 6.4140841,6.41408 v 65.15062 c 0,3.55341 -2.8606814,6.41409 -6.4140841,6.41409 h -8.3973866 c -3.5534028,0 -6.4140844,-2.86068 -6.4140844,-6.41409 v -65.15062 c 0,-3.5534 2.8606816,-6.41408 6.4140844,-6.41408 z"}),u.jsx("path",{id:"nav-icon-loep-stroke",d:"M 103.48977,56.050812 A 47.438957,47.438957 0 0 1 56.050812,103.48977 47.438957,47.438957 0 0 1 8.6118546,56.050812 47.438957,47.438957 0 0 1 56.050812,8.6118546 47.438957,47.438957 0 0 1 103.48977,56.050812 Z"})]})})]})})]}),u.jsxs("nav",{id:"nav0",className:r?"expanded nav-collapsable":"collapsed nav-collapsable","aria-expanded":r?"true":"false",children:[u.jsxs("ul",{children:[u.jsx("li",{children:u.jsx(Me,{to:"/dashboard",onClick:s,children:"Dashboard"})}),u.jsx("li",{children:u.jsx(Me,{to:"/search",onClick:s,children:"Search"})}),u.jsx("li",{children:u.jsx(Me,{to:"/wishlist",onClick:s,children:"Wishlist"})}),u.jsx("li",{children:u.jsx(Me,{to:"/reading",onClick:s,children:"Reading"})}),u.jsx("li",{children:u.jsx(Me,{to:"/finished",onClick:s,children:"Finished"})}),u.jsx("li",{children:u.jsx(Me,{to:"/favorites",onClick:s,children:"Favorites"})}),u.jsx("li",{children:u.jsx(Me,{to:"/saved-books",onClick:s,children:"Saved books"})}),u.jsx("li",{children:u.jsx(Me,{to:"/quoted-books",onClick:s,children:"Quoted"})}),u.jsx("li",{children:u.jsx(Me,{to:"/tropes",onClick:s,children:"Tropes"})}),u.jsx("li",{children:u.jsx(Me,{to:"/statistics",onClick:s,children:"Statistics"})}),u.jsx("li",{children:u.jsx(Me,{to:"/clear-my-books",onClick:s,children:"Clear My Books"})}),u.jsx("li",{children:u.jsxs("div",{className:"history",children:[u.jsx("button",{children:"<"}),u.jsx("button",{children:">"})]})})]}),u.jsxs("ul",{children:[u.jsx("li",{children:u.jsx(Me,{to:"/account/profile",onClick:s,children:"Profile"})}),u.jsx("li",{children:u.jsx(Me,{to:"/account/logout",onClick:s,children:"Logout"})})]})]})]})})},gf="Mu Quotes",dE="quotedbooks",hE=()=>{const{userMyBooks:e,setNavTitle:t}=_.useContext(B);_.useEffect(()=>{t(gf)},[t]);let n,r=!1;return e===void 0&&(n=[]),e.length>0?(n=e.filter(i=>i.review_fav_quote&&i.review_fav_quote!==""),n.length>0&&(r=!0)):n=[],u.jsxs(u.Fragment,{children:[u.jsxs("h1",{children:[gf," ",u.jsxs("sub",{children:["My books with quotes to remember: ",n.length]})]}),u.jsxs("div",{className:r===!0?"dnone":"dblock",children:[u.jsx("h4",{children:"No books added yet, find them and add them."}),u.jsx("p",{children:u.jsx(ee,{to:"/search",className:"wauto",children:"Search"})})]}),u.jsx(In,{books:n,page:dE})]})},fE="Mu books",pE="reading",mE=()=>{const{userMyBooks:e,setNavTitle:t,localBookFilter:n}=_.useContext(B);_.useEffect(()=>{t(fE)},[t]);let r=!1,i=[];return e!==void 0&&(n!==""&&n.length>0?i=e.filter(s=>s.list===2&&s.title_short.toLowerCase().includes(n)):i=e.filter(s=>s.list===2),i!==void 0&&(i.length>0?r=!0:r=!1)),u.jsxs(u.Fragment,{children:[u.jsxs("h1",{children:["What I'm reading now",u.jsx("sub",{children:n.length>0&&i.length>0?u.jsxs(u.Fragment,{children:["Results for ",u.jsx("i",{children:n})," : ",i.length]}):n.length>0&&i.length===0?u.jsxs(u.Fragment,{children:["No book titles found for ",u.jsxs("i",{children:[n,"."]})]}):u.jsxs(u.Fragment,{children:["Currently enjoying book(s):",i.length]})})]}),!r&&n===""&&u.jsxs(u.Fragment,{children:[u.jsx("h4",{children:"Currently not reading anything."}),u.jsxs("p",{children:["Want to add a book to your reading list?",u.jsx("br",{}),u.jsx(ee,{to:"/wishlist",children:"View your wishlist"})," or ",u.jsx(ee,{to:"/search",children:"Search"})," to add a book.",u.jsx("br",{}),u.jsx("br",{})]})]}),u.jsx(In,{books:i,page:pE})]})},sn=window.location.href,yf=tt(sn,"access_token",!0),vf=tt(sn,"refresh_token",!0),gE=()=>{const{setPopupNotification:e,setPopupNotificationShow:t}=_.useContext(B),n=_.useCallback(function(){return!!tt(sn,"error",!0)},[]),r=_.useCallback(function(){return{error:tt(sn,"error",!0),error_code:tt(sn,"error_code",!0),error_description:tt(sn,"error_description",!0)}},[]);async function i(d,h){const{error:p}=await Z.auth.setSession({access_token:d,refresh_token:h});p&&console.log("Error logging in with token:",p.message)}yf!==""&&vf!==""&&i(yf,vf);const{setUsermail:s,setUserIsLoggedIn:o,userIsLoggedIn:l}=_.useContext(B),a=at(),c=JSON.parse(localStorage.getItem(un));return _.useEffect(()=>{var p;let d,h=!1;((p=c==null?void 0:c.user)==null?void 0:p.aud)==="authenticated"&&(h=!0,o(!0)),n()?d="/error?error_description="+r().error_description:h?d="/dashboard":(d="/account/login",tt(sn,"type")==="recovery"&&(d="/auth/resetpassword")),h?(s(c.user.email),e("Logged in, redirecting"),t(!0),a(d)):(l&&o(!0),setTimeout(()=>{tt(sn,"type")==="recover"&&(d="/auth/resetpassword")},1500),a(d))},[a,s,c,r,n,o,l,e,t]),u.jsx(u.Fragment,{children:u.jsx("main",{id:"main",className:"textwrapper",children:u.jsxs("div",{className:"textwrapper",children:["Redirecting to wherever you should be right now... ",u.jsx("br",{}),u.jsx("a",{href:"https://ckdev88.github.io/mubooks/#/dashboard",children:"dashboard"}),u.jsx("br",{}),u.jsx(ee,{to:"/auth/resetpassword",children:"password reset page"})]})})})},yE="Saved books",vE="savedbooks";function wE(){const{userMyBooks:e,setNavTitle:t,localBookFilter:n}=_.useContext(B);_.useEffect(()=>{t(yE)},[t]);let r=!1,i=[];return localStorage.getItem("MyBooks")!==void 0&&(n!==""&&n.length>0?i=e.filter(s=>s.title_short.toLowerCase().includes(n.toLowerCase())):i=e,i!==void 0&&(i.length>0?r=!0:r=!1)),u.jsxs(u.Fragment,{children:[u.jsxs("h1",{children:["My Books",u.jsx("sub",{children:n.length>0&&i.length>0?u.jsxs(u.Fragment,{children:["Results for ",u.jsx("i",{children:n})," : ",i.length]}):n.length>0&&i.length===0?u.jsxs(u.Fragment,{children:["No book titles found for ",u.jsxs("i",{children:[n,"."]})]}):u.jsxs(u.Fragment,{children:[" My books which are in whatever list: ",i.length," "]})})]}),!r&&n===""&&u.jsxs(u.Fragment,{children:[u.jsx("p",{children:"An overview of my saved books, this includes books that are favorited, read and finished, the wishlist and the book currently reading."}),u.jsxs("div",{children:[u.jsx("h4",{children:"No books added yet, find them and add them."}),u.jsx("p",{children:u.jsx(ee,{to:"/search",className:"wauto",children:"Search"})})]})]}),u.jsx(In,{books:i,page:vE})]})}const wf="Search",xE="search",_E=()=>{const[e,t]=_.useState(""),[n,r]=_.useState(0),[i,s]=_.useState([]),[o,l]=_.useState(""),[a,c]=_.useState(!1),{setNavTitle:d}=_.useContext(B);_.useEffect(()=>{var p;d(wf),(p=document.getElementById("search_term"))==null||p.focus()},[d]);async function h(p){p.preventDefault();const f=performance.now(),y=p.currentTarget.search_term.value.trim();y.length>4?(c(!0),t(""),await fetch("https://openlibrary.org/search.json?q="+y+"&mode=everything&limit=30&fields="+"title,author_name,isbn,cover_edition_key,author_key,edition_key,key,first_publish_year,number_of_pages_median,subject").then(x=>x.json()).then(x=>x.docs.filter(m=>m.author_key!==void 0&&m.edition_key!==void 0&&m.key!==void 0&&m.cover_edition_key!==void 0)).then(x=>{r(x.length);for(let m=0;m<x.length;m++)x[m].id=x[m].key.toString().replace("/works/",""),x[m].title_short=x[m].title.slice(0,45).toString(),x[m].cover=Xa(x[m].cover_edition_key);return x.length>30?t("Showing only 30 results. Specify a bit more."):t("Showing "+x.length+" results."),l(y),x}).then(x=>{s(x)}).catch(x=>t("error "+x)).finally(()=>c(!1))):y.length===0?t(y):t("keep typing..."),console.log("search performed in:",performance.now()-f)}return u.jsxs(u.Fragment,{children:[u.jsxs("h1",{children:[wf,u.jsx("sub",{children:"Find the book you want to add."})]}),u.jsxs("form",{onSubmit:h,children:[u.jsxs("label",{htmlFor:"search_term",children:[u.jsx("div",{className:"description",children:"Term or title"}),u.jsx("input",{type:"text",id:"search_term"})]}),u.jsx("br",{}),u.jsx("input",{type:"submit",disabled:a,value:a?"Searching...":"Search"})]}),u.jsx("div",{children:u.jsxs("div",{className:o!==""||e!==""?"dblock":"dnone",children:[u.jsxs("h2",{className:"resultsfound",children:[n>30?"Over 30":n," ",n>1||n===0?"books":"book"," found for ",u.jsxs("em",{children:['"',o,'"']}),u.jsx("sub",{className:e!==""?"dblock":"dnone",children:e})]}),u.jsx(In,{books:i,page:xE})]})})]})},kE=e=>e.map((t,n)=>{const r="Nopagesfor"+n+Pc(t);return u.jsx("li",{children:t},r)}),ry=new Date,fu=ry.getFullYear(),SE=new Date(fu,0,0),jE=1e3*60*60*24,xf=Math.floor((Number(ry)-Number(SE))/jE);let pi=0,Xl=[];const CE=e=>{const{userMyBooks:t}=_.useContext(B),[n,r]=_.useState(!1);pi=0,Xl=[];const i=(o,l)=>{let a=0,c=0,d=0;const h=o*1e4,p=h+1e4;for(let f=0;f<t.length;f++)t[f].date_finished!==void 0&&Number(t[f].date_finished)>h&&Number(t[f].date_finished)<p&&((l==="books"||l==="daysperbook")&&(c+=1),l!=="books"&&((l==="pages"||l==="pagesperday")&&typeof t[f].number_of_pages_median=="number"?d+=t[f].number_of_pages_median:l==="pages"&&t[f].number_of_pages_median===void 0&&(pi++,Xl.push(t[f].title_short))));return l==="books"?a=c:l==="pages"?a=d:l==="daysperbook"?o===fu?a=Math.floor(xf/c):a=Math.floor(365/c):l==="pagesperday"&&(o===fu?a=Math.floor(d/xf):a=Math.floor(d/365)),a},s="StatisticsYear"+e;if(i(e,"books")>0)return u.jsxs("div",{children:[u.jsxs("h2",{children:[e,"."]}),"Books finished: ",i(e,"books"),u.jsx("br",{}),"Pages finished: ",i(e,"pages"),pi>0&&u.jsx("small",{children:"*"}),u.jsx("br",{}),"Average days per book: ",i(e,"daysperbook"),u.jsx("br",{}),"Average pages per day: ",i(e,"pagesperday"),pi>0&&u.jsx("small",{children:"*"}),u.jsx("br",{}),pi>0&&u.jsxs("i",{children:[u.jsxs("button",{onClick:()=>r(!n),className:n?"btn-text caret-right-toggle italic diblock wauto active":"btn-text caret-right-toggle italic diblock wauto",children:["* Books without pages defined"," "]}),n&&u.jsx(u.Fragment,{children:kE(Xl)})]})]},s)},EE="Mu Statistics",bE=new Date,Oc=bE.getFullYear();let mi=Oc*1e4,_f=Oc;const TE=()=>{const{userMyBooks:e,setNavTitle:t}=_.useContext(B),n=[];_.useEffect(()=>{t(EE)},[t]),mi=(()=>{for(let i=0;i<e.length;i++)Number(e[i].date_finished)>0&&Number(e[i].date_finished)<mi&&(mi=Number(e[i].date_finished));return mi})(),_f=Math.floor(mi/1e4);for(let i=Oc;i>_f-1;i--)n.push(CE(i));return u.jsxs(u.Fragment,{children:[u.jsx("h1",{children:"Mu Statistics"}),n]})},PE=({page:e})=>{const{userMyBooks:t}=_.useContext(B),[n,r]=_.useState(""),[i,s]=_.useState([]),o=new Set;t.map(c=>{c.review_tropes&&c.review_tropes.map(d=>o.add(d))});const l=Array.from(o);function a(c){const d=t.filter(h=>h.review_tropes!==void 0&&h.review_tropes.length>0&&h.review_tropes.includes(c));s(d),r(c)}return u.jsxs(u.Fragment,{children:[u.jsx("h2",{children:"Tropes in my Books."}),u.jsx("ul",{className:"tropes clr",children:l.map((c,d)=>u.jsx("li",{className:"trope_add",children:u.jsx("button",{className:"btn-txt btn-sm mb0",onClick:()=>a(c),children:c})},Nc(c,d)))}),i.length>0&&u.jsxs(u.Fragment,{children:[u.jsxs("h2",{children:["My Books for ",u.jsx("em",{children:n})]}),u.jsx("br",{}),u.jsx(In,{books:i,page:e})]})]})},NE=()=>{const{setNavTitle:e,setPopupNotification:t,userid:n}=_.useContext(B),[r,i]=_.useState(!1),[s,o]=_.useState([]),l=async()=>{const f=await Z.from("user_entries").select("tropes_liked");f.data&&o(f.data[0].tropes_liked)};_.useEffect(()=>{l()},[e]),_.useEffect(()=>{var f;r===!0&&((f=document.getElementById("trope_add_liked"))==null||f.focus())},[r]);async function a(f){f.preventDefault();let y;if(f.currentTarget.trope_add_liked.value!==void 0){y=Cn(f.currentTarget.trope_add_liked.value,!1),o([...s,y]),f.currentTarget.trope_add_liked.value="",f.currentTarget.trope_add_liked.focus();let w;const{error:x}=await Z.from("user_entries").update({tropes_liked:[...s,y],testdata:"updated from tropes: Add liked trope"}).eq("user_id",n).select("*");x?w=x.message:w="Updated liked tropes.",t(w)}}async function c(f){let y;const{error:w}=await Z.from("user_entries").update({tropes_liked:s.filter(x=>x!==f),testdata:"updated from tropes: remove liked trope"}).eq("user_id",n).select("*");w?y=w.message:y="Updated liked tropes.",t(y)}function d(f){o(s.filter(y=>y!==f)),c(f)}const h=()=>{i(!1)},p=({tropes:f})=>u.jsxs("ul",{className:"tropes clr mb0",children:[f.map((y,w)=>u.jsxs("li",{className:"trope badge cgreen",children:[y,u.jsx("button",{className:"btn-x",onClick:()=>d(y),children:"x"})]},Nc(y,w))),u.jsx("li",{className:"trope_add",children:u.jsx("button",{className:r?"btn-sm mb0 active":"btn-sm mb0",onClick:()=>i(!r),children:f.length>0?u.jsx(u.Fragment,{children:"+"}):u.jsx(u.Fragment,{children:"Add tropes"})})})]});return u.jsxs(u.Fragment,{children:[u.jsx("h2",{children:"Like"}),u.jsxs("div",{children:[u.jsx(p,{tropes:s}),r&&u.jsxs(u.Fragment,{children:[u.jsxs("form",{className:"single-small-form clr",onSubmit:a,children:[u.jsx("input",{type:"text",name:"trope_add_liked",id:"trope_add_liked",placeholder:"Add a trope..."}),u.jsx("button",{className:"btn-submit-inside-caret-right"})]}),u.jsx("button",{className:"btn-text btn-text-cancel",onClick:()=>h(),children:"Cancel"})]})]})]})},IE=()=>{const{setNavTitle:e,setPopupNotification:t,userid:n}=_.useContext(B),[r,i]=_.useState(!1),[s,o]=_.useState([]),l=async()=>{const f=await Z.from("user_entries").select("tropes_disliked");f.data&&o(f.data[0].tropes_disliked)};_.useEffect(()=>{l()},[e]),_.useEffect(()=>{var f;r===!0&&((f=document.getElementById("trope_add_disliked"))==null||f.focus())},[r]);async function a(f){f.preventDefault();let y;if(f.currentTarget.trope_add_disliked.value!==void 0){y=Cn(f.currentTarget.trope_add_disliked.value,!1),o([...s,y]),f.currentTarget.trope_add_disliked.value="",f.currentTarget.trope_add_disliked.focus();let w;const{error:x}=await Z.from("user_entries").update({tropes_disliked:[...s,y],testdata:"updated from tropes: Add liked trope"}).eq("user_id",n).select("*");x?w=x.message:w="Updated liked tropes.",t(w)}}async function c(f){let y;const{error:w}=await Z.from("user_entries").update({tropes_disliked:s.filter(x=>x!==f),testdata:"updated from tropes: remove disliked trope"}).eq("user_id",n).select("*");w?y=w.message:y="Updated disliked tropes.",t(y)}function d(f){o(s.filter(y=>y!==f)),c(f)}const h=()=>{i(!1)},p=({tropes:f})=>u.jsxs("ul",{className:"tropes clr mb0",children:[f.map((y,w)=>u.jsxs("li",{className:"trope badge cred",children:[y,u.jsx("button",{className:"btn-x",onClick:()=>d(y),children:"x"})]},Nc(y,w))),u.jsx("li",{className:"trope_add",children:u.jsx("button",{className:r?"btn-sm mb0 active":"btn-sm mb0",onClick:()=>i(!r),children:f.length>0?u.jsx(u.Fragment,{children:"+"}):u.jsx(u.Fragment,{children:"Add tropes"})})})]});return u.jsxs(u.Fragment,{children:[u.jsx("h2",{children:"Dislike"}),u.jsxs("div",{children:[u.jsx(p,{tropes:s}),r&&u.jsxs(u.Fragment,{children:[u.jsxs("form",{className:"single-small-form clr",onSubmit:a,children:[u.jsx("input",{type:"text",name:"trope_add_disliked",id:"trope_add_disliked",placeholder:"Add a trope..."}),u.jsx("button",{className:"btn-submit-inside-caret-right"})]}),u.jsx("button",{className:"btn-text btn-text-cancel",onClick:()=>h(),children:"Cancel"})]})]})]})},OE="Tropes",LE="tropes",AE=()=>{const{setNavTitle:e}=_.useContext(B),[t,n]=_.useState(!1);return _.useEffect(()=>{e(OE)},[e]),u.jsxs(u.Fragment,{children:[u.jsx("h1",{children:"My Tropes"}),u.jsx(NE,{}),u.jsx(IE,{}),u.jsx("br",{}),u.jsx("hr",{}),u.jsx("br",{}),u.jsx("button",{className:t?"btn-text caret-right-toggle active wauto notext":"btn-text caret-right-toggle wauto",onClick:()=>n(!t),children:t?"":"Show more"}),t&&u.jsx(PE,{page:LE})]})},fs=()=>{function e(){var l,a;const s=document.getElementById("card-signup"),o=document.getElementById("card-recover");(l=document.getElementById("cards-draaideur"))==null||l.classList.add("rotate"),s&&(s.style.display="none"),o&&(o.style.display="flex",(a=document.getElementById("recover_email"))==null||a.focus())}function t(){var l,a;const s=document.getElementById("card-recover"),o=document.getElementById("card-signup");(l=document.getElementById("cards-draaideur"))==null||l.classList.add("rotate"),s&&(s.style.display="none"),o&&(o.style.display="flex",(a=document.getElementById("signup_screenname"))==null||a.focus())}function n(){var s,o;(s=document.getElementById("cards-draaideur"))==null||s.classList.remove("rotate"),(o=document.getElementById("login_email"))==null||o.focus()}function r(){var s,o;(s=document.getElementById("cards-draaideur"))==null||s.classList.remove("rotate"),(o=document.getElementById("login_email"))==null||o.focus()}function i(){var s;(s=document.getElementById("cards-draaideur"))==null||s.classList.add("rotate")}return{signup:t,recover:e,login:n,see:r,change:i}},RE=()=>{const e=at(),{setUserIsLoggedIn:t,setUsername:n,setUsermail:r,formNotification:i,setFormNotification:s}=_.useContext(B),[o,l]=_.useState(""),[a,c]=_.useState(!1),d=async y=>{const{data:w,error:x}=await Z.auth.signInWithPassword({email:y.email,password:y.password});return{error:x,data:w}};async function h(y){y.preventDefault(),c(!0);const w={email:y.currentTarget.login_email.value,password:y.currentTarget.login_password.value};await d(w).then(x=>{var m,g;x.error!==null?(l(x.error.message),t(!1),c(!1)):(l(""),t(!0),s(""),n((m=x.data.user)==null?void 0:m.user_metadata.screenname),r((g=x.data.user)==null?void 0:g.user_metadata.email),e("/loadlibrary"))}).catch(()=>l("Something unexpected happened, try again later."))}const{recover:p,signup:f}=fs();return u.jsx(u.Fragment,{children:u.jsxs("article",{className:"card",id:"card-login",children:[u.jsxs("main",{children:[u.jsxs("header",{children:["Log in",u.jsx("sub",{children:"to continue"})]}),u.jsx("em",{className:"form-notification",children:i}),u.jsxs("form",{onSubmit:h,children:[u.jsxs("label",{htmlFor:"login_email",children:[u.jsx("div",{className:"description",children:"Email address"}),u.jsx("input",{type:"email",id:"login_email",name:"login_email",required:!0})]}),u.jsxs("label",{htmlFor:"login_password",children:[u.jsx("div",{className:"description",children:"Password"}),u.jsx("input",{type:"password",id:"login_password",name:"login_password"})]}),u.jsxs("div",{className:o!==""?"dblock error":"dblock",children:[o," "]}),u.jsx("button",{type:"submit",value:"Log in",disabled:a,children:a?"Logging in...":"Log in"})]})]}),u.jsxs("footer",{children:[u.jsx("button",{className:"btn-text wauto-md nowrap",onClick:p,children:"Forgot password"}),u.jsxs("button",{className:"btn-text ta-right wauto-md nowrap",onClick:f,children:[u.jsx("span",{className:"dnone diblock-md",children:"New here? "}),"Join now"]})]})]})})};async function FE(e){return await Z.auth.signUp(e)}function DE(){const{setUsermail:e}=_.useContext(B),t=at(),{login:n}=fs(),[r,i]=_.useState("");async function s(o){o.preventDefault();const l={email:o.currentTarget.email.value,screenname:o.currentTarget.screenname.value,password:o.currentTarget.password.value},a=await FE(l);a.error?i(a.error.message):(e(l.email),t(`/account/new?addr=${l.email}`))}return u.jsx(u.Fragment,{children:u.jsxs("article",{className:"card",id:"card-signup",children:[u.jsx("header",{children:"Let's create an account"}),u.jsx("main",{children:u.jsxs("form",{onSubmit:s,children:[u.jsxs("label",{htmlFor:"screenname",children:[u.jsx("div",{className:"description",children:"Screen name"}),u.jsx("input",{type:"text",id:"signup_screenname",name:"screenname"})]}),u.jsxs("label",{htmlFor:"email",children:[u.jsx("div",{className:"description",children:"Email address: *"}),u.jsx("input",{type:"email",id:"signup_email",name:"email",required:!0})]}),u.jsxs("label",{htmlFor:"password",children:[u.jsx("div",{className:"description",children:"Password: *"}),u.jsx("input",{type:"password",id:"signup_password",name:"password",required:!0})]}),u.jsxs("div",{className:r!==""?"dblock error":"dblock",children:[r," "]}),u.jsx("button",{children:"Create account"})]})}),u.jsx("footer",{className:"content-right",children:u.jsx("button",{className:"btn-text",onClick:n,children:"I already have an account"})})]})})}const ME=()=>{const{setUsermail:e,userIsLoggedIn:t}=_.useContext(B),[n,r]=_.useState(""),i=at(),{login:s}=fs(),[o,l]=_.useState(!1);function a(d){d.preventDefault();const h=d.currentTarget.email.value;c(h)}async function c(d){l(!0);const{error:h}=await Z.auth.resetPasswordForEmail(d);h?r(h.message):(e(d),l(!1),i(t?"/dashboard":"/account/forgotpassword"))}return u.jsx(u.Fragment,{children:u.jsxs("article",{className:"card",id:"card-recover",children:[u.jsxs("header",{children:[u.jsx("img",{src:"/img/recover-icon.png",width:"82",height:"82",alt:"",className:"recover-icon"}),"Forgot your password?",u.jsx("sub",{children:"Don't worry. Let's reset it."})]}),u.jsx("main",{children:u.jsxs("form",{onSubmit:a,children:[u.jsxs("label",{htmlFor:"recover_email",children:[u.jsx("div",{className:"description",children:"Email address: *"}),u.jsx("input",{type:"email",id:"recover_email",name:"email",required:!0})]}),u.jsx("p",{children:"We'll send a link to this email address if it matches an existing account."}),u.jsxs("div",{className:n!==""?"dblock error":"dblock",children:[n," "]}),u.jsx("button",{type:"submit",disabled:o,children:o?"Sending...":"Send me a password reset link"})]})}),u.jsx("footer",{children:u.jsx("button",{onClick:s,className:"btn-text",children:"Back to login"})})]})})};function iy(){const e=document.getElementsByClassName("axis")[0],t=document.getElementsByClassName("axis")[0].parentNode,n=e.getElementsByClassName("card");let r=n[0].offsetHeight;for(let i=0;i<n.length;i++)n[i].offsetHeight>r&&(r=n[i].offsetHeight+16);for(let i=0;i<n.length;i++)n[i].style.height=r+"px";t.style.height=r+"px",e.style.height=r+"px"}const zE="Log in";function kf(){const e=at(),{userIsLoggedIn:t,setNavTitle:n}=_.useContext(B);return _.useEffect(()=>{n(zE),t&&(console.log("d1yyyyyyyyyyyyyyyyapp"),e("/dashboard"))},[n,t,e]),_.useEffect(()=>iy(),[]),u.jsxs(u.Fragment,{children:[u.jsxs("h1",{id:"welcome",children:[u.jsx("img",{id:"welcome-logo-img",src:"img/logo.svg",alt:""})," MuBooks"]}),u.jsx("div",{id:"cards-draaideur",className:"cards-draaideur",children:u.jsxs("div",{className:"axis",children:[u.jsx(RE,{}),u.jsx(DE,{}),u.jsx(ME,{})]})})]})}function BE(){const{setUserIsLoggedIn:e}=_.useContext(B),t=at();return _.useEffect(()=>{(async()=>{await Z.auth.signOut().then(()=>{localStorage.clear(),e(!1)}).finally(()=>{setTimeout(()=>{t("/account/login")},1e3)})})()},[e,t]),u.jsxs(u.Fragment,{children:[u.jsx("h1",{children:"Logging out."}),u.jsx("p",{children:"Redirecting to login page..."})]})}function $E(){const{change:e}=fs(),{username:t,usermail:n,setUsermail:r}=_.useContext(B);async function i(){if(n!==void 0&&n!=="")return;const{data:{user:s}}=await Z.auth.getUser();s&&r(String(s==null?void 0:s.email))}return i(),u.jsxs("div",{className:"card",children:[u.jsxs("header",{children:["My account ",u.jsx("sub",{children:"An overview of my profile"})]}),u.jsxs("main",{children:[u.jsxs("dl",{children:[u.jsx("dt",{children:"Screen name"}),u.jsx("dd",{children:t||"-"}),u.jsx("dt",{children:"Email address"}),u.jsx("dd",{children:n}),u.jsx("dt",{children:"Password"}),u.jsx("dd",{children:"******"})]}),u.jsx("button",{onClick:e,children:"change"})]}),u.jsx("footer",{children:u.jsx(ee,{to:"/dashboard",children:"Back to dashboard"})})]})}function UE(){const{see:e}=fs(),{username:t,setUsername:n,usermail:r,setUsermail:i}=_.useContext(B);function s(a,c){n(a),i(c),e()}const o=async(a,c,d)=>{if(d!==""){const{error:h}=await Z.auth.updateUser({email:c,password:d,data:{screenname:a}});h?console.log("Error updating user:",h):s(a,c)}else{const{error:h}=await Z.auth.updateUser({email:d,data:{screenname:a}});h?console.log("Error updating user:",h):s(a,c)}};function l(a){a.preventDefault();const c=a.currentTarget.account_screenname.value.trim(),d=a.currentTarget.account_email.value.trim(),h=a.currentTarget.account_password.value.trim();o(c,d,h)}return u.jsx(u.Fragment,{children:u.jsxs("div",{className:"card",children:[u.jsxs("header",{children:["Edit my account",u.jsx("sub",{children:"Change your preferences"})]}),u.jsx("main",{children:u.jsxs("form",{onSubmit:l,children:[u.jsxs("label",{htmlFor:"account_screenname",children:[u.jsx("div",{className:"description",children:"Screen name"}),u.jsx("input",{type:"text",id:"account_screenname",name:"account_screenname",defaultValue:t})]}),u.jsxs("label",{htmlFor:"account_email",children:[u.jsx("div",{className:"description",children:"Email address"}),u.jsx("input",{type:"email",id:"account_email",name:"account_email",defaultValue:r})]}),u.jsxs("label",{htmlFor:"account_password",children:[u.jsx("div",{className:"description",children:"Password (leave empty to keep current)"}),u.jsx("input",{type:"password",id:"account_password",name:"account_password",defaultValue:""})]}),u.jsx("button",{children:"Save and return"})]})}),u.jsx("footer",{children:u.jsx("a",{onClick:e,children:"Return without saving"})})]})})}const HE="Mu Profile",VE=()=>{const{setNavTitle:e}=_.useContext(B);return _.useEffect(()=>{e(HE)},[e]),_.useEffect(()=>{iy()},[]),u.jsx(u.Fragment,{children:u.jsx("div",{className:"cards-draaideur",id:"cards-draaideur",children:u.jsxs("div",{className:"axis",children:[u.jsx($E,{}),u.jsx(UE,{})]})})})},Sf="Mu Wishlist",qE="wishlist",WE=()=>{const{userMyBooks:e,setNavTitle:t,localBookFilter:n}=_.useContext(B);_.useEffect(()=>{t(Sf)},[t]);let r=!1,i=[];return localStorage.getItem("MyBooks")!=="undefined"&&(n!==""&&n.length>0?i=e.filter(s=>s.list===1&&s.title_short.toLowerCase().includes(n)):i=e.filter(s=>s.list===1),i!==void 0&&(i.length>0?r=!0:r=!1)),u.jsxs(u.Fragment,{children:[u.jsxs("h1",{children:[Sf,u.jsx("sub",{children:n.length>0&&i.length>0?u.jsxs(u.Fragment,{children:["Results for ",u.jsx("i",{children:n})," : ",i.length]}):n.length>0&&i.length===0?u.jsxs(u.Fragment,{children:["No book titles found for ",u.jsxs("i",{children:[n,"."]})]}):u.jsxs(u.Fragment,{children:[" All the books I will read soon: ",i.length]})})]}),!r&&n===""&&u.jsxs(u.Fragment,{children:[u.jsx("h4",{children:"No books on mu wishlist yet."}),u.jsxs("p",{children:["Want to add a book to your wishlist?",u.jsx("br",{}),u.jsx(ee,{to:"/search",children:"Search"})," or ",u.jsx(ee,{to:"/add-book",children:"Add a book yourself"}),".",u.jsx("br",{}),u.jsx("br",{})]})]}),u.jsx(In,{books:i,page:qE})]})},QE=()=>{const e=at();localStorage.getItem(un)===null&&e("/account/login");const{setUserMyBooks:t,userid:n}=_.useContext(B),[r,i]=_.useState(!1),s=async()=>{const{error:a}=await Z.from("user_entries").insert([{json:[],user_id:n,testdata:"nieuwe user"}]).select("*");a&&console.log("error after login:",a.message),l()},o=async()=>{await Z.from("user_entries").select("json").eq("user_id",n).then(a=>{a.data&&a.data.length<1?s():l()})},l=async()=>{await Z.from("user_entries").select("json").eq("user_id",n).then(a=>{a.data&&a.data[0].json&&t(a.data[0].json)}).then(()=>i(!0))};return o(),_.useEffect(()=>{r&&e("/dashboard")},[r,e]),u.jsxs(u.Fragment,{children:[u.jsx("h1",{children:"Logging in."}),u.jsx("p",{children:"Loading your library..."})]})},B=_.createContext({}),KE=nu(Date.now(),"input"),JE=()=>{let e;localStorage.getItem(un)?e=!0:e=!1;const[t,n]=_.useState(""),[r,i]=_.useState(""),[s,o]=_.useState(""),[l,a]=_.useState([]),[c,d]=_.useState(e),[h,p]=_.useState(""),[f,y]=_.useState(!1),[w,x]=_.useState(""),[m,g]=_.useState(!1),[v,S]=_.useState(""),[E,C]=_.useState(""),T=async()=>{let A;const J=await Z.from("user_entries").select("json");if(J.data)return g(!0),A=J.data[0].json,a(A),A},[I,M]=_.useState(navigator.onLine);_.useEffect(()=>{const A=()=>M(navigator.onLine);return window.addEventListener("online",A),window.addEventListener("offline",A),()=>{window.removeEventListener("online",A),window.removeEventListener("offline",A)}},[I]),_.useEffect(()=>{c===!0&&l.length<1&&T()},[c,m,l.length]),t===""&&localStorage.getItem(un)&&n(JSON.parse(localStorage.getItem(un)).user.user_metadata.screenname),s===""&&localStorage.getItem(un)&&o(JSON.parse(localStorage.getItem(un)).user.id),c?document.getElementsByTagName("html")[0].classList.add("loggedin"):document.getElementsByTagName("html")[0].classList.remove("loggedin");function R(){let A;return h?A=h:A="",setTimeout(()=>p(""),1e3),u.jsx(u.Fragment,{children:A})}const D="main-"+Pc(location.hash,!1);return _.useEffect(()=>{document.title=v},[v]),u.jsx(u.Fragment,{children:u.jsxs(B.Provider,{value:{formNotification:w,navTitle:v,popupNotification:h,popupNotificationShow:f,localBookFilter:E,setFormNotification:x,setLocalBookFilter:C,setNavTitle:S,setPopupNotification:p,setPopupNotificationShow:y,setUserIsLoggedIn:d,setUserMyBooks:a,setUserid:o,setUsermail:i,setUsername:n,todaysDateInput:KE,userIsLoggedIn:c,userMyBooks:l,userid:s,usermail:r,username:t},children:[c&&u.jsx("header",{id:"header",children:u.jsx(cE,{})}),u.jsxs("main",{id:"main",className:D+" textwrapper",children:[!I&&u.jsx("div",{id:"popupNotificationOffline",children:" Offline. Some things won‘t work."}),h!==""&&u.jsx("div",{id:"popupNotification",className:h?"show":"hide",children:h&&u.jsx(u.Fragment,{children:R()})}),u.jsxs(R_,{children:[u.jsx(de,{path:"/*",Component:gE}),u.jsx(de,{path:"/error",Component:iE}),u.jsx(de,{path:"/account/login",Component:kf}),u.jsx(de,{path:"/account/logout",Component:BE}),u.jsx(de,{path:"/auth/confirm",Component:J_}),!c&&u.jsxs(u.Fragment,{children:[console.log("naaaaaaaaaaaaaaaaaaaaaah"),u.jsx(de,{path:"/auth/resetpassword",Component:G_}),u.jsx(de,{path:"/account/forgotpassword",Component:ek})]}),u.jsx(de,{path:"/account/new",Component:X_}),c&&u.jsxs(u.Fragment,{children:[u.jsx(de,{path:"/account/profile",Component:VE}),u.jsx(de,{path:"/account/*",Component:kf}),u.jsx(de,{path:"/dashboard",Component:rE}),u.jsx(de,{path:"/search",Component:_E}),u.jsx(de,{path:"/add-book",Component:Qx}),u.jsx(de,{path:"/saved-books",Component:wE}),u.jsx(de,{path:"/wishlist",Component:WE}),u.jsx(de,{path:"/reading",Component:mE}),u.jsx(de,{path:"/finished",Component:uE}),u.jsx(de,{path:"/favorites",Component:lE}),u.jsx(de,{path:"/quoted-books",Component:hE}),u.jsx(de,{path:"/tropes",Component:AE}),u.jsx(de,{path:"/statistics",Component:TE}),u.jsx(de,{path:"/clear-my-books",Component:rk}),u.jsx(de,{path:"/loadlibrary",Component:QE})]})]})]})]})})};Zl.createRoot(document.getElementById("root")).render(u.jsx(Zs.StrictMode,{children:u.jsx(H_,{children:u.jsx(JE,{})})}));export{jf as g};
