import{u as W,r as b,g as S,h as M,B as A,o as n,c as a,a as s,t as r,k as c,F as h,m as f,n as w,d as i}from"./index-352ad9b2.js";const R=s("h1",null,"My Books",-1),$=s("p",null," An overview of my saved books, this includes books that are favorited, read and finished, the wishlist and the book currently reading. ",-1),F={key:0,id:"alert"},N={key:1},V={class:"cover"},T=["src"],z={class:"in-short"},D=s("br",null,null,-1),E=s("br",null,null,-1),L={key:0},P=s("h3",null,"Synopsis:",-1),j={class:"marks"},q={class:"mark"},G=["onClick"],H=s("span",{class:"icon icon-remove"},null,-1),I={class:"mark"},J=["onClick"],K=s("span",{class:"icon icon-reading"},null,-1),O={key:1,class:"marked"},Q=s("span",{class:"icon icon-reading"},null,-1),U={class:"mark"},X=["onClick"],Y=s("span",{class:"icon icon-read"},null,-1),Z={key:1,class:"marked"},x=s("span",{class:"icon icon-read"},null,-1),ss={class:"mark"},es=["onClick"],os=s("span",{class:"icon icon-wishlist"},null,-1),ts=["onClick"],ns=s("span",{class:"icon icon-wishlist"},null,-1),as=s("hr",null,null,-1),rs={__name:"SavedBooksPage",setup(is){const d=W(),k=b(S()),t=M({books:d.getSavedBooks,resultCount:0,isSearched:!1,resultsWarning:null});t.books.length===0&&A().push({name:"search"}),t.resultsWarning=null;function m(e,l){d.removeMyBook(l),t.books[e].saved=!t.books[e].saved}function v(e,l){t.books[e].saved===!1&&m(e,l),t.books[e].onWishlist=!0,d.addBookWishlist(l)}function g(e,l){console.log("remove from wishlist"),t.books[e].onWishlist=!1,d.removeBookWishlist(l)}function p(e,l){if(t.books[e].saved===!1&&m(e,l),t.books[e].reading===!1){for(let o=0;o<t.books.length;o++)t.books[o].reading=!1;t.books[e].reading=!t.books[e].reading,t.books[e].reading===!0&&(t.books[e].finished=!1)}t.books[e].reading===!0&&d.addBookReading(e)}function y(e,l){t.books[e].finished=!0,t.books[e].reading=!1}function B(e){d.removeMyBook(e),t.books.splice(e,1)}return(e,l)=>(n(),a(h,null,[R,$,k.value.currentAlert?(n(),a("div",F,[s("div",null,r(k.value.currentAlert),1)])):c("",!0),t.resultsWarning?(n(),a("p",N,r(t.resultsWarning),1)):c("",!0),(n(!0),a(h,null,f(t.books,(o,u)=>(n(),a("article",{key:u,class:w(["book-summary",o.reading?"reading":""])},[s("header",null,[s("aside",V,[o.image?(n(),a("img",{key:0,src:o.image,alt:""},null,8,T)):c("",!0)]),s("div",z,[s("h2",null,[i(r(o.title)+" ",1),s("sub",null,[(n(!0),a(h,null,f(o.authors,(_,C)=>(n(),a("span",{key:C},[i(r(_),1),D]))),128))])]),i(" "+r(o.date_published),1),E,i(" "+r(o.pages)+" pages ",1)])]),s("main",null,[o.synopsis?(n(),a("div",L,[P,i(" "+r(o.synopsis.substring(0,180))+" ... ",1)])):c("",!0)]),s("footer",null,[s("div",j,[s("div",q,[s("a",{onClick:_=>B(u)},[H,i("Remove from my books")],8,G)]),s("div",I,[o.reading===!1?(n(),a("a",{key:0,onClick:_=>p(u,o)},[K,i(" Mark as reading ")],8,J)):(n(),a("span",O,[Q,i("Marked as reading...")]))]),s("div",U,[o.reading===!0&&o.finished===!1?(n(),a("a",{key:0,onClick:_=>y(u)},[Y,i("Mark as read ")],8,X)):c("",!0),o.finished===!0?(n(),a("span",Z,[x,i("Marked as read")])):c("",!0)]),s("div",ss,[!o.onWishlist||o.saved===!1?(n(),a("a",{key:0,onClick:_=>v(u,o)},[os,i("Add to wishlist ")],8,es)):o.onWishlist?(n(),a("a",{key:1,onClick:_=>g(u,o)},[ns,i("Remove from Wishlist ")],8,ts)):c("",!0)])]),as])],2))),128))],64))}};export{rs as default};
