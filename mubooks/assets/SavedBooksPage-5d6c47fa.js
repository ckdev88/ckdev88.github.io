import{u as W,r as b,g as S,h as A,B as M,o as a,c as n,a as e,t as _,k as d,F as k,m as f,n as R,d as i}from"./index-56aa0f9e.js";const $=e("h1",null,"My Books",-1),w=e("p",null," An overview of my saved books, this includes books that are favorited, read and finished, the wishlist and the book currently reading. ",-1),N={key:0,id:"alert"},T={key:1},V={class:"cover"},z=["src"],D={class:"in-short"},E=e("br",null,null,-1),L=e("br",null,null,-1),P={key:0},j=e("h3",null,"Synopsis:",-1),q={class:"marks"},G={class:"mark"},H=["onClick"],I=e("span",{class:"icon icon-remove"},null,-1),J={class:"mark"},K=["onClick"],O=e("span",{class:"icon icon-reading"},null,-1),Q={key:1,class:"marked"},U=e("span",{class:"icon icon-reading"},null,-1),X={class:"mark"},Y=["onClick"],Z=e("span",{class:"icon icon-read"},null,-1),x={key:1,class:"marked"},ss=e("span",{class:"icon icon-read"},null,-1),es={class:"mark"},os=["onClick"],ts=e("span",{class:"icon icon-wishlist"},null,-1),as=["onClick"],ns=e("span",{class:"icon icon-wishlist"},null,-1),is={class:"mark"},ls=["onClick"],rs=e("span",{class:"icon icon-favorites"},null,-1),cs=["onClick"],ds=e("span",{class:"icon icon-favorites"},null,-1),us=e("hr",null,null,-1),ks={__name:"SavedBooksPage",setup(_s){const u=W(),v=b(S()),t=A({books:u.getSavedBooks,resultCount:0,isSearched:!1,resultsWarning:null});(t.books.length===0||t.books===null)&&M().push({name:"search"}),t.resultsWarning=null;function h(s,l){u.removeMyBook(l),t.books[s].saved=!t.books[s].saved}function m(s,l){t.books[s].saved===!1&&h(s,l),t.books[s].onWishlist=!0,u.addBookWishlist(l)}function g(s,l){t.books[s].saved===!1&&h(s,l),t.books[s].isFavorite=!0,u.addBookFavorites(l)}function p(s,l){console.log("remove from favorites"),t.books[s].isFavorite=!1,u.removeFromFavorites(l)}function y(s,l){if(t.books[s].saved===!1&&h(s,l),t.books[s].reading===!1){for(let o=0;o<t.books.length;o++)t.books[o].reading=!1;t.books[s].reading=!t.books[s].reading,t.books[s].reading===!0&&(t.books[s].finished=!1)}t.books[s].reading===!0&&u.addBookReading(s)}function C(s,l){t.books[s].finished=!0,t.books[s].reading=!1}function B(s){u.removeMyBook(s),t.books.splice(s,1)}return(s,l)=>(a(),n(k,null,[$,w,v.value.currentAlert?(a(),n("div",N,[e("div",null,_(v.value.currentAlert),1)])):d("",!0),t.resultsWarning?(a(),n("p",T,_(t.resultsWarning),1)):d("",!0),(a(!0),n(k,null,f(t.books,(o,r)=>(a(),n("article",{key:r,class:R(["book-summary",o.reading?"reading":""])},[e("header",null,[e("aside",V,[o.image?(a(),n("img",{key:0,src:o.image,alt:""},null,8,z)):d("",!0)]),e("div",D,[e("h2",null,[i(_(o.title)+" ",1),e("sub",null,[(a(!0),n(k,null,f(o.authors,(c,F)=>(a(),n("span",{key:F},[i(_(c),1),E]))),128))])]),i(" "+_(o.date_published),1),L,i(" "+_(o.pages)+" pages ",1)])]),e("main",null,[o.synopsis?(a(),n("div",P,[j,i(" "+_(o.synopsis.substring(0,180))+" ... ",1)])):d("",!0)]),e("footer",null,[e("div",q,[e("div",G,[e("a",{onClick:c=>B(r)},[I,i("Remove from my books")],8,H)]),e("div",J,[o.reading===!1?(a(),n("a",{key:0,onClick:c=>y(r,o)},[O,i(" Mark as reading ")],8,K)):(a(),n("span",Q,[U,i("Marked as reading...")]))]),e("div",X,[o.reading===!0&&o.finished===!1?(a(),n("a",{key:0,onClick:c=>C(r)},[Z,i("Mark as read ")],8,Y)):d("",!0),o.finished===!0?(a(),n("span",x,[ss,i("Marked as read")])):d("",!0)]),e("div",es,[!o.onWishlist||o.saved===!1?(a(),n("a",{key:0,onClick:c=>m(r,o)},[ts,i("Add to wishlist ")],8,os)):o.onWishlist?(a(),n("a",{key:1,onClick:c=>s.removeFromWishlist(r,o)},[ns,i("Remove from Wishlist ")],8,as)):d("",!0)]),e("div",is,[!o.isFavorite||o.saved===!1?(a(),n("a",{key:0,onClick:c=>g(r,o)},[rs,i("Add to favorites ")],8,ls)):o.isFavorite?(a(),n("a",{key:1,onClick:c=>p(r,o)},[ds,i("Remove from favorites ")],8,cs)):d("",!0)])]),us])],2))),128))],64))}};export{ks as default};
