function vy(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Ye=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function xy(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var Tf={exports:{}},Fo={},Pf={exports:{}},W={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rs=Symbol.for("react.element"),wy=Symbol.for("react.portal"),_y=Symbol.for("react.fragment"),ky=Symbol.for("react.strict_mode"),Sy=Symbol.for("react.profiler"),jy=Symbol.for("react.provider"),Cy=Symbol.for("react.context"),Ey=Symbol.for("react.forward_ref"),by=Symbol.for("react.suspense"),Ty=Symbol.for("react.memo"),Py=Symbol.for("react.lazy"),$c=Symbol.iterator;function Ny(e){return e===null||typeof e!="object"?null:(e=$c&&e[$c]||e["@@iterator"],typeof e=="function"?e:null)}var Nf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},If=Object.assign,Of={};function qr(e,t,n){this.props=e,this.context=t,this.refs=Of,this.updater=n||Nf}qr.prototype.isReactComponent={};qr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};qr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Lf(){}Lf.prototype=qr.prototype;function yu(e,t,n){this.props=e,this.context=t,this.refs=Of,this.updater=n||Nf}var vu=yu.prototype=new Lf;vu.constructor=yu;If(vu,qr.prototype);vu.isPureReactComponent=!0;var Uc=Array.isArray,Af=Object.prototype.hasOwnProperty,xu={current:null},Rf={key:!0,ref:!0,__self:!0,__source:!0};function Ff(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)Af.call(t,r)&&!Rf.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:rs,type:e,key:s,ref:o,props:i,_owner:xu.current}}function Iy(e,t){return{$$typeof:rs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function wu(e){return typeof e=="object"&&e!==null&&e.$$typeof===rs}function Oy(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Hc=/\/+/g;function cl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Oy(""+e.key):t.toString(36)}function $s(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case rs:case wy:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+cl(o,0):r,Uc(i)?(n="",e!=null&&(n=e.replace(Hc,"$&/")+"/"),$s(i,t,n,"",function(c){return c})):i!=null&&(wu(i)&&(i=Iy(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Hc,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",Uc(e))for(var l=0;l<e.length;l++){s=e[l];var a=r+cl(s,l);o+=$s(s,t,n,a,i)}else if(a=Ny(e),typeof a=="function")for(e=a.call(e),l=0;!(s=e.next()).done;)s=s.value,a=r+cl(s,l++),o+=$s(s,t,n,a,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ys(e,t,n){if(e==null)return e;var r=[],i=0;return $s(e,r,"","",function(s){return t.call(n,s,i++)}),r}function Ly(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var $e={current:null},Us={transition:null},Ay={ReactCurrentDispatcher:$e,ReactCurrentBatchConfig:Us,ReactCurrentOwner:xu};function Df(){throw Error("act(...) is not supported in production builds of React.")}W.Children={map:ys,forEach:function(e,t,n){ys(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ys(e,function(){t++}),t},toArray:function(e){return ys(e,function(t){return t})||[]},only:function(e){if(!wu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};W.Component=qr;W.Fragment=_y;W.Profiler=Sy;W.PureComponent=yu;W.StrictMode=ky;W.Suspense=by;W.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ay;W.act=Df;W.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=If({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=xu.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)Af.call(t,a)&&!Rf.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:rs,type:e.type,key:i,ref:s,props:r,_owner:o}};W.createContext=function(e){return e={$$typeof:Cy,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:jy,_context:e},e.Consumer=e};W.createElement=Ff;W.createFactory=function(e){var t=Ff.bind(null,e);return t.type=e,t};W.createRef=function(){return{current:null}};W.forwardRef=function(e){return{$$typeof:Ey,render:e}};W.isValidElement=wu;W.lazy=function(e){return{$$typeof:Py,_payload:{_status:-1,_result:e},_init:Ly}};W.memo=function(e,t){return{$$typeof:Ty,type:e,compare:t===void 0?null:t}};W.startTransition=function(e){var t=Us.transition;Us.transition={};try{e()}finally{Us.transition=t}};W.unstable_act=Df;W.useCallback=function(e,t){return $e.current.useCallback(e,t)};W.useContext=function(e){return $e.current.useContext(e)};W.useDebugValue=function(){};W.useDeferredValue=function(e){return $e.current.useDeferredValue(e)};W.useEffect=function(e,t){return $e.current.useEffect(e,t)};W.useId=function(){return $e.current.useId()};W.useImperativeHandle=function(e,t,n){return $e.current.useImperativeHandle(e,t,n)};W.useInsertionEffect=function(e,t){return $e.current.useInsertionEffect(e,t)};W.useLayoutEffect=function(e,t){return $e.current.useLayoutEffect(e,t)};W.useMemo=function(e,t){return $e.current.useMemo(e,t)};W.useReducer=function(e,t,n){return $e.current.useReducer(e,t,n)};W.useRef=function(e){return $e.current.useRef(e)};W.useState=function(e){return $e.current.useState(e)};W.useSyncExternalStore=function(e,t,n){return $e.current.useSyncExternalStore(e,t,n)};W.useTransition=function(){return $e.current.useTransition()};W.version="18.3.1";Pf.exports=W;var _=Pf.exports;const no=bf(_),Ry=vy({__proto__:null,default:no},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fy=_,Dy=Symbol.for("react.element"),My=Symbol.for("react.fragment"),By=Object.prototype.hasOwnProperty,zy=Fy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$y={key:!0,ref:!0,__self:!0,__source:!0};function Mf(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)By.call(t,r)&&!$y.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Dy,type:e,key:s,ref:o,props:i,_owner:zy.current}}Fo.Fragment=My;Fo.jsx=Mf;Fo.jsxs=Mf;Tf.exports=Fo;var u=Tf.exports,ta={},Bf={exports:{}},lt={},zf={exports:{}},$f={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,B){var k=R.length;R.push(B);e:for(;0<k;){var G=k-1>>>1,ne=R[G];if(0<i(ne,B))R[G]=B,R[k]=ne,k=G;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var B=R[0],k=R.pop();if(k!==B){R[0]=k;e:for(var G=0,ne=R.length,j=ne>>>1;G<j;){var je=2*(G+1)-1,xt=R[je],ae=je+1,Nt=R[ae];if(0>i(xt,k))ae<ne&&0>i(Nt,xt)?(R[G]=Nt,R[ae]=k,G=ae):(R[G]=xt,R[je]=k,G=je);else if(ae<ne&&0>i(Nt,k))R[G]=Nt,R[ae]=k,G=ae;else break e}}return B}function i(R,B){var k=R.sortIndex-B.sortIndex;return k!==0?k:R.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var a=[],c=[],d=1,h=null,p=3,f=!1,v=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(R){for(var B=n(c);B!==null;){if(B.callback===null)r(c);else if(B.startTime<=R)r(c),B.sortIndex=B.expirationTime,t(a,B);else break;B=n(c)}}function S(R){if(x=!1,y(R),!v)if(n(a)!==null)v=!0,_e(E);else{var B=n(c);B!==null&&xe(S,B.startTime-R)}}function E(R,B){v=!1,x&&(x=!1,g(P),P=-1),f=!0;var k=p;try{for(y(B),h=n(a);h!==null&&(!(h.expirationTime>B)||R&&!D());){var G=h.callback;if(typeof G=="function"){h.callback=null,p=h.priorityLevel;var ne=G(h.expirationTime<=B);B=e.unstable_now(),typeof ne=="function"?h.callback=ne:h===n(a)&&r(a),y(B)}else r(a);h=n(a)}if(h!==null)var j=!0;else{var je=n(c);je!==null&&xe(S,je.startTime-B),j=!1}return j}finally{h=null,p=k,f=!1}}var C=!1,T=null,P=-1,F=5,A=-1;function D(){return!(e.unstable_now()-A<F)}function O(){if(T!==null){var R=e.unstable_now();A=R;var B=!0;try{B=T(!0,R)}finally{B?J():(C=!1,T=null)}}else C=!1}var J;if(typeof m=="function")J=function(){m(O)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,q=fe.port2;fe.port1.onmessage=O,J=function(){q.postMessage(null)}}else J=function(){w(O,0)};function _e(R){T=R,C||(C=!0,J())}function xe(R,B){P=w(function(){R(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){v||f||(v=!0,_e(E))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(R){switch(p){case 1:case 2:case 3:var B=3;break;default:B=p}var k=p;p=B;try{return R()}finally{p=k}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,B){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var k=p;p=R;try{return B()}finally{p=k}},e.unstable_scheduleCallback=function(R,B,k){var G=e.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?G+k:G):k=G,R){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=k+ne,R={id:d++,callback:B,priorityLevel:R,startTime:k,expirationTime:ne,sortIndex:-1},k>G?(R.sortIndex=k,t(c,R),n(a)===null&&R===n(c)&&(x?(g(P),P=-1):x=!0,xe(S,k-G))):(R.sortIndex=ne,t(a,R),v||f||(v=!0,_e(E))),R},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(R){var B=p;return function(){var k=p;p=B;try{return R.apply(this,arguments)}finally{p=k}}}})($f);zf.exports=$f;var Uy=zf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hy=_,ot=Uy;function N(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Uf=new Set,Di={};function Yn(e,t){Rr(e,t),Rr(e+"Capture",t)}function Rr(e,t){for(Di[e]=t,e=0;e<t.length;e++)Uf.add(t[e])}var Wt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),na=Object.prototype.hasOwnProperty,Vy=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Vc={},Wc={};function Wy(e){return na.call(Wc,e)?!0:na.call(Vc,e)?!1:Vy.test(e)?Wc[e]=!0:(Vc[e]=!0,!1)}function qy(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Qy(e,t,n,r){if(t===null||typeof t>"u"||qy(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ue(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Oe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Oe[e]=new Ue(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Oe[t]=new Ue(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Oe[e]=new Ue(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Oe[e]=new Ue(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Oe[e]=new Ue(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Oe[e]=new Ue(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Oe[e]=new Ue(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Oe[e]=new Ue(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Oe[e]=new Ue(e,5,!1,e.toLowerCase(),null,!1,!1)});var _u=/[\-:]([a-z])/g;function ku(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(_u,ku);Oe[t]=new Ue(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(_u,ku);Oe[t]=new Ue(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(_u,ku);Oe[t]=new Ue(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Oe[e]=new Ue(e,1,!1,e.toLowerCase(),null,!1,!1)});Oe.xlinkHref=new Ue("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Oe[e]=new Ue(e,1,!1,e.toLowerCase(),null,!0,!0)});function Su(e,t,n,r){var i=Oe.hasOwnProperty(t)?Oe[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Qy(t,n,i,r)&&(n=null),r||i===null?Wy(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Gt=Hy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vs=Symbol.for("react.element"),fr=Symbol.for("react.portal"),pr=Symbol.for("react.fragment"),ju=Symbol.for("react.strict_mode"),ra=Symbol.for("react.profiler"),Hf=Symbol.for("react.provider"),Vf=Symbol.for("react.context"),Cu=Symbol.for("react.forward_ref"),ia=Symbol.for("react.suspense"),sa=Symbol.for("react.suspense_list"),Eu=Symbol.for("react.memo"),tn=Symbol.for("react.lazy"),Wf=Symbol.for("react.offscreen"),qc=Symbol.iterator;function ti(e){return e===null||typeof e!="object"?null:(e=qc&&e[qc]||e["@@iterator"],typeof e=="function"?e:null)}var ge=Object.assign,dl;function yi(e){if(dl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);dl=t&&t[1]||""}return`
`+dl+e}var hl=!1;function fl(e,t){if(!e||hl)return"";hl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var a=`
`+i[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=o&&0<=l);break}}}finally{hl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?yi(e):""}function Ky(e){switch(e.tag){case 5:return yi(e.type);case 16:return yi("Lazy");case 13:return yi("Suspense");case 19:return yi("SuspenseList");case 0:case 2:case 15:return e=fl(e.type,!1),e;case 11:return e=fl(e.type.render,!1),e;case 1:return e=fl(e.type,!0),e;default:return""}}function oa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case pr:return"Fragment";case fr:return"Portal";case ra:return"Profiler";case ju:return"StrictMode";case ia:return"Suspense";case sa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Vf:return(e.displayName||"Context")+".Consumer";case Hf:return(e._context.displayName||"Context")+".Provider";case Cu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Eu:return t=e.displayName||null,t!==null?t:oa(e.type)||"Memo";case tn:t=e._payload,e=e._init;try{return oa(e(t))}catch{}}return null}function Jy(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oa(t);case 8:return t===ju?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Sn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function qf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Gy(e){var t=qf(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function xs(e){e._valueTracker||(e._valueTracker=Gy(e))}function Qf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=qf(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ro(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function la(e,t){var n=t.checked;return ge({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Qc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Sn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Kf(e,t){t=t.checked,t!=null&&Su(e,"checked",t,!1)}function aa(e,t){Kf(e,t);var n=Sn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ua(e,t.type,n):t.hasOwnProperty("defaultValue")&&ua(e,t.type,Sn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Kc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ua(e,t,n){(t!=="number"||ro(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var vi=Array.isArray;function Cr(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Sn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function ca(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(N(91));return ge({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Jc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(N(92));if(vi(n)){if(1<n.length)throw Error(N(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Sn(n)}}function Jf(e,t){var n=Sn(t.value),r=Sn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Gc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Gf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function da(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Gf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ws,Yf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ws=ws||document.createElement("div"),ws.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ws.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Mi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ki={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Yy=["Webkit","ms","Moz","O"];Object.keys(ki).forEach(function(e){Yy.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ki[t]=ki[e]})});function Xf(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ki.hasOwnProperty(e)&&ki[e]?(""+t).trim():t+"px"}function Zf(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Xf(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Xy=ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ha(e,t){if(t){if(Xy[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(N(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(N(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(N(61))}if(t.style!=null&&typeof t.style!="object")throw Error(N(62))}}function fa(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pa=null;function bu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ma=null,Er=null,br=null;function Yc(e){if(e=os(e)){if(typeof ma!="function")throw Error(N(280));var t=e.stateNode;t&&(t=$o(t),ma(e.stateNode,e.type,t))}}function ep(e){Er?br?br.push(e):br=[e]:Er=e}function tp(){if(Er){var e=Er,t=br;if(br=Er=null,Yc(e),t)for(e=0;e<t.length;e++)Yc(t[e])}}function np(e,t){return e(t)}function rp(){}var pl=!1;function ip(e,t,n){if(pl)return e(t,n);pl=!0;try{return np(e,t,n)}finally{pl=!1,(Er!==null||br!==null)&&(rp(),tp())}}function Bi(e,t){var n=e.stateNode;if(n===null)return null;var r=$o(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(N(231,t,typeof n));return n}var ga=!1;if(Wt)try{var ni={};Object.defineProperty(ni,"passive",{get:function(){ga=!0}}),window.addEventListener("test",ni,ni),window.removeEventListener("test",ni,ni)}catch{ga=!1}function Zy(e,t,n,r,i,s,o,l,a){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Si=!1,io=null,so=!1,ya=null,ev={onError:function(e){Si=!0,io=e}};function tv(e,t,n,r,i,s,o,l,a){Si=!1,io=null,Zy.apply(ev,arguments)}function nv(e,t,n,r,i,s,o,l,a){if(tv.apply(this,arguments),Si){if(Si){var c=io;Si=!1,io=null}else throw Error(N(198));so||(so=!0,ya=c)}}function Xn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function sp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Xc(e){if(Xn(e)!==e)throw Error(N(188))}function rv(e){var t=e.alternate;if(!t){if(t=Xn(e),t===null)throw Error(N(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Xc(i),e;if(s===r)return Xc(i),t;s=s.sibling}throw Error(N(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(N(189))}}if(n.alternate!==r)throw Error(N(190))}if(n.tag!==3)throw Error(N(188));return n.stateNode.current===n?e:t}function op(e){return e=rv(e),e!==null?lp(e):null}function lp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=lp(e);if(t!==null)return t;e=e.sibling}return null}var ap=ot.unstable_scheduleCallback,Zc=ot.unstable_cancelCallback,iv=ot.unstable_shouldYield,sv=ot.unstable_requestPaint,we=ot.unstable_now,ov=ot.unstable_getCurrentPriorityLevel,Tu=ot.unstable_ImmediatePriority,up=ot.unstable_UserBlockingPriority,oo=ot.unstable_NormalPriority,lv=ot.unstable_LowPriority,cp=ot.unstable_IdlePriority,Do=null,Ft=null;function av(e){if(Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(Do,e,void 0,(e.current.flags&128)===128)}catch{}}var bt=Math.clz32?Math.clz32:dv,uv=Math.log,cv=Math.LN2;function dv(e){return e>>>=0,e===0?32:31-(uv(e)/cv|0)|0}var _s=64,ks=4194304;function xi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function lo(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=xi(l):(s&=o,s!==0&&(r=xi(s)))}else o=n&~i,o!==0?r=xi(o):s!==0&&(r=xi(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-bt(t),i=1<<n,r|=e[n],t&=~i;return r}function hv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fv(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-bt(s),l=1<<o,a=i[o];a===-1?(!(l&n)||l&r)&&(i[o]=hv(l,t)):a<=t&&(e.expiredLanes|=l),s&=~l}}function va(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function dp(){var e=_s;return _s<<=1,!(_s&4194240)&&(_s=64),e}function ml(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function is(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-bt(t),e[t]=n}function pv(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-bt(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function Pu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-bt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var te=0;function hp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var fp,Nu,pp,mp,gp,xa=!1,Ss=[],pn=null,mn=null,gn=null,zi=new Map,$i=new Map,on=[],mv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ed(e,t){switch(e){case"focusin":case"focusout":pn=null;break;case"dragenter":case"dragleave":mn=null;break;case"mouseover":case"mouseout":gn=null;break;case"pointerover":case"pointerout":zi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":$i.delete(t.pointerId)}}function ri(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=os(t),t!==null&&Nu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function gv(e,t,n,r,i){switch(t){case"focusin":return pn=ri(pn,e,t,n,r,i),!0;case"dragenter":return mn=ri(mn,e,t,n,r,i),!0;case"mouseover":return gn=ri(gn,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return zi.set(s,ri(zi.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,$i.set(s,ri($i.get(s)||null,e,t,n,r,i)),!0}return!1}function yp(e){var t=zn(e.target);if(t!==null){var n=Xn(t);if(n!==null){if(t=n.tag,t===13){if(t=sp(n),t!==null){e.blockedOn=t,gp(e.priority,function(){pp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Hs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=wa(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);pa=r,n.target.dispatchEvent(r),pa=null}else return t=os(n),t!==null&&Nu(t),e.blockedOn=n,!1;t.shift()}return!0}function td(e,t,n){Hs(e)&&n.delete(t)}function yv(){xa=!1,pn!==null&&Hs(pn)&&(pn=null),mn!==null&&Hs(mn)&&(mn=null),gn!==null&&Hs(gn)&&(gn=null),zi.forEach(td),$i.forEach(td)}function ii(e,t){e.blockedOn===t&&(e.blockedOn=null,xa||(xa=!0,ot.unstable_scheduleCallback(ot.unstable_NormalPriority,yv)))}function Ui(e){function t(i){return ii(i,e)}if(0<Ss.length){ii(Ss[0],e);for(var n=1;n<Ss.length;n++){var r=Ss[n];r.blockedOn===e&&(r.blockedOn=null)}}for(pn!==null&&ii(pn,e),mn!==null&&ii(mn,e),gn!==null&&ii(gn,e),zi.forEach(t),$i.forEach(t),n=0;n<on.length;n++)r=on[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<on.length&&(n=on[0],n.blockedOn===null);)yp(n),n.blockedOn===null&&on.shift()}var Tr=Gt.ReactCurrentBatchConfig,ao=!0;function vv(e,t,n,r){var i=te,s=Tr.transition;Tr.transition=null;try{te=1,Iu(e,t,n,r)}finally{te=i,Tr.transition=s}}function xv(e,t,n,r){var i=te,s=Tr.transition;Tr.transition=null;try{te=4,Iu(e,t,n,r)}finally{te=i,Tr.transition=s}}function Iu(e,t,n,r){if(ao){var i=wa(e,t,n,r);if(i===null)Cl(e,t,r,uo,n),ed(e,r);else if(gv(i,e,t,n,r))r.stopPropagation();else if(ed(e,r),t&4&&-1<mv.indexOf(e)){for(;i!==null;){var s=os(i);if(s!==null&&fp(s),s=wa(e,t,n,r),s===null&&Cl(e,t,r,uo,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Cl(e,t,r,null,n)}}var uo=null;function wa(e,t,n,r){if(uo=null,e=bu(r),e=zn(e),e!==null)if(t=Xn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=sp(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return uo=e,null}function vp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ov()){case Tu:return 1;case up:return 4;case oo:case lv:return 16;case cp:return 536870912;default:return 16}default:return 16}}var dn=null,Ou=null,Vs=null;function xp(){if(Vs)return Vs;var e,t=Ou,n=t.length,r,i="value"in dn?dn.value:dn.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Vs=i.slice(e,1<r?1-r:void 0)}function Ws(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function js(){return!0}function nd(){return!1}function at(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?js:nd,this.isPropagationStopped=nd,this}return ge(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=js)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=js)},persist:function(){},isPersistent:js}),t}var Qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lu=at(Qr),ss=ge({},Qr,{view:0,detail:0}),wv=at(ss),gl,yl,si,Mo=ge({},ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Au,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==si&&(si&&e.type==="mousemove"?(gl=e.screenX-si.screenX,yl=e.screenY-si.screenY):yl=gl=0,si=e),gl)},movementY:function(e){return"movementY"in e?e.movementY:yl}}),rd=at(Mo),_v=ge({},Mo,{dataTransfer:0}),kv=at(_v),Sv=ge({},ss,{relatedTarget:0}),vl=at(Sv),jv=ge({},Qr,{animationName:0,elapsedTime:0,pseudoElement:0}),Cv=at(jv),Ev=ge({},Qr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bv=at(Ev),Tv=ge({},Qr,{data:0}),id=at(Tv),Pv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Iv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ov(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Iv[e])?!!t[e]:!1}function Au(){return Ov}var Lv=ge({},ss,{key:function(e){if(e.key){var t=Pv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ws(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Nv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Au,charCode:function(e){return e.type==="keypress"?Ws(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ws(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Av=at(Lv),Rv=ge({},Mo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sd=at(Rv),Fv=ge({},ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Au}),Dv=at(Fv),Mv=ge({},Qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bv=at(Mv),zv=ge({},Mo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$v=at(zv),Uv=[9,13,27,32],Ru=Wt&&"CompositionEvent"in window,ji=null;Wt&&"documentMode"in document&&(ji=document.documentMode);var Hv=Wt&&"TextEvent"in window&&!ji,wp=Wt&&(!Ru||ji&&8<ji&&11>=ji),od=" ",ld=!1;function _p(e,t){switch(e){case"keyup":return Uv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var mr=!1;function Vv(e,t){switch(e){case"compositionend":return kp(t);case"keypress":return t.which!==32?null:(ld=!0,od);case"textInput":return e=t.data,e===od&&ld?null:e;default:return null}}function Wv(e,t){if(mr)return e==="compositionend"||!Ru&&_p(e,t)?(e=xp(),Vs=Ou=dn=null,mr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return wp&&t.locale!=="ko"?null:t.data;default:return null}}var qv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ad(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!qv[e.type]:t==="textarea"}function Sp(e,t,n,r){ep(r),t=co(t,"onChange"),0<t.length&&(n=new Lu("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ci=null,Hi=null;function Qv(e){Ap(e,0)}function Bo(e){var t=vr(e);if(Qf(t))return e}function Kv(e,t){if(e==="change")return t}var jp=!1;if(Wt){var xl;if(Wt){var wl="oninput"in document;if(!wl){var ud=document.createElement("div");ud.setAttribute("oninput","return;"),wl=typeof ud.oninput=="function"}xl=wl}else xl=!1;jp=xl&&(!document.documentMode||9<document.documentMode)}function cd(){Ci&&(Ci.detachEvent("onpropertychange",Cp),Hi=Ci=null)}function Cp(e){if(e.propertyName==="value"&&Bo(Hi)){var t=[];Sp(t,Hi,e,bu(e)),ip(Qv,t)}}function Jv(e,t,n){e==="focusin"?(cd(),Ci=t,Hi=n,Ci.attachEvent("onpropertychange",Cp)):e==="focusout"&&cd()}function Gv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Bo(Hi)}function Yv(e,t){if(e==="click")return Bo(t)}function Xv(e,t){if(e==="input"||e==="change")return Bo(t)}function Zv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Pt=typeof Object.is=="function"?Object.is:Zv;function Vi(e,t){if(Pt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!na.call(t,i)||!Pt(e[i],t[i]))return!1}return!0}function dd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hd(e,t){var n=dd(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=dd(n)}}function Ep(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ep(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function bp(){for(var e=window,t=ro();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ro(e.document)}return t}function Fu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function e0(e){var t=bp(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Ep(n.ownerDocument.documentElement,n)){if(r!==null&&Fu(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=hd(n,s);var o=hd(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var t0=Wt&&"documentMode"in document&&11>=document.documentMode,gr=null,_a=null,Ei=null,ka=!1;function fd(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ka||gr==null||gr!==ro(r)||(r=gr,"selectionStart"in r&&Fu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ei&&Vi(Ei,r)||(Ei=r,r=co(_a,"onSelect"),0<r.length&&(t=new Lu("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function Cs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var yr={animationend:Cs("Animation","AnimationEnd"),animationiteration:Cs("Animation","AnimationIteration"),animationstart:Cs("Animation","AnimationStart"),transitionend:Cs("Transition","TransitionEnd")},_l={},Tp={};Wt&&(Tp=document.createElement("div").style,"AnimationEvent"in window||(delete yr.animationend.animation,delete yr.animationiteration.animation,delete yr.animationstart.animation),"TransitionEvent"in window||delete yr.transitionend.transition);function zo(e){if(_l[e])return _l[e];if(!yr[e])return e;var t=yr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Tp)return _l[e]=t[n];return e}var Pp=zo("animationend"),Np=zo("animationiteration"),Ip=zo("animationstart"),Op=zo("transitionend"),Lp=new Map,pd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function En(e,t){Lp.set(e,t),Yn(t,[e])}for(var kl=0;kl<pd.length;kl++){var Sl=pd[kl],n0=Sl.toLowerCase(),r0=Sl[0].toUpperCase()+Sl.slice(1);En(n0,"on"+r0)}En(Pp,"onAnimationEnd");En(Np,"onAnimationIteration");En(Ip,"onAnimationStart");En("dblclick","onDoubleClick");En("focusin","onFocus");En("focusout","onBlur");En(Op,"onTransitionEnd");Rr("onMouseEnter",["mouseout","mouseover"]);Rr("onMouseLeave",["mouseout","mouseover"]);Rr("onPointerEnter",["pointerout","pointerover"]);Rr("onPointerLeave",["pointerout","pointerover"]);Yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Yn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),i0=new Set("cancel close invalid load scroll toggle".split(" ").concat(wi));function md(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,nv(r,t,void 0,e),e.currentTarget=null}function Ap(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,c=l.currentTarget;if(l=l.listener,a!==s&&i.isPropagationStopped())break e;md(i,l,c),s=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,c=l.currentTarget,l=l.listener,a!==s&&i.isPropagationStopped())break e;md(i,l,c),s=a}}}if(so)throw e=ya,so=!1,ya=null,e}function ue(e,t){var n=t[ba];n===void 0&&(n=t[ba]=new Set);var r=e+"__bubble";n.has(r)||(Rp(t,e,2,!1),n.add(r))}function jl(e,t,n){var r=0;t&&(r|=4),Rp(n,e,r,t)}var Es="_reactListening"+Math.random().toString(36).slice(2);function Wi(e){if(!e[Es]){e[Es]=!0,Uf.forEach(function(n){n!=="selectionchange"&&(i0.has(n)||jl(n,!1,e),jl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Es]||(t[Es]=!0,jl("selectionchange",!1,t))}}function Rp(e,t,n,r){switch(vp(t)){case 1:var i=vv;break;case 4:i=xv;break;default:i=Iu}n=i.bind(null,t,n,e),i=void 0,!ga||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Cl(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;l!==null;){if(o=zn(l),o===null)return;if(a=o.tag,a===5||a===6){r=s=o;continue e}l=l.parentNode}}r=r.return}ip(function(){var c=s,d=bu(n),h=[];e:{var p=Lp.get(e);if(p!==void 0){var f=Lu,v=e;switch(e){case"keypress":if(Ws(n)===0)break e;case"keydown":case"keyup":f=Av;break;case"focusin":v="focus",f=vl;break;case"focusout":v="blur",f=vl;break;case"beforeblur":case"afterblur":f=vl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=rd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=kv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=Dv;break;case Pp:case Np:case Ip:f=Cv;break;case Op:f=Bv;break;case"scroll":f=wv;break;case"wheel":f=$v;break;case"copy":case"cut":case"paste":f=bv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=sd}var x=(t&4)!==0,w=!x&&e==="scroll",g=x?p!==null?p+"Capture":null:p;x=[];for(var m=c,y;m!==null;){y=m;var S=y.stateNode;if(y.tag===5&&S!==null&&(y=S,g!==null&&(S=Bi(m,g),S!=null&&x.push(qi(m,S,y)))),w)break;m=m.return}0<x.length&&(p=new f(p,v,null,n,d),h.push({event:p,listeners:x}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",p&&n!==pa&&(v=n.relatedTarget||n.fromElement)&&(zn(v)||v[qt]))break e;if((f||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,f?(v=n.relatedTarget||n.toElement,f=c,v=v?zn(v):null,v!==null&&(w=Xn(v),v!==w||v.tag!==5&&v.tag!==6)&&(v=null)):(f=null,v=c),f!==v)){if(x=rd,S="onMouseLeave",g="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(x=sd,S="onPointerLeave",g="onPointerEnter",m="pointer"),w=f==null?p:vr(f),y=v==null?p:vr(v),p=new x(S,m+"leave",f,n,d),p.target=w,p.relatedTarget=y,S=null,zn(d)===c&&(x=new x(g,m+"enter",v,n,d),x.target=y,x.relatedTarget=w,S=x),w=S,f&&v)t:{for(x=f,g=v,m=0,y=x;y;y=ar(y))m++;for(y=0,S=g;S;S=ar(S))y++;for(;0<m-y;)x=ar(x),m--;for(;0<y-m;)g=ar(g),y--;for(;m--;){if(x===g||g!==null&&x===g.alternate)break t;x=ar(x),g=ar(g)}x=null}else x=null;f!==null&&gd(h,p,f,x,!1),v!==null&&w!==null&&gd(h,w,v,x,!0)}}e:{if(p=c?vr(c):window,f=p.nodeName&&p.nodeName.toLowerCase(),f==="select"||f==="input"&&p.type==="file")var E=Kv;else if(ad(p))if(jp)E=Xv;else{E=Gv;var C=Jv}else(f=p.nodeName)&&f.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(E=Yv);if(E&&(E=E(e,c))){Sp(h,E,n,d);break e}C&&C(e,p,c),e==="focusout"&&(C=p._wrapperState)&&C.controlled&&p.type==="number"&&ua(p,"number",p.value)}switch(C=c?vr(c):window,e){case"focusin":(ad(C)||C.contentEditable==="true")&&(gr=C,_a=c,Ei=null);break;case"focusout":Ei=_a=gr=null;break;case"mousedown":ka=!0;break;case"contextmenu":case"mouseup":case"dragend":ka=!1,fd(h,n,d);break;case"selectionchange":if(t0)break;case"keydown":case"keyup":fd(h,n,d)}var T;if(Ru)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else mr?_p(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(wp&&n.locale!=="ko"&&(mr||P!=="onCompositionStart"?P==="onCompositionEnd"&&mr&&(T=xp()):(dn=d,Ou="value"in dn?dn.value:dn.textContent,mr=!0)),C=co(c,P),0<C.length&&(P=new id(P,e,null,n,d),h.push({event:P,listeners:C}),T?P.data=T:(T=kp(n),T!==null&&(P.data=T)))),(T=Hv?Vv(e,n):Wv(e,n))&&(c=co(c,"onBeforeInput"),0<c.length&&(d=new id("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=T))}Ap(h,t)})}function qi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function co(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Bi(e,n),s!=null&&r.unshift(qi(e,s,i)),s=Bi(e,t),s!=null&&r.push(qi(e,s,i))),e=e.return}return r}function ar(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function gd(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,c=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&c!==null&&(l=c,i?(a=Bi(n,s),a!=null&&o.unshift(qi(n,a,l))):i||(a=Bi(n,s),a!=null&&o.push(qi(n,a,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var s0=/\r\n?/g,o0=/\u0000|\uFFFD/g;function yd(e){return(typeof e=="string"?e:""+e).replace(s0,`
`).replace(o0,"")}function bs(e,t,n){if(t=yd(t),yd(e)!==t&&n)throw Error(N(425))}function ho(){}var Sa=null,ja=null;function Ca(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ea=typeof setTimeout=="function"?setTimeout:void 0,l0=typeof clearTimeout=="function"?clearTimeout:void 0,vd=typeof Promise=="function"?Promise:void 0,a0=typeof queueMicrotask=="function"?queueMicrotask:typeof vd<"u"?function(e){return vd.resolve(null).then(e).catch(u0)}:Ea;function u0(e){setTimeout(function(){throw e})}function El(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Ui(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ui(t)}function yn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function xd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Kr=Math.random().toString(36).slice(2),At="__reactFiber$"+Kr,Qi="__reactProps$"+Kr,qt="__reactContainer$"+Kr,ba="__reactEvents$"+Kr,c0="__reactListeners$"+Kr,d0="__reactHandles$"+Kr;function zn(e){var t=e[At];if(t)return t;for(var n=e.parentNode;n;){if(t=n[qt]||n[At]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=xd(e);e!==null;){if(n=e[At])return n;e=xd(e)}return t}e=n,n=e.parentNode}return null}function os(e){return e=e[At]||e[qt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function vr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(N(33))}function $o(e){return e[Qi]||null}var Ta=[],xr=-1;function bn(e){return{current:e}}function ce(e){0>xr||(e.current=Ta[xr],Ta[xr]=null,xr--)}function oe(e,t){xr++,Ta[xr]=e.current,e.current=t}var jn={},Fe=bn(jn),Qe=bn(!1),Wn=jn;function Fr(e,t){var n=e.type.contextTypes;if(!n)return jn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ke(e){return e=e.childContextTypes,e!=null}function fo(){ce(Qe),ce(Fe)}function wd(e,t,n){if(Fe.current!==jn)throw Error(N(168));oe(Fe,t),oe(Qe,n)}function Fp(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(N(108,Jy(e)||"Unknown",i));return ge({},n,r)}function po(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||jn,Wn=Fe.current,oe(Fe,e),oe(Qe,Qe.current),!0}function _d(e,t,n){var r=e.stateNode;if(!r)throw Error(N(169));n?(e=Fp(e,t,Wn),r.__reactInternalMemoizedMergedChildContext=e,ce(Qe),ce(Fe),oe(Fe,e)):ce(Qe),oe(Qe,n)}var $t=null,Uo=!1,bl=!1;function Dp(e){$t===null?$t=[e]:$t.push(e)}function h0(e){Uo=!0,Dp(e)}function Tn(){if(!bl&&$t!==null){bl=!0;var e=0,t=te;try{var n=$t;for(te=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}$t=null,Uo=!1}catch(i){throw $t!==null&&($t=$t.slice(e+1)),ap(Tu,Tn),i}finally{te=t,bl=!1}}return null}var wr=[],_r=0,mo=null,go=0,ct=[],dt=0,qn=null,Ut=1,Ht="";function Rn(e,t){wr[_r++]=go,wr[_r++]=mo,mo=e,go=t}function Mp(e,t,n){ct[dt++]=Ut,ct[dt++]=Ht,ct[dt++]=qn,qn=e;var r=Ut;e=Ht;var i=32-bt(r)-1;r&=~(1<<i),n+=1;var s=32-bt(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ut=1<<32-bt(t)+i|n<<i|r,Ht=s+e}else Ut=1<<s|n<<i|r,Ht=e}function Du(e){e.return!==null&&(Rn(e,1),Mp(e,1,0))}function Mu(e){for(;e===mo;)mo=wr[--_r],wr[_r]=null,go=wr[--_r],wr[_r]=null;for(;e===qn;)qn=ct[--dt],ct[dt]=null,Ht=ct[--dt],ct[dt]=null,Ut=ct[--dt],ct[dt]=null}var st=null,rt=null,he=!1,Et=null;function Bp(e,t){var n=pt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function kd(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,st=e,rt=yn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,st=e,rt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=qn!==null?{id:Ut,overflow:Ht}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=pt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,st=e,rt=null,!0):!1;default:return!1}}function Pa(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Na(e){if(he){var t=rt;if(t){var n=t;if(!kd(e,t)){if(Pa(e))throw Error(N(418));t=yn(n.nextSibling);var r=st;t&&kd(e,t)?Bp(r,n):(e.flags=e.flags&-4097|2,he=!1,st=e)}}else{if(Pa(e))throw Error(N(418));e.flags=e.flags&-4097|2,he=!1,st=e}}}function Sd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;st=e}function Ts(e){if(e!==st)return!1;if(!he)return Sd(e),he=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ca(e.type,e.memoizedProps)),t&&(t=rt)){if(Pa(e))throw zp(),Error(N(418));for(;t;)Bp(e,t),t=yn(t.nextSibling)}if(Sd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(N(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){rt=yn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}rt=null}}else rt=st?yn(e.stateNode.nextSibling):null;return!0}function zp(){for(var e=rt;e;)e=yn(e.nextSibling)}function Dr(){rt=st=null,he=!1}function Bu(e){Et===null?Et=[e]:Et.push(e)}var f0=Gt.ReactCurrentBatchConfig;function oi(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(N(309));var r=n.stateNode}if(!r)throw Error(N(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(N(284));if(!n._owner)throw Error(N(290,e))}return e}function Ps(e,t){throw e=Object.prototype.toString.call(t),Error(N(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function jd(e){var t=e._init;return t(e._payload)}function $p(e){function t(g,m){if(e){var y=g.deletions;y===null?(g.deletions=[m],g.flags|=16):y.push(m)}}function n(g,m){if(!e)return null;for(;m!==null;)t(g,m),m=m.sibling;return null}function r(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function i(g,m){return g=_n(g,m),g.index=0,g.sibling=null,g}function s(g,m,y){return g.index=y,e?(y=g.alternate,y!==null?(y=y.index,y<m?(g.flags|=2,m):y):(g.flags|=2,m)):(g.flags|=1048576,m)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,m,y,S){return m===null||m.tag!==6?(m=Al(y,g.mode,S),m.return=g,m):(m=i(m,y),m.return=g,m)}function a(g,m,y,S){var E=y.type;return E===pr?d(g,m,y.props.children,S,y.key):m!==null&&(m.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===tn&&jd(E)===m.type)?(S=i(m,y.props),S.ref=oi(g,m,y),S.return=g,S):(S=Xs(y.type,y.key,y.props,null,g.mode,S),S.ref=oi(g,m,y),S.return=g,S)}function c(g,m,y,S){return m===null||m.tag!==4||m.stateNode.containerInfo!==y.containerInfo||m.stateNode.implementation!==y.implementation?(m=Rl(y,g.mode,S),m.return=g,m):(m=i(m,y.children||[]),m.return=g,m)}function d(g,m,y,S,E){return m===null||m.tag!==7?(m=Vn(y,g.mode,S,E),m.return=g,m):(m=i(m,y),m.return=g,m)}function h(g,m,y){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Al(""+m,g.mode,y),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case vs:return y=Xs(m.type,m.key,m.props,null,g.mode,y),y.ref=oi(g,null,m),y.return=g,y;case fr:return m=Rl(m,g.mode,y),m.return=g,m;case tn:var S=m._init;return h(g,S(m._payload),y)}if(vi(m)||ti(m))return m=Vn(m,g.mode,y,null),m.return=g,m;Ps(g,m)}return null}function p(g,m,y,S){var E=m!==null?m.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return E!==null?null:l(g,m,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case vs:return y.key===E?a(g,m,y,S):null;case fr:return y.key===E?c(g,m,y,S):null;case tn:return E=y._init,p(g,m,E(y._payload),S)}if(vi(y)||ti(y))return E!==null?null:d(g,m,y,S,null);Ps(g,y)}return null}function f(g,m,y,S,E){if(typeof S=="string"&&S!==""||typeof S=="number")return g=g.get(y)||null,l(m,g,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case vs:return g=g.get(S.key===null?y:S.key)||null,a(m,g,S,E);case fr:return g=g.get(S.key===null?y:S.key)||null,c(m,g,S,E);case tn:var C=S._init;return f(g,m,y,C(S._payload),E)}if(vi(S)||ti(S))return g=g.get(y)||null,d(m,g,S,E,null);Ps(m,S)}return null}function v(g,m,y,S){for(var E=null,C=null,T=m,P=m=0,F=null;T!==null&&P<y.length;P++){T.index>P?(F=T,T=null):F=T.sibling;var A=p(g,T,y[P],S);if(A===null){T===null&&(T=F);break}e&&T&&A.alternate===null&&t(g,T),m=s(A,m,P),C===null?E=A:C.sibling=A,C=A,T=F}if(P===y.length)return n(g,T),he&&Rn(g,P),E;if(T===null){for(;P<y.length;P++)T=h(g,y[P],S),T!==null&&(m=s(T,m,P),C===null?E=T:C.sibling=T,C=T);return he&&Rn(g,P),E}for(T=r(g,T);P<y.length;P++)F=f(T,g,P,y[P],S),F!==null&&(e&&F.alternate!==null&&T.delete(F.key===null?P:F.key),m=s(F,m,P),C===null?E=F:C.sibling=F,C=F);return e&&T.forEach(function(D){return t(g,D)}),he&&Rn(g,P),E}function x(g,m,y,S){var E=ti(y);if(typeof E!="function")throw Error(N(150));if(y=E.call(y),y==null)throw Error(N(151));for(var C=E=null,T=m,P=m=0,F=null,A=y.next();T!==null&&!A.done;P++,A=y.next()){T.index>P?(F=T,T=null):F=T.sibling;var D=p(g,T,A.value,S);if(D===null){T===null&&(T=F);break}e&&T&&D.alternate===null&&t(g,T),m=s(D,m,P),C===null?E=D:C.sibling=D,C=D,T=F}if(A.done)return n(g,T),he&&Rn(g,P),E;if(T===null){for(;!A.done;P++,A=y.next())A=h(g,A.value,S),A!==null&&(m=s(A,m,P),C===null?E=A:C.sibling=A,C=A);return he&&Rn(g,P),E}for(T=r(g,T);!A.done;P++,A=y.next())A=f(T,g,P,A.value,S),A!==null&&(e&&A.alternate!==null&&T.delete(A.key===null?P:A.key),m=s(A,m,P),C===null?E=A:C.sibling=A,C=A);return e&&T.forEach(function(O){return t(g,O)}),he&&Rn(g,P),E}function w(g,m,y,S){if(typeof y=="object"&&y!==null&&y.type===pr&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case vs:e:{for(var E=y.key,C=m;C!==null;){if(C.key===E){if(E=y.type,E===pr){if(C.tag===7){n(g,C.sibling),m=i(C,y.props.children),m.return=g,g=m;break e}}else if(C.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===tn&&jd(E)===C.type){n(g,C.sibling),m=i(C,y.props),m.ref=oi(g,C,y),m.return=g,g=m;break e}n(g,C);break}else t(g,C);C=C.sibling}y.type===pr?(m=Vn(y.props.children,g.mode,S,y.key),m.return=g,g=m):(S=Xs(y.type,y.key,y.props,null,g.mode,S),S.ref=oi(g,m,y),S.return=g,g=S)}return o(g);case fr:e:{for(C=y.key;m!==null;){if(m.key===C)if(m.tag===4&&m.stateNode.containerInfo===y.containerInfo&&m.stateNode.implementation===y.implementation){n(g,m.sibling),m=i(m,y.children||[]),m.return=g,g=m;break e}else{n(g,m);break}else t(g,m);m=m.sibling}m=Rl(y,g.mode,S),m.return=g,g=m}return o(g);case tn:return C=y._init,w(g,m,C(y._payload),S)}if(vi(y))return v(g,m,y,S);if(ti(y))return x(g,m,y,S);Ps(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,m!==null&&m.tag===6?(n(g,m.sibling),m=i(m,y),m.return=g,g=m):(n(g,m),m=Al(y,g.mode,S),m.return=g,g=m),o(g)):n(g,m)}return w}var Mr=$p(!0),Up=$p(!1),yo=bn(null),vo=null,kr=null,zu=null;function $u(){zu=kr=vo=null}function Uu(e){var t=yo.current;ce(yo),e._currentValue=t}function Ia(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Pr(e,t){vo=e,zu=kr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(qe=!0),e.firstContext=null)}function gt(e){var t=e._currentValue;if(zu!==e)if(e={context:e,memoizedValue:t,next:null},kr===null){if(vo===null)throw Error(N(308));kr=e,vo.dependencies={lanes:0,firstContext:e}}else kr=kr.next=e;return t}var $n=null;function Hu(e){$n===null?$n=[e]:$n.push(e)}function Hp(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Hu(t)):(n.next=i.next,i.next=n),t.interleaved=n,Qt(e,r)}function Qt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var nn=!1;function Vu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function vn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Y&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Qt(e,n)}return i=r.interleaved,i===null?(t.next=t,Hu(r)):(t.next=i.next,i.next=t),r.interleaved=t,Qt(e,n)}function qs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Pu(e,n)}}function Cd(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function xo(e,t,n,r){var i=e.updateQueue;nn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,c=a.next;a.next=null,o===null?s=c:o.next=c,o=a;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=a))}if(s!==null){var h=i.baseState;o=0,d=c=a=null,l=s;do{var p=l.lane,f=l.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,x=l;switch(p=t,f=n,x.tag){case 1:if(v=x.payload,typeof v=="function"){h=v.call(f,h,p);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,p=typeof v=="function"?v.call(f,h,p):v,p==null)break e;h=ge({},h,p);break e;case 2:nn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[l]:p.push(l))}else f={eventTime:f,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=f,a=h):d=d.next=f,o|=p;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;p=l,l=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(d===null&&(a=h),i.baseState=a,i.firstBaseUpdate=c,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Kn|=o,e.lanes=o,e.memoizedState=h}}function Ed(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(N(191,i));i.call(r)}}}var ls={},Dt=bn(ls),Ki=bn(ls),Ji=bn(ls);function Un(e){if(e===ls)throw Error(N(174));return e}function Wu(e,t){switch(oe(Ji,t),oe(Ki,e),oe(Dt,ls),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:da(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=da(t,e)}ce(Dt),oe(Dt,t)}function Br(){ce(Dt),ce(Ki),ce(Ji)}function Wp(e){Un(Ji.current);var t=Un(Dt.current),n=da(t,e.type);t!==n&&(oe(Ki,e),oe(Dt,n))}function qu(e){Ki.current===e&&(ce(Dt),ce(Ki))}var pe=bn(0);function wo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Tl=[];function Qu(){for(var e=0;e<Tl.length;e++)Tl[e]._workInProgressVersionPrimary=null;Tl.length=0}var Qs=Gt.ReactCurrentDispatcher,Pl=Gt.ReactCurrentBatchConfig,Qn=0,me=null,Ce=null,Te=null,_o=!1,bi=!1,Gi=0,p0=0;function Le(){throw Error(N(321))}function Ku(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Pt(e[n],t[n]))return!1;return!0}function Ju(e,t,n,r,i,s){if(Qn=s,me=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Qs.current=e===null||e.memoizedState===null?v0:x0,e=n(r,i),bi){s=0;do{if(bi=!1,Gi=0,25<=s)throw Error(N(301));s+=1,Te=Ce=null,t.updateQueue=null,Qs.current=w0,e=n(r,i)}while(bi)}if(Qs.current=ko,t=Ce!==null&&Ce.next!==null,Qn=0,Te=Ce=me=null,_o=!1,t)throw Error(N(300));return e}function Gu(){var e=Gi!==0;return Gi=0,e}function Ot(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?me.memoizedState=Te=e:Te=Te.next=e,Te}function yt(){if(Ce===null){var e=me.alternate;e=e!==null?e.memoizedState:null}else e=Ce.next;var t=Te===null?me.memoizedState:Te.next;if(t!==null)Te=t,Ce=e;else{if(e===null)throw Error(N(310));Ce=e,e={memoizedState:Ce.memoizedState,baseState:Ce.baseState,baseQueue:Ce.baseQueue,queue:Ce.queue,next:null},Te===null?me.memoizedState=Te=e:Te=Te.next=e}return Te}function Yi(e,t){return typeof t=="function"?t(e):t}function Nl(e){var t=yt(),n=t.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=e;var r=Ce,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,a=null,c=s;do{var d=c.lane;if((Qn&d)===d)a!==null&&(a=a.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};a===null?(l=a=h,o=r):a=a.next=h,me.lanes|=d,Kn|=d}c=c.next}while(c!==null&&c!==s);a===null?o=r:a.next=l,Pt(r,t.memoizedState)||(qe=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,me.lanes|=s,Kn|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Il(e){var t=yt(),n=t.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Pt(s,t.memoizedState)||(qe=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function qp(){}function Qp(e,t){var n=me,r=yt(),i=t(),s=!Pt(r.memoizedState,i);if(s&&(r.memoizedState=i,qe=!0),r=r.queue,Yu(Gp.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Te!==null&&Te.memoizedState.tag&1){if(n.flags|=2048,Xi(9,Jp.bind(null,n,r,i,t),void 0,null),Pe===null)throw Error(N(349));Qn&30||Kp(n,t,i)}return i}function Kp(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=me.updateQueue,t===null?(t={lastEffect:null,stores:null},me.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Jp(e,t,n,r){t.value=n,t.getSnapshot=r,Yp(t)&&Xp(e)}function Gp(e,t,n){return n(function(){Yp(t)&&Xp(e)})}function Yp(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Pt(e,n)}catch{return!0}}function Xp(e){var t=Qt(e,1);t!==null&&Tt(t,e,1,-1)}function bd(e){var t=Ot();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:e},t.queue=e,e=e.dispatch=y0.bind(null,me,e),[t.memoizedState,e]}function Xi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=me.updateQueue,t===null?(t={lastEffect:null,stores:null},me.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Zp(){return yt().memoizedState}function Ks(e,t,n,r){var i=Ot();me.flags|=e,i.memoizedState=Xi(1|t,n,void 0,r===void 0?null:r)}function Ho(e,t,n,r){var i=yt();r=r===void 0?null:r;var s=void 0;if(Ce!==null){var o=Ce.memoizedState;if(s=o.destroy,r!==null&&Ku(r,o.deps)){i.memoizedState=Xi(t,n,s,r);return}}me.flags|=e,i.memoizedState=Xi(1|t,n,s,r)}function Td(e,t){return Ks(8390656,8,e,t)}function Yu(e,t){return Ho(2048,8,e,t)}function em(e,t){return Ho(4,2,e,t)}function tm(e,t){return Ho(4,4,e,t)}function nm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function rm(e,t,n){return n=n!=null?n.concat([e]):null,Ho(4,4,nm.bind(null,t,e),n)}function Xu(){}function im(e,t){var n=yt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ku(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function sm(e,t){var n=yt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ku(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function om(e,t,n){return Qn&21?(Pt(n,t)||(n=dp(),me.lanes|=n,Kn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,qe=!0),e.memoizedState=n)}function m0(e,t){var n=te;te=n!==0&&4>n?n:4,e(!0);var r=Pl.transition;Pl.transition={};try{e(!1),t()}finally{te=n,Pl.transition=r}}function lm(){return yt().memoizedState}function g0(e,t,n){var r=wn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},am(e))um(t,n);else if(n=Hp(e,t,n,r),n!==null){var i=ze();Tt(n,e,r,i),cm(n,t,r)}}function y0(e,t,n){var r=wn(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(am(e))um(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,Pt(l,o)){var a=t.interleaved;a===null?(i.next=i,Hu(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}n=Hp(e,t,i,r),n!==null&&(i=ze(),Tt(n,e,r,i),cm(n,t,r))}}function am(e){var t=e.alternate;return e===me||t!==null&&t===me}function um(e,t){bi=_o=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function cm(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Pu(e,n)}}var ko={readContext:gt,useCallback:Le,useContext:Le,useEffect:Le,useImperativeHandle:Le,useInsertionEffect:Le,useLayoutEffect:Le,useMemo:Le,useReducer:Le,useRef:Le,useState:Le,useDebugValue:Le,useDeferredValue:Le,useTransition:Le,useMutableSource:Le,useSyncExternalStore:Le,useId:Le,unstable_isNewReconciler:!1},v0={readContext:gt,useCallback:function(e,t){return Ot().memoizedState=[e,t===void 0?null:t],e},useContext:gt,useEffect:Td,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ks(4194308,4,nm.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ks(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ks(4,2,e,t)},useMemo:function(e,t){var n=Ot();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ot();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=g0.bind(null,me,e),[r.memoizedState,e]},useRef:function(e){var t=Ot();return e={current:e},t.memoizedState=e},useState:bd,useDebugValue:Xu,useDeferredValue:function(e){return Ot().memoizedState=e},useTransition:function(){var e=bd(!1),t=e[0];return e=m0.bind(null,e[1]),Ot().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=me,i=Ot();if(he){if(n===void 0)throw Error(N(407));n=n()}else{if(n=t(),Pe===null)throw Error(N(349));Qn&30||Kp(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Td(Gp.bind(null,r,s,e),[e]),r.flags|=2048,Xi(9,Jp.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Ot(),t=Pe.identifierPrefix;if(he){var n=Ht,r=Ut;n=(r&~(1<<32-bt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Gi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=p0++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},x0={readContext:gt,useCallback:im,useContext:gt,useEffect:Yu,useImperativeHandle:rm,useInsertionEffect:em,useLayoutEffect:tm,useMemo:sm,useReducer:Nl,useRef:Zp,useState:function(){return Nl(Yi)},useDebugValue:Xu,useDeferredValue:function(e){var t=yt();return om(t,Ce.memoizedState,e)},useTransition:function(){var e=Nl(Yi)[0],t=yt().memoizedState;return[e,t]},useMutableSource:qp,useSyncExternalStore:Qp,useId:lm,unstable_isNewReconciler:!1},w0={readContext:gt,useCallback:im,useContext:gt,useEffect:Yu,useImperativeHandle:rm,useInsertionEffect:em,useLayoutEffect:tm,useMemo:sm,useReducer:Il,useRef:Zp,useState:function(){return Il(Yi)},useDebugValue:Xu,useDeferredValue:function(e){var t=yt();return Ce===null?t.memoizedState=e:om(t,Ce.memoizedState,e)},useTransition:function(){var e=Il(Yi)[0],t=yt().memoizedState;return[e,t]},useMutableSource:qp,useSyncExternalStore:Qp,useId:lm,unstable_isNewReconciler:!1};function St(e,t){if(e&&e.defaultProps){t=ge({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Oa(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ge({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Vo={isMounted:function(e){return(e=e._reactInternals)?Xn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ze(),i=wn(e),s=Vt(r,i);s.payload=t,n!=null&&(s.callback=n),t=vn(e,s,i),t!==null&&(Tt(t,e,i,r),qs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ze(),i=wn(e),s=Vt(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=vn(e,s,i),t!==null&&(Tt(t,e,i,r),qs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ze(),r=wn(e),i=Vt(n,r);i.tag=2,t!=null&&(i.callback=t),t=vn(e,i,r),t!==null&&(Tt(t,e,r,n),qs(t,e,r))}};function Pd(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Vi(n,r)||!Vi(i,s):!0}function dm(e,t,n){var r=!1,i=jn,s=t.contextType;return typeof s=="object"&&s!==null?s=gt(s):(i=Ke(t)?Wn:Fe.current,r=t.contextTypes,s=(r=r!=null)?Fr(e,i):jn),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Vo,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Nd(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Vo.enqueueReplaceState(t,t.state,null)}function La(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Vu(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=gt(s):(s=Ke(t)?Wn:Fe.current,i.context=Fr(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Oa(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Vo.enqueueReplaceState(i,i.state,null),xo(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function zr(e,t){try{var n="",r=t;do n+=Ky(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Ol(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Aa(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var _0=typeof WeakMap=="function"?WeakMap:Map;function hm(e,t,n){n=Vt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){jo||(jo=!0,Va=r),Aa(e,t)},n}function fm(e,t,n){n=Vt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Aa(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Aa(e,t),typeof r!="function"&&(xn===null?xn=new Set([this]):xn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Id(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new _0;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=R0.bind(null,e,t,n),t.then(e,e))}function Od(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ld(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Vt(-1,1),t.tag=2,vn(n,t,1))),n.lanes|=1),e)}var k0=Gt.ReactCurrentOwner,qe=!1;function Be(e,t,n,r){t.child=e===null?Up(t,null,n,r):Mr(t,e.child,n,r)}function Ad(e,t,n,r,i){n=n.render;var s=t.ref;return Pr(t,i),r=Ju(e,t,n,r,s,i),n=Gu(),e!==null&&!qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Kt(e,t,i)):(he&&n&&Du(t),t.flags|=1,Be(e,t,r,i),t.child)}function Rd(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!oc(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,pm(e,t,s,r,i)):(e=Xs(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Vi,n(o,r)&&e.ref===t.ref)return Kt(e,t,i)}return t.flags|=1,e=_n(s,r),e.ref=t.ref,e.return=t,t.child=e}function pm(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Vi(s,r)&&e.ref===t.ref)if(qe=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(qe=!0);else return t.lanes=e.lanes,Kt(e,t,i)}return Ra(e,t,n,r,i)}function mm(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},oe(jr,tt),tt|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,oe(jr,tt),tt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,oe(jr,tt),tt|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,oe(jr,tt),tt|=r;return Be(e,t,i,n),t.child}function gm(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ra(e,t,n,r,i){var s=Ke(n)?Wn:Fe.current;return s=Fr(t,s),Pr(t,i),n=Ju(e,t,n,r,s,i),r=Gu(),e!==null&&!qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Kt(e,t,i)):(he&&r&&Du(t),t.flags|=1,Be(e,t,n,i),t.child)}function Fd(e,t,n,r,i){if(Ke(n)){var s=!0;po(t)}else s=!1;if(Pr(t,i),t.stateNode===null)Js(e,t),dm(t,n,r),La(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var a=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=gt(c):(c=Ke(n)?Wn:Fe.current,c=Fr(t,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==c)&&Nd(t,o,r,c),nn=!1;var p=t.memoizedState;o.state=p,xo(t,r,o,i),a=t.memoizedState,l!==r||p!==a||Qe.current||nn?(typeof d=="function"&&(Oa(t,n,d,r),a=t.memoizedState),(l=nn||Pd(t,n,l,r,p,a,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),o.props=r,o.state=a,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Vp(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:St(t.type,l),o.props=c,h=t.pendingProps,p=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=gt(a):(a=Ke(n)?Wn:Fe.current,a=Fr(t,a));var f=n.getDerivedStateFromProps;(d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||p!==a)&&Nd(t,o,r,a),nn=!1,p=t.memoizedState,o.state=p,xo(t,r,o,i);var v=t.memoizedState;l!==h||p!==v||Qe.current||nn?(typeof f=="function"&&(Oa(t,n,f,r),v=t.memoizedState),(c=nn||Pd(t,n,c,r,p,v,a)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),o.props=r,o.state=v,o.context=a,r=c):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Fa(e,t,n,r,s,i)}function Fa(e,t,n,r,i,s){gm(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&_d(t,n,!1),Kt(e,t,s);r=t.stateNode,k0.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Mr(t,e.child,null,s),t.child=Mr(t,null,l,s)):Be(e,t,l,s),t.memoizedState=r.state,i&&_d(t,n,!0),t.child}function ym(e){var t=e.stateNode;t.pendingContext?wd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&wd(e,t.context,!1),Wu(e,t.containerInfo)}function Dd(e,t,n,r,i){return Dr(),Bu(i),t.flags|=256,Be(e,t,n,r),t.child}var Da={dehydrated:null,treeContext:null,retryLane:0};function Ma(e){return{baseLanes:e,cachePool:null,transitions:null}}function vm(e,t,n){var r=t.pendingProps,i=pe.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),oe(pe,i&1),e===null)return Na(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Qo(o,r,0,null),e=Vn(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ma(n),t.memoizedState=Da,e):Zu(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return S0(e,t,o,r,l,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=_n(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=_n(l,s):(s=Vn(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?Ma(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=Da,r}return s=e.child,e=s.sibling,r=_n(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Zu(e,t){return t=Qo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ns(e,t,n,r){return r!==null&&Bu(r),Mr(t,e.child,null,n),e=Zu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function S0(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=Ol(Error(N(422))),Ns(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Qo({mode:"visible",children:r.children},i,0,null),s=Vn(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Mr(t,e.child,null,o),t.child.memoizedState=Ma(o),t.memoizedState=Da,s);if(!(t.mode&1))return Ns(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(N(419)),r=Ol(s,r,void 0),Ns(e,t,o,r)}if(l=(o&e.childLanes)!==0,qe||l){if(r=Pe,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Qt(e,i),Tt(r,e,i,-1))}return sc(),r=Ol(Error(N(421))),Ns(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=F0.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,rt=yn(i.nextSibling),st=t,he=!0,Et=null,e!==null&&(ct[dt++]=Ut,ct[dt++]=Ht,ct[dt++]=qn,Ut=e.id,Ht=e.overflow,qn=t),t=Zu(t,r.children),t.flags|=4096,t)}function Md(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ia(e.return,t,n)}function Ll(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function xm(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Be(e,t,r.children,n),r=pe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Md(e,n,t);else if(e.tag===19)Md(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(oe(pe,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&wo(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ll(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&wo(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ll(t,!0,n,null,s);break;case"together":Ll(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Js(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Kt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Kn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(N(153));if(t.child!==null){for(e=t.child,n=_n(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=_n(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function j0(e,t,n){switch(t.tag){case 3:ym(t),Dr();break;case 5:Wp(t);break;case 1:Ke(t.type)&&po(t);break;case 4:Wu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;oe(yo,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(oe(pe,pe.current&1),t.flags|=128,null):n&t.child.childLanes?vm(e,t,n):(oe(pe,pe.current&1),e=Kt(e,t,n),e!==null?e.sibling:null);oe(pe,pe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return xm(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),oe(pe,pe.current),r)break;return null;case 22:case 23:return t.lanes=0,mm(e,t,n)}return Kt(e,t,n)}var wm,Ba,_m,km;wm=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ba=function(){};_m=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Un(Dt.current);var s=null;switch(n){case"input":i=la(e,i),r=la(e,r),s=[];break;case"select":i=ge({},i,{value:void 0}),r=ge({},r,{value:void 0}),s=[];break;case"textarea":i=ca(e,i),r=ca(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ho)}ha(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var l=i[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Di.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var a=r[c];if(l=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&a!==l&&(a!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(c,n)),n=a;else c==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(c,a)):c==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(c,""+a):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Di.hasOwnProperty(c)?(a!=null&&c==="onScroll"&&ue("scroll",e),s||l===a||(s=[])):(s=s||[]).push(c,a))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};km=function(e,t,n,r){n!==r&&(t.flags|=4)};function li(e,t){if(!he)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ae(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function C0(e,t,n){var r=t.pendingProps;switch(Mu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ae(t),null;case 1:return Ke(t.type)&&fo(),Ae(t),null;case 3:return r=t.stateNode,Br(),ce(Qe),ce(Fe),Qu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ts(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Et!==null&&(Qa(Et),Et=null))),Ba(e,t),Ae(t),null;case 5:qu(t);var i=Un(Ji.current);if(n=t.type,e!==null&&t.stateNode!=null)_m(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(N(166));return Ae(t),null}if(e=Un(Dt.current),Ts(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[At]=t,r[Qi]=s,e=(t.mode&1)!==0,n){case"dialog":ue("cancel",r),ue("close",r);break;case"iframe":case"object":case"embed":ue("load",r);break;case"video":case"audio":for(i=0;i<wi.length;i++)ue(wi[i],r);break;case"source":ue("error",r);break;case"img":case"image":case"link":ue("error",r),ue("load",r);break;case"details":ue("toggle",r);break;case"input":Qc(r,s),ue("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ue("invalid",r);break;case"textarea":Jc(r,s),ue("invalid",r)}ha(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&bs(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&bs(r.textContent,l,e),i=["children",""+l]):Di.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ue("scroll",r)}switch(n){case"input":xs(r),Kc(r,s,!0);break;case"textarea":xs(r),Gc(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ho)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Gf(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[At]=t,e[Qi]=r,wm(e,t,!1,!1),t.stateNode=e;e:{switch(o=fa(n,r),n){case"dialog":ue("cancel",e),ue("close",e),i=r;break;case"iframe":case"object":case"embed":ue("load",e),i=r;break;case"video":case"audio":for(i=0;i<wi.length;i++)ue(wi[i],e);i=r;break;case"source":ue("error",e),i=r;break;case"img":case"image":case"link":ue("error",e),ue("load",e),i=r;break;case"details":ue("toggle",e),i=r;break;case"input":Qc(e,r),i=la(e,r),ue("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ge({},r,{value:void 0}),ue("invalid",e);break;case"textarea":Jc(e,r),i=ca(e,r),ue("invalid",e);break;default:i=r}ha(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?Zf(e,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Yf(e,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Mi(e,a):typeof a=="number"&&Mi(e,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Di.hasOwnProperty(s)?a!=null&&s==="onScroll"&&ue("scroll",e):a!=null&&Su(e,s,a,o))}switch(n){case"input":xs(e),Kc(e,r,!1);break;case"textarea":xs(e),Gc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Sn(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Cr(e,!!r.multiple,s,!1):r.defaultValue!=null&&Cr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=ho)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ae(t),null;case 6:if(e&&t.stateNode!=null)km(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(N(166));if(n=Un(Ji.current),Un(Dt.current),Ts(t)){if(r=t.stateNode,n=t.memoizedProps,r[At]=t,(s=r.nodeValue!==n)&&(e=st,e!==null))switch(e.tag){case 3:bs(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&bs(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[At]=t,t.stateNode=r}return Ae(t),null;case 13:if(ce(pe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(he&&rt!==null&&t.mode&1&&!(t.flags&128))zp(),Dr(),t.flags|=98560,s=!1;else if(s=Ts(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(N(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(N(317));s[At]=t}else Dr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ae(t),s=!1}else Et!==null&&(Qa(Et),Et=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||pe.current&1?Ee===0&&(Ee=3):sc())),t.updateQueue!==null&&(t.flags|=4),Ae(t),null);case 4:return Br(),Ba(e,t),e===null&&Wi(t.stateNode.containerInfo),Ae(t),null;case 10:return Uu(t.type._context),Ae(t),null;case 17:return Ke(t.type)&&fo(),Ae(t),null;case 19:if(ce(pe),s=t.memoizedState,s===null)return Ae(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)li(s,!1);else{if(Ee!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=wo(e),o!==null){for(t.flags|=128,li(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return oe(pe,pe.current&1|2),t.child}e=e.sibling}s.tail!==null&&we()>$r&&(t.flags|=128,r=!0,li(s,!1),t.lanes=4194304)}else{if(!r)if(e=wo(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),li(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!he)return Ae(t),null}else 2*we()-s.renderingStartTime>$r&&n!==1073741824&&(t.flags|=128,r=!0,li(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=we(),t.sibling=null,n=pe.current,oe(pe,r?n&1|2:n&1),t):(Ae(t),null);case 22:case 23:return ic(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?tt&1073741824&&(Ae(t),t.subtreeFlags&6&&(t.flags|=8192)):Ae(t),null;case 24:return null;case 25:return null}throw Error(N(156,t.tag))}function E0(e,t){switch(Mu(t),t.tag){case 1:return Ke(t.type)&&fo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Br(),ce(Qe),ce(Fe),Qu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return qu(t),null;case 13:if(ce(pe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(N(340));Dr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ce(pe),null;case 4:return Br(),null;case 10:return Uu(t.type._context),null;case 22:case 23:return ic(),null;case 24:return null;default:return null}}var Is=!1,Re=!1,b0=typeof WeakSet=="function"?WeakSet:Set,M=null;function Sr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ye(e,t,r)}else n.current=null}function za(e,t,n){try{n()}catch(r){ye(e,t,r)}}var Bd=!1;function T0(e,t){if(Sa=ao,e=bp(),Fu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,c=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||i!==0&&h.nodeType!==3||(l=o+i),h!==s||r!==0&&h.nodeType!==3||(a=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++c===i&&(l=o),p===s&&++d===r&&(a=o),(f=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=f}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(ja={focusedElem:e,selectionRange:n},ao=!1,M=t;M!==null;)if(t=M,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,M=e;else for(;M!==null;){t=M;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var x=v.memoizedProps,w=v.memoizedState,g=t.stateNode,m=g.getSnapshotBeforeUpdate(t.elementType===t.type?x:St(t.type,x),w);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(S){ye(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,M=e;break}M=t.return}return v=Bd,Bd=!1,v}function Ti(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&za(t,n,s)}i=i.next}while(i!==r)}}function Wo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function $a(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Sm(e){var t=e.alternate;t!==null&&(e.alternate=null,Sm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[At],delete t[Qi],delete t[ba],delete t[c0],delete t[d0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function jm(e){return e.tag===5||e.tag===3||e.tag===4}function zd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||jm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ua(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ho));else if(r!==4&&(e=e.child,e!==null))for(Ua(e,t,n),e=e.sibling;e!==null;)Ua(e,t,n),e=e.sibling}function Ha(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ha(e,t,n),e=e.sibling;e!==null;)Ha(e,t,n),e=e.sibling}var Ne=null,jt=!1;function Xt(e,t,n){for(n=n.child;n!==null;)Cm(e,t,n),n=n.sibling}function Cm(e,t,n){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(Do,n)}catch{}switch(n.tag){case 5:Re||Sr(n,t);case 6:var r=Ne,i=jt;Ne=null,Xt(e,t,n),Ne=r,jt=i,Ne!==null&&(jt?(e=Ne,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ne.removeChild(n.stateNode));break;case 18:Ne!==null&&(jt?(e=Ne,n=n.stateNode,e.nodeType===8?El(e.parentNode,n):e.nodeType===1&&El(e,n),Ui(e)):El(Ne,n.stateNode));break;case 4:r=Ne,i=jt,Ne=n.stateNode.containerInfo,jt=!0,Xt(e,t,n),Ne=r,jt=i;break;case 0:case 11:case 14:case 15:if(!Re&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&za(n,t,o),i=i.next}while(i!==r)}Xt(e,t,n);break;case 1:if(!Re&&(Sr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ye(n,t,l)}Xt(e,t,n);break;case 21:Xt(e,t,n);break;case 22:n.mode&1?(Re=(r=Re)||n.memoizedState!==null,Xt(e,t,n),Re=r):Xt(e,t,n);break;default:Xt(e,t,n)}}function $d(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new b0),t.forEach(function(r){var i=D0.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function _t(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ne=l.stateNode,jt=!1;break e;case 3:Ne=l.stateNode.containerInfo,jt=!0;break e;case 4:Ne=l.stateNode.containerInfo,jt=!0;break e}l=l.return}if(Ne===null)throw Error(N(160));Cm(s,o,i),Ne=null,jt=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(c){ye(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Em(t,e),t=t.sibling}function Em(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(_t(t,e),It(e),r&4){try{Ti(3,e,e.return),Wo(3,e)}catch(x){ye(e,e.return,x)}try{Ti(5,e,e.return)}catch(x){ye(e,e.return,x)}}break;case 1:_t(t,e),It(e),r&512&&n!==null&&Sr(n,n.return);break;case 5:if(_t(t,e),It(e),r&512&&n!==null&&Sr(n,n.return),e.flags&32){var i=e.stateNode;try{Mi(i,"")}catch(x){ye(e,e.return,x)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Kf(i,s),fa(l,o);var c=fa(l,s);for(o=0;o<a.length;o+=2){var d=a[o],h=a[o+1];d==="style"?Zf(i,h):d==="dangerouslySetInnerHTML"?Yf(i,h):d==="children"?Mi(i,h):Su(i,d,h,c)}switch(l){case"input":aa(i,s);break;case"textarea":Jf(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?Cr(i,!!s.multiple,f,!1):p!==!!s.multiple&&(s.defaultValue!=null?Cr(i,!!s.multiple,s.defaultValue,!0):Cr(i,!!s.multiple,s.multiple?[]:"",!1))}i[Qi]=s}catch(x){ye(e,e.return,x)}}break;case 6:if(_t(t,e),It(e),r&4){if(e.stateNode===null)throw Error(N(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(x){ye(e,e.return,x)}}break;case 3:if(_t(t,e),It(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ui(t.containerInfo)}catch(x){ye(e,e.return,x)}break;case 4:_t(t,e),It(e);break;case 13:_t(t,e),It(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(nc=we())),r&4&&$d(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Re=(c=Re)||d,_t(t,e),Re=c):_t(t,e),It(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(M=e,d=e.child;d!==null;){for(h=M=d;M!==null;){switch(p=M,f=p.child,p.tag){case 0:case 11:case 14:case 15:Ti(4,p,p.return);break;case 1:Sr(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(x){ye(r,n,x)}}break;case 5:Sr(p,p.return);break;case 22:if(p.memoizedState!==null){Hd(h);continue}}f!==null?(f.return=p,M=f):Hd(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=h.stateNode,a=h.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Xf("display",o))}catch(x){ye(e,e.return,x)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(x){ye(e,e.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:_t(t,e),It(e),r&4&&$d(e);break;case 21:break;default:_t(t,e),It(e)}}function It(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(jm(n)){var r=n;break e}n=n.return}throw Error(N(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Mi(i,""),r.flags&=-33);var s=zd(e);Ha(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=zd(e);Ua(e,l,o);break;default:throw Error(N(161))}}catch(a){ye(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function P0(e,t,n){M=e,bm(e)}function bm(e,t,n){for(var r=(e.mode&1)!==0;M!==null;){var i=M,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Is;if(!o){var l=i.alternate,a=l!==null&&l.memoizedState!==null||Re;l=Is;var c=Re;if(Is=o,(Re=a)&&!c)for(M=i;M!==null;)o=M,a=o.child,o.tag===22&&o.memoizedState!==null?Vd(i):a!==null?(a.return=o,M=a):Vd(i);for(;s!==null;)M=s,bm(s),s=s.sibling;M=i,Is=l,Re=c}Ud(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,M=s):Ud(e)}}function Ud(e){for(;M!==null;){var t=M;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Re||Wo(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Re)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:St(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Ed(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ed(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Ui(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}Re||t.flags&512&&$a(t)}catch(p){ye(t,t.return,p)}}if(t===e){M=null;break}if(n=t.sibling,n!==null){n.return=t.return,M=n;break}M=t.return}}function Hd(e){for(;M!==null;){var t=M;if(t===e){M=null;break}var n=t.sibling;if(n!==null){n.return=t.return,M=n;break}M=t.return}}function Vd(e){for(;M!==null;){var t=M;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Wo(4,t)}catch(a){ye(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(a){ye(t,i,a)}}var s=t.return;try{$a(t)}catch(a){ye(t,s,a)}break;case 5:var o=t.return;try{$a(t)}catch(a){ye(t,o,a)}}}catch(a){ye(t,t.return,a)}if(t===e){M=null;break}var l=t.sibling;if(l!==null){l.return=t.return,M=l;break}M=t.return}}var N0=Math.ceil,So=Gt.ReactCurrentDispatcher,ec=Gt.ReactCurrentOwner,mt=Gt.ReactCurrentBatchConfig,Y=0,Pe=null,Se=null,Ie=0,tt=0,jr=bn(0),Ee=0,Zi=null,Kn=0,qo=0,tc=0,Pi=null,We=null,nc=0,$r=1/0,zt=null,jo=!1,Va=null,xn=null,Os=!1,hn=null,Co=0,Ni=0,Wa=null,Gs=-1,Ys=0;function ze(){return Y&6?we():Gs!==-1?Gs:Gs=we()}function wn(e){return e.mode&1?Y&2&&Ie!==0?Ie&-Ie:f0.transition!==null?(Ys===0&&(Ys=dp()),Ys):(e=te,e!==0||(e=window.event,e=e===void 0?16:vp(e.type)),e):1}function Tt(e,t,n,r){if(50<Ni)throw Ni=0,Wa=null,Error(N(185));is(e,n,r),(!(Y&2)||e!==Pe)&&(e===Pe&&(!(Y&2)&&(qo|=n),Ee===4&&ln(e,Ie)),Je(e,r),n===1&&Y===0&&!(t.mode&1)&&($r=we()+500,Uo&&Tn()))}function Je(e,t){var n=e.callbackNode;fv(e,t);var r=lo(e,e===Pe?Ie:0);if(r===0)n!==null&&Zc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Zc(n),t===1)e.tag===0?h0(Wd.bind(null,e)):Dp(Wd.bind(null,e)),a0(function(){!(Y&6)&&Tn()}),n=null;else{switch(hp(r)){case 1:n=Tu;break;case 4:n=up;break;case 16:n=oo;break;case 536870912:n=cp;break;default:n=oo}n=Rm(n,Tm.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Tm(e,t){if(Gs=-1,Ys=0,Y&6)throw Error(N(327));var n=e.callbackNode;if(Nr()&&e.callbackNode!==n)return null;var r=lo(e,e===Pe?Ie:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Eo(e,r);else{t=r;var i=Y;Y|=2;var s=Nm();(Pe!==e||Ie!==t)&&(zt=null,$r=we()+500,Hn(e,t));do try{L0();break}catch(l){Pm(e,l)}while(!0);$u(),So.current=s,Y=i,Se!==null?t=0:(Pe=null,Ie=0,t=Ee)}if(t!==0){if(t===2&&(i=va(e),i!==0&&(r=i,t=qa(e,i))),t===1)throw n=Zi,Hn(e,0),ln(e,r),Je(e,we()),n;if(t===6)ln(e,r);else{if(i=e.current.alternate,!(r&30)&&!I0(i)&&(t=Eo(e,r),t===2&&(s=va(e),s!==0&&(r=s,t=qa(e,s))),t===1))throw n=Zi,Hn(e,0),ln(e,r),Je(e,we()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(N(345));case 2:Fn(e,We,zt);break;case 3:if(ln(e,r),(r&130023424)===r&&(t=nc+500-we(),10<t)){if(lo(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){ze(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Ea(Fn.bind(null,e,We,zt),t);break}Fn(e,We,zt);break;case 4:if(ln(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-bt(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=we()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*N0(r/1960))-r,10<r){e.timeoutHandle=Ea(Fn.bind(null,e,We,zt),r);break}Fn(e,We,zt);break;case 5:Fn(e,We,zt);break;default:throw Error(N(329))}}}return Je(e,we()),e.callbackNode===n?Tm.bind(null,e):null}function qa(e,t){var n=Pi;return e.current.memoizedState.isDehydrated&&(Hn(e,t).flags|=256),e=Eo(e,t),e!==2&&(t=We,We=n,t!==null&&Qa(t)),e}function Qa(e){We===null?We=e:We.push.apply(We,e)}function I0(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Pt(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ln(e,t){for(t&=~tc,t&=~qo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-bt(t),r=1<<n;e[n]=-1,t&=~r}}function Wd(e){if(Y&6)throw Error(N(327));Nr();var t=lo(e,0);if(!(t&1))return Je(e,we()),null;var n=Eo(e,t);if(e.tag!==0&&n===2){var r=va(e);r!==0&&(t=r,n=qa(e,r))}if(n===1)throw n=Zi,Hn(e,0),ln(e,t),Je(e,we()),n;if(n===6)throw Error(N(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Fn(e,We,zt),Je(e,we()),null}function rc(e,t){var n=Y;Y|=1;try{return e(t)}finally{Y=n,Y===0&&($r=we()+500,Uo&&Tn())}}function Jn(e){hn!==null&&hn.tag===0&&!(Y&6)&&Nr();var t=Y;Y|=1;var n=mt.transition,r=te;try{if(mt.transition=null,te=1,e)return e()}finally{te=r,mt.transition=n,Y=t,!(Y&6)&&Tn()}}function ic(){tt=jr.current,ce(jr)}function Hn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,l0(n)),Se!==null)for(n=Se.return;n!==null;){var r=n;switch(Mu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&fo();break;case 3:Br(),ce(Qe),ce(Fe),Qu();break;case 5:qu(r);break;case 4:Br();break;case 13:ce(pe);break;case 19:ce(pe);break;case 10:Uu(r.type._context);break;case 22:case 23:ic()}n=n.return}if(Pe=e,Se=e=_n(e.current,null),Ie=tt=t,Ee=0,Zi=null,tc=qo=Kn=0,We=Pi=null,$n!==null){for(t=0;t<$n.length;t++)if(n=$n[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}$n=null}return e}function Pm(e,t){do{var n=Se;try{if($u(),Qs.current=ko,_o){for(var r=me.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}_o=!1}if(Qn=0,Te=Ce=me=null,bi=!1,Gi=0,ec.current=null,n===null||n.return===null){Ee=1,Zi=t,Se=null;break}e:{var s=e,o=n.return,l=n,a=t;if(t=Ie,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var c=a,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=Od(o);if(f!==null){f.flags&=-257,Ld(f,o,l,s,t),f.mode&1&&Id(s,c,t),t=f,a=c;var v=t.updateQueue;if(v===null){var x=new Set;x.add(a),t.updateQueue=x}else v.add(a);break e}else{if(!(t&1)){Id(s,c,t),sc();break e}a=Error(N(426))}}else if(he&&l.mode&1){var w=Od(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Ld(w,o,l,s,t),Bu(zr(a,l));break e}}s=a=zr(a,l),Ee!==4&&(Ee=2),Pi===null?Pi=[s]:Pi.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var g=hm(s,a,t);Cd(s,g);break e;case 1:l=a;var m=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(xn===null||!xn.has(y)))){s.flags|=65536,t&=-t,s.lanes|=t;var S=fm(s,l,t);Cd(s,S);break e}}s=s.return}while(s!==null)}Om(n)}catch(E){t=E,Se===n&&n!==null&&(Se=n=n.return);continue}break}while(!0)}function Nm(){var e=So.current;return So.current=ko,e===null?ko:e}function sc(){(Ee===0||Ee===3||Ee===2)&&(Ee=4),Pe===null||!(Kn&268435455)&&!(qo&268435455)||ln(Pe,Ie)}function Eo(e,t){var n=Y;Y|=2;var r=Nm();(Pe!==e||Ie!==t)&&(zt=null,Hn(e,t));do try{O0();break}catch(i){Pm(e,i)}while(!0);if($u(),Y=n,So.current=r,Se!==null)throw Error(N(261));return Pe=null,Ie=0,Ee}function O0(){for(;Se!==null;)Im(Se)}function L0(){for(;Se!==null&&!iv();)Im(Se)}function Im(e){var t=Am(e.alternate,e,tt);e.memoizedProps=e.pendingProps,t===null?Om(e):Se=t,ec.current=null}function Om(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=E0(n,t),n!==null){n.flags&=32767,Se=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ee=6,Se=null;return}}else if(n=C0(n,t,tt),n!==null){Se=n;return}if(t=t.sibling,t!==null){Se=t;return}Se=t=e}while(t!==null);Ee===0&&(Ee=5)}function Fn(e,t,n){var r=te,i=mt.transition;try{mt.transition=null,te=1,A0(e,t,n,r)}finally{mt.transition=i,te=r}return null}function A0(e,t,n,r){do Nr();while(hn!==null);if(Y&6)throw Error(N(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(N(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(pv(e,s),e===Pe&&(Se=Pe=null,Ie=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Os||(Os=!0,Rm(oo,function(){return Nr(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=mt.transition,mt.transition=null;var o=te;te=1;var l=Y;Y|=4,ec.current=null,T0(e,n),Em(n,e),e0(ja),ao=!!Sa,ja=Sa=null,e.current=n,P0(n),sv(),Y=l,te=o,mt.transition=s}else e.current=n;if(Os&&(Os=!1,hn=e,Co=i),s=e.pendingLanes,s===0&&(xn=null),av(n.stateNode),Je(e,we()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(jo)throw jo=!1,e=Va,Va=null,e;return Co&1&&e.tag!==0&&Nr(),s=e.pendingLanes,s&1?e===Wa?Ni++:(Ni=0,Wa=e):Ni=0,Tn(),null}function Nr(){if(hn!==null){var e=hp(Co),t=mt.transition,n=te;try{if(mt.transition=null,te=16>e?16:e,hn===null)var r=!1;else{if(e=hn,hn=null,Co=0,Y&6)throw Error(N(331));var i=Y;for(Y|=4,M=e.current;M!==null;){var s=M,o=s.child;if(M.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var c=l[a];for(M=c;M!==null;){var d=M;switch(d.tag){case 0:case 11:case 15:Ti(8,d,s)}var h=d.child;if(h!==null)h.return=d,M=h;else for(;M!==null;){d=M;var p=d.sibling,f=d.return;if(Sm(d),d===c){M=null;break}if(p!==null){p.return=f,M=p;break}M=f}}}var v=s.alternate;if(v!==null){var x=v.child;if(x!==null){v.child=null;do{var w=x.sibling;x.sibling=null,x=w}while(x!==null)}}M=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,M=o;else e:for(;M!==null;){if(s=M,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ti(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,M=g;break e}M=s.return}}var m=e.current;for(M=m;M!==null;){o=M;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,M=y;else e:for(o=m;M!==null;){if(l=M,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Wo(9,l)}}catch(E){ye(l,l.return,E)}if(l===o){M=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,M=S;break e}M=l.return}}if(Y=i,Tn(),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(Do,e)}catch{}r=!0}return r}finally{te=n,mt.transition=t}}return!1}function qd(e,t,n){t=zr(n,t),t=hm(e,t,1),e=vn(e,t,1),t=ze(),e!==null&&(is(e,1,t),Je(e,t))}function ye(e,t,n){if(e.tag===3)qd(e,e,n);else for(;t!==null;){if(t.tag===3){qd(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(xn===null||!xn.has(r))){e=zr(n,e),e=fm(t,e,1),t=vn(t,e,1),e=ze(),t!==null&&(is(t,1,e),Je(t,e));break}}t=t.return}}function R0(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ze(),e.pingedLanes|=e.suspendedLanes&n,Pe===e&&(Ie&n)===n&&(Ee===4||Ee===3&&(Ie&130023424)===Ie&&500>we()-nc?Hn(e,0):tc|=n),Je(e,t)}function Lm(e,t){t===0&&(e.mode&1?(t=ks,ks<<=1,!(ks&130023424)&&(ks=4194304)):t=1);var n=ze();e=Qt(e,t),e!==null&&(is(e,t,n),Je(e,n))}function F0(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Lm(e,n)}function D0(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(N(314))}r!==null&&r.delete(t),Lm(e,n)}var Am;Am=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Qe.current)qe=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return qe=!1,j0(e,t,n);qe=!!(e.flags&131072)}else qe=!1,he&&t.flags&1048576&&Mp(t,go,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Js(e,t),e=t.pendingProps;var i=Fr(t,Fe.current);Pr(t,n),i=Ju(null,t,r,e,i,n);var s=Gu();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ke(r)?(s=!0,po(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Vu(t),i.updater=Vo,t.stateNode=i,i._reactInternals=t,La(t,r,e,n),t=Fa(null,t,r,!0,s,n)):(t.tag=0,he&&s&&Du(t),Be(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Js(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=B0(r),e=St(r,e),i){case 0:t=Ra(null,t,r,e,n);break e;case 1:t=Fd(null,t,r,e,n);break e;case 11:t=Ad(null,t,r,e,n);break e;case 14:t=Rd(null,t,r,St(r.type,e),n);break e}throw Error(N(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:St(r,i),Ra(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:St(r,i),Fd(e,t,r,i,n);case 3:e:{if(ym(t),e===null)throw Error(N(387));r=t.pendingProps,s=t.memoizedState,i=s.element,Vp(e,t),xo(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=zr(Error(N(423)),t),t=Dd(e,t,r,n,i);break e}else if(r!==i){i=zr(Error(N(424)),t),t=Dd(e,t,r,n,i);break e}else for(rt=yn(t.stateNode.containerInfo.firstChild),st=t,he=!0,Et=null,n=Up(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Dr(),r===i){t=Kt(e,t,n);break e}Be(e,t,r,n)}t=t.child}return t;case 5:return Wp(t),e===null&&Na(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,Ca(r,i)?o=null:s!==null&&Ca(r,s)&&(t.flags|=32),gm(e,t),Be(e,t,o,n),t.child;case 6:return e===null&&Na(t),null;case 13:return vm(e,t,n);case 4:return Wu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Mr(t,null,r,n):Be(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:St(r,i),Ad(e,t,r,i,n);case 7:return Be(e,t,t.pendingProps,n),t.child;case 8:return Be(e,t,t.pendingProps.children,n),t.child;case 12:return Be(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,oe(yo,r._currentValue),r._currentValue=o,s!==null)if(Pt(s.value,o)){if(s.children===i.children&&!Qe.current){t=Kt(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=Vt(-1,n&-n),a.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?a.next=a:(a.next=d.next,d.next=a),c.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Ia(s.return,n,t),l.lanes|=n;break}a=a.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(N(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Ia(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Be(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Pr(t,n),i=gt(i),r=r(i),t.flags|=1,Be(e,t,r,n),t.child;case 14:return r=t.type,i=St(r,t.pendingProps),i=St(r.type,i),Rd(e,t,r,i,n);case 15:return pm(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:St(r,i),Js(e,t),t.tag=1,Ke(r)?(e=!0,po(t)):e=!1,Pr(t,n),dm(t,r,i),La(t,r,i,n),Fa(null,t,r,!0,e,n);case 19:return xm(e,t,n);case 22:return mm(e,t,n)}throw Error(N(156,t.tag))};function Rm(e,t){return ap(e,t)}function M0(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pt(e,t,n,r){return new M0(e,t,n,r)}function oc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function B0(e){if(typeof e=="function")return oc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Cu)return 11;if(e===Eu)return 14}return 2}function _n(e,t){var n=e.alternate;return n===null?(n=pt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Xs(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")oc(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case pr:return Vn(n.children,i,s,t);case ju:o=8,i|=8;break;case ra:return e=pt(12,n,t,i|2),e.elementType=ra,e.lanes=s,e;case ia:return e=pt(13,n,t,i),e.elementType=ia,e.lanes=s,e;case sa:return e=pt(19,n,t,i),e.elementType=sa,e.lanes=s,e;case Wf:return Qo(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Hf:o=10;break e;case Vf:o=9;break e;case Cu:o=11;break e;case Eu:o=14;break e;case tn:o=16,r=null;break e}throw Error(N(130,e==null?e:typeof e,""))}return t=pt(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Vn(e,t,n,r){return e=pt(7,e,r,t),e.lanes=n,e}function Qo(e,t,n,r){return e=pt(22,e,r,t),e.elementType=Wf,e.lanes=n,e.stateNode={isHidden:!1},e}function Al(e,t,n){return e=pt(6,e,null,t),e.lanes=n,e}function Rl(e,t,n){return t=pt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function z0(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ml(0),this.expirationTimes=ml(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ml(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function lc(e,t,n,r,i,s,o,l,a){return e=new z0(e,t,n,l,a),t===1?(t=1,s===!0&&(t|=8)):t=0,s=pt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vu(s),e}function $0(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Fm(e){if(!e)return jn;e=e._reactInternals;e:{if(Xn(e)!==e||e.tag!==1)throw Error(N(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ke(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(N(171))}if(e.tag===1){var n=e.type;if(Ke(n))return Fp(e,n,t)}return t}function Dm(e,t,n,r,i,s,o,l,a){return e=lc(n,r,!0,e,i,s,o,l,a),e.context=Fm(null),n=e.current,r=ze(),i=wn(n),s=Vt(r,i),s.callback=t??null,vn(n,s,i),e.current.lanes=i,is(e,i,r),Je(e,r),e}function Ko(e,t,n,r){var i=t.current,s=ze(),o=wn(i);return n=Fm(n),t.context===null?t.context=n:t.pendingContext=n,t=Vt(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=vn(i,t,o),e!==null&&(Tt(e,i,o,s),qs(e,i,o)),o}function bo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Qd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ac(e,t){Qd(e,t),(e=e.alternate)&&Qd(e,t)}function U0(){return null}var Mm=typeof reportError=="function"?reportError:function(e){console.error(e)};function uc(e){this._internalRoot=e}Jo.prototype.render=uc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(N(409));Ko(e,t,null,null)};Jo.prototype.unmount=uc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Jn(function(){Ko(null,e,null,null)}),t[qt]=null}};function Jo(e){this._internalRoot=e}Jo.prototype.unstable_scheduleHydration=function(e){if(e){var t=mp();e={blockedOn:null,target:e,priority:t};for(var n=0;n<on.length&&t!==0&&t<on[n].priority;n++);on.splice(n,0,e),n===0&&yp(e)}};function cc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Go(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Kd(){}function H0(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=bo(o);s.call(c)}}var o=Dm(t,r,e,0,null,!1,!1,"",Kd);return e._reactRootContainer=o,e[qt]=o.current,Wi(e.nodeType===8?e.parentNode:e),Jn(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var c=bo(a);l.call(c)}}var a=lc(e,0,!1,null,null,!1,!1,"",Kd);return e._reactRootContainer=a,e[qt]=a.current,Wi(e.nodeType===8?e.parentNode:e),Jn(function(){Ko(t,a,n,r)}),a}function Yo(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var a=bo(o);l.call(a)}}Ko(t,o,e,i)}else o=H0(n,t,e,i,r);return bo(o)}fp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=xi(t.pendingLanes);n!==0&&(Pu(t,n|1),Je(t,we()),!(Y&6)&&($r=we()+500,Tn()))}break;case 13:Jn(function(){var r=Qt(e,1);if(r!==null){var i=ze();Tt(r,e,1,i)}}),ac(e,1)}};Nu=function(e){if(e.tag===13){var t=Qt(e,134217728);if(t!==null){var n=ze();Tt(t,e,134217728,n)}ac(e,134217728)}};pp=function(e){if(e.tag===13){var t=wn(e),n=Qt(e,t);if(n!==null){var r=ze();Tt(n,e,t,r)}ac(e,t)}};mp=function(){return te};gp=function(e,t){var n=te;try{return te=e,t()}finally{te=n}};ma=function(e,t,n){switch(t){case"input":if(aa(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=$o(r);if(!i)throw Error(N(90));Qf(r),aa(r,i)}}}break;case"textarea":Jf(e,n);break;case"select":t=n.value,t!=null&&Cr(e,!!n.multiple,t,!1)}};np=rc;rp=Jn;var V0={usingClientEntryPoint:!1,Events:[os,vr,$o,ep,tp,rc]},ai={findFiberByHostInstance:zn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},W0={bundleType:ai.bundleType,version:ai.version,rendererPackageName:ai.rendererPackageName,rendererConfig:ai.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=op(e),e===null?null:e.stateNode},findFiberByHostInstance:ai.findFiberByHostInstance||U0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ls=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ls.isDisabled&&Ls.supportsFiber)try{Do=Ls.inject(W0),Ft=Ls}catch{}}lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V0;lt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cc(t))throw Error(N(200));return $0(e,t,null,n)};lt.createRoot=function(e,t){if(!cc(e))throw Error(N(299));var n=!1,r="",i=Mm;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=lc(e,1,!1,null,null,n,!1,r,i),e[qt]=t.current,Wi(e.nodeType===8?e.parentNode:e),new uc(t)};lt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(N(188)):(e=Object.keys(e).join(","),Error(N(268,e)));return e=op(t),e=e===null?null:e.stateNode,e};lt.flushSync=function(e){return Jn(e)};lt.hydrate=function(e,t,n){if(!Go(t))throw Error(N(200));return Yo(null,e,t,!0,n)};lt.hydrateRoot=function(e,t,n){if(!cc(e))throw Error(N(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Mm;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Dm(t,null,e,1,n??null,i,!1,s,o),e[qt]=t.current,Wi(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Jo(t)};lt.render=function(e,t,n){if(!Go(t))throw Error(N(200));return Yo(null,e,t,!1,n)};lt.unmountComponentAtNode=function(e){if(!Go(e))throw Error(N(40));return e._reactRootContainer?(Jn(function(){Yo(null,null,e,!1,function(){e._reactRootContainer=null,e[qt]=null})}),!0):!1};lt.unstable_batchedUpdates=rc;lt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Go(n))throw Error(N(200));if(e==null||e._reactInternals===void 0)throw Error(N(38));return Yo(e,t,n,!1,r)};lt.version="18.3.1-next-f1338f8080-20240426";function Bm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Bm)}catch(e){console.error(e)}}Bm(),Bf.exports=lt;var q0=Bf.exports,Jd=q0;ta.createRoot=Jd.createRoot,ta.hydrateRoot=Jd.hydrateRoot;const Q0="modulepreload",K0=function(e){return"https://ckdev88.github.io/mubooks/"+e},Gd={},Ur=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.all(n.map(l=>{if(l=K0(l),l in Gd)return;Gd[l]=!0;const a=l.endsWith(".css"),c=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const d=document.createElement("link");if(d.rel=a?"stylesheet":Q0,a||(d.as="script",d.crossOrigin=""),d.href=l,o&&d.setAttribute("nonce",o),document.head.appendChild(d),a)return new Promise((h,p)=>{d.addEventListener("load",h),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}return i.then(()=>t()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})},J0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Ur(async()=>{const{default:r}=await Promise.resolve().then(()=>Jr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class dc extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class G0 extends dc{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Y0 extends dc{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class X0 extends dc{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ka;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ka||(Ka={}));var Z0=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?s(d.value):i(d.value).then(l,a)}c((r=r.apply(e,t||[])).next())})};class ex{constructor(t,{headers:n={},customFetch:r,region:i=Ka.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=J0(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return Z0(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=n;let l={},{region:a}=n;a||(a=this.region),a&&a!=="any"&&(l["x-region"]=a);let c;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(l["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(l["Content-Type"]="application/json",c=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:c}).catch(v=>{throw new G0(v)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new Y0(d);if(!d.ok)throw new X0(d);let p=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),f;return p==="application/json"?f=yield d.json():p==="application/octet-stream"?f=yield d.blob():p==="text/event-stream"?f=d:p==="multipart/form-data"?f=yield d.formData():f=yield d.text(),{data:f,error:null}}catch(i){return{data:null,error:i}}})}}var ft={},hc={},Xo={},as={},Zo={},el={},tx=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Hr=tx();const nx=Hr.fetch,zm=Hr.fetch.bind(Hr),$m=Hr.Headers,rx=Hr.Request,ix=Hr.Response,Jr=Object.freeze(Object.defineProperty({__proto__:null,Headers:$m,Request:rx,Response:ix,default:zm,fetch:nx},Symbol.toStringTag,{value:"Module"})),sx=xy(Jr);var fc={};Object.defineProperty(fc,"__esModule",{value:!0});class ox extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}fc.default=ox;var Um=Ye&&Ye.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(el,"__esModule",{value:!0});const lx=Um(sx),ax=Um(fc);let ux=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=lx.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var o,l,a;let c=null,d=null,h=null,p=s.status,f=s.statusText;if(s.ok){if(this.method!=="HEAD"){const g=await s.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=g:d=JSON.parse(g))}const x=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),w=(l=s.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");x&&w&&w.length>1&&(h=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,p=406,f="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const x=await s.text();try{c=JSON.parse(x),Array.isArray(c)&&s.status===404&&(d=[],c=null,p=200,f="OK")}catch{s.status===404&&x===""?(p=204,f="No Content"):c={message:x}}if(c&&this.isMaybeSingle&&(!((a=c==null?void 0:c.details)===null||a===void 0)&&a.includes("0 rows"))&&(c=null,p=200,f="OK"),c&&this.shouldThrowOnError)throw new ax.default(c)}return{error:c,data:d,count:h,status:p,statusText:f}});return this.shouldThrowOnError||(i=i.catch(s=>{var o,l,a;return{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(l=s==null?void 0:s.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(a=s==null?void 0:s.code)!==null&&a!==void 0?a:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,n)}};el.default=ux;var cx=Ye&&Ye.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zo,"__esModule",{value:!0});const dx=cx(el);let hx=class extends dx.default{select(t){let n=!1;const r=(t??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:s=i}={}){const o=s?`${s}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:i=r}={}){const s=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:s=!1,format:o="text"}={}){var l;const a=[t?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${a};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Zo.default=hx;var fx=Ye&&Ye.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(as,"__esModule",{value:!0});const px=fx(Zo);let mx=class extends px.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${s}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};as.default=mx;var gx=Ye&&Ye.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xo,"__esModule",{value:!0});const ui=gx(as);let yx=class{constructor(t,{headers:n={},schema:r,fetch:i}){this.url=t,this.headers=n,this.schema=r,this.fetch=i}select(t,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let s=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new ui.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),r||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(t)){const o=t.reduce((l,a)=>l.concat(Object.keys(a)),[]);if(o.length>0){const l=[...new Set(o)].map(a=>`"${a}"`);this.url.searchParams.set("columns",l.join(","))}}return new ui.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:s=!0}={}){const o="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),s||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const a=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(a.length>0){const c=[...new Set(a)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new ui.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new ui.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new ui.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Xo.default=yx;var tl={},nl={};Object.defineProperty(nl,"__esModule",{value:!0});nl.version=void 0;nl.version="0.0.0-automated";Object.defineProperty(tl,"__esModule",{value:!0});tl.DEFAULT_HEADERS=void 0;const vx=nl;tl.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${vx.version}`};var Hm=Ye&&Ye.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(hc,"__esModule",{value:!0});const xx=Hm(Xo),wx=Hm(as),_x=tl;let kx=class Vm{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},_x.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=i}from(t){const n=new URL(`${this.url}/${t}`);return new xx.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Vm(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:s}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let a;r||i?(o=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(o="POST",a=n);const c=Object.assign({},this.headers);return s&&(c.Prefer=`count=${s}`),new wx.default({method:o,url:l,headers:c,schema:this.schemaName,body:a,fetch:this.fetch,allowEmpty:!1})}};hc.default=kx;var us=Ye&&Ye.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ft,"__esModule",{value:!0});ft.PostgrestBuilder=ft.PostgrestTransformBuilder=ft.PostgrestFilterBuilder=ft.PostgrestQueryBuilder=ft.PostgrestClient=void 0;const Wm=us(hc);ft.PostgrestClient=Wm.default;const qm=us(Xo);ft.PostgrestQueryBuilder=qm.default;const Qm=us(as);ft.PostgrestFilterBuilder=Qm.default;const Km=us(Zo);ft.PostgrestTransformBuilder=Km.default;const Jm=us(el);ft.PostgrestBuilder=Jm.default;var Sx=ft.default={PostgrestClient:Wm.default,PostgrestQueryBuilder:qm.default,PostgrestFilterBuilder:Qm.default,PostgrestTransformBuilder:Km.default,PostgrestBuilder:Jm.default};const{PostgrestClient:jx,PostgrestQueryBuilder:ub,PostgrestFilterBuilder:cb,PostgrestTransformBuilder:db,PostgrestBuilder:hb}=Sx,Cx="2.10.2",Ex={"X-Client-Info":`realtime-js/${Cx}`},bx="1.0.0",Gm=1e4,Tx=1e3;var Ir;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ir||(Ir={}));var et;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(et||(et={}));var Ct;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ct||(Ct={}));var Ja;(function(e){e.websocket="websocket"})(Ja||(Ja={}));var Mn;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Mn||(Mn={}));class Px{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),s=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(t.slice(o,o+i));o=o+i;const a=r.decode(t.slice(o,o+s));o=o+s;const c=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:a,payload:c}}}class Ym{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ie;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ie||(ie={}));const Yd=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((s,o)=>(s[o]=Nx(o,e,t,i),s),{})},Nx=(e,t,n,r)=>{const i=t.find(l=>l.name===e),s=i==null?void 0:i.type,o=n[e];return s&&!r.includes(s)?Xm(s,o):Ga(o)},Xm=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return Ax(t,n)}switch(e){case ie.bool:return Ix(t);case ie.float4:case ie.float8:case ie.int2:case ie.int4:case ie.int8:case ie.numeric:case ie.oid:return Ox(t);case ie.json:case ie.jsonb:return Lx(t);case ie.timestamp:return Rx(t);case ie.abstime:case ie.date:case ie.daterange:case ie.int4range:case ie.int8range:case ie.money:case ie.reltime:case ie.text:case ie.time:case ie.timestamptz:case ie.timetz:case ie.tsrange:case ie.tstzrange:return Ga(t);default:return Ga(t)}},Ga=e=>e,Ix=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Ox=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Lx=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Ax=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let s;const o=e.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(l=>Xm(t,l))}return e},Rx=e=>typeof e=="string"?e.replace(" ","T"):e,Zm=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Fl{constructor(t,n,r={},i=Gm){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Xd;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Xd||(Xd={}));class Ii{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ii.syncState(this.state,i,s,o),this.pendingDiffs.forEach(a=>{this.state=Ii.syncDiff(this.state,a,s,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Ii.syncDiff(this.state,i,s,o),l())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const s=this.cloneDeep(t),o=this.transformState(n),l={},a={};return this.map(s,(c,d)=>{o[c]||(a[c]=d)}),this.map(o,(c,d)=>{const h=s[c];if(h){const p=d.map(w=>w.presence_ref),f=h.map(w=>w.presence_ref),v=d.filter(w=>f.indexOf(w.presence_ref)<0),x=h.filter(w=>p.indexOf(w.presence_ref)<0);v.length>0&&(l[c]=v),x.length>0&&(a[c]=x)}else l[c]=d}),this.syncDiff(s,{joins:l,leaves:a},r,i)}static syncDiff(t,n,r,i){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(l,a)=>{var c;const d=(c=t[l])!==null&&c!==void 0?c:[];if(t[l]=this.cloneDeep(a),d.length>0){const h=t[l].map(f=>f.presence_ref),p=d.filter(f=>h.indexOf(f.presence_ref)<0);t[l].unshift(...p)}r(l,d,a)}),this.map(o,(l,a)=>{let c=t[l];if(!c)return;const d=a.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=c,i(l,c,a),c.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Zd;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Zd||(Zd={}));var eh;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes"})(eh||(eh={}));var th;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(th||(th={}));class pc{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=et.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Fl(this,Ct.join,this.params,this.timeout),this.rejoinTimer=new Ym(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=et.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=et.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ct.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new Ii(this),this.broadcastEndpointURL=Zm(this.socket.endPoint)+"/api/broadcast"}subscribe(t,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:o,private:l}}=this.params;this._onError(d=>t&&t("CHANNEL_ERROR",d)),this._onClose(()=>t&&t("CLOSED"));const a={},c={broadcast:s,presence:o,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&i!==void 0?i:[],private:l};this.socket.accessToken&&(a.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:c},a)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",({postgres_changes:d})=>{var h;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),d===void 0){t&&t("SUBSCRIBED");return}else{const p=this.bindings.postgres_changes,f=(h=p==null?void 0:p.length)!==null&&h!==void 0?h:0,v=[];for(let x=0;x<f;x++){const w=p[x],{filter:{event:g,schema:m,table:y,filter:S}}=w,E=d&&d[x];if(E&&E.event===g&&E.schema===m&&E.table===y&&E.filter===S)v.push(Object.assign(Object.assign({},w),{id:E.id}));else{this.unsubscribe(),t&&t("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t("SUBSCRIBED");return}}).receive("error",d=>{t&&t("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t&&t("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessToken?`Bearer ${this.socket.accessToken}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o}]})};try{const a=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=a.body)===null||i===void 0?void 0:i.cancel()),a.ok?"ok":"error"}catch(a){return a.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,l,a;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((a=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||a===void 0)&&a.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=et.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ct.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const i=new Fl(this,Ct.leave,{},t);i.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(t,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Fl(this,t,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,s;const o=t.toLocaleLowerCase(),{close:l,error:a,leave:c,join:d}=Ct;if(r&&[l,a,c,d].indexOf(o)>=0&&r!==this._joinRef())return;let p=this._onMessage(o,n,r);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var v,x,w;return((v=f.filter)===null||v===void 0?void 0:v.event)==="*"||((w=(x=f.filter)===null||x===void 0?void 0:x.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(f=>f.callback(p,r)):(s=this.bindings[o])===null||s===void 0||s.filter(f=>{var v,x,w,g,m,y;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const S=f.id,E=(v=f.filter)===null||v===void 0?void 0:v.event;return S&&((x=n.ids)===null||x===void 0?void 0:x.includes(S))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const S=(m=(g=f==null?void 0:f.filter)===null||g===void 0?void 0:g.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return S==="*"||S===((y=n==null?void 0:n.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof p=="object"&&"ids"in p){const v=p.data,{schema:x,table:w,commit_timestamp:g,type:m,errors:y}=v;p=Object.assign(Object.assign({},{schema:x,table:w,commit_timestamp:g,eventType:m,new:{},old:{},errors:y}),this._getPayloadRecords(v))}f.callback(p,r)})}_isClosed(){return this.state===et.closed}_isJoined(){return this.state===et.joined}_isJoining(){return this.state===et.joining}_isLeaving(){return this.state===et.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&pc.isEqual(i.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ct.close,{},t)}_onError(t){this._on(Ct.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=et.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Yd(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Yd(t.columns,t.old_record)),n}}const Fx=()=>{},Dx=typeof WebSocket<"u";class Mx{constructor(t,n){var r;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Ex,this.params={},this.timeout=Gm,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Fx,this.conn=null,this.sendBuffer=[],this.serializer=new Px,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...l)=>Ur(async()=>{const{default:a}=await Promise.resolve().then(()=>Jr);return{default:a}},void 0).then(({default:a})=>a(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${Ja.websocket}`,this.httpEndpoint=Zm(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;i&&(this.accessToken=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(s,o)=>o(JSON.stringify(s)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Ym(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(Dx){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new Bx(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),Ur(async()=>{const{default:t}=await import("./browser-BhZgpjRe.js").then(n=>n.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ir.connecting:return Mn.Connecting;case Ir.open:return Mn.Open;case Ir.closing:return Mn.Closing;default:return Mn.Closed}}isConnected(){return this.connectionState()===Mn.Open}channel(t,n={config:{}}){const r=new pc(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){const{topic:n,event:r,payload:i,ref:s}=t,o=()=>{this.encode(t,l=>{var a;(a=this.conn)===null||a===void 0||a.send(l)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}setAuth(t){this.accessToken=t,this.channels.forEach(n=>{t&&n.updateJoinPayload({access_token:t}),n.joinedOnce&&n._isJoined()&&n._push(Ct.access_token,{access_token:t})})}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:bx}))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:i,payload:s,ref:o}=n;(o&&o===this.pendingHeartbeatRef||i===(s==null?void 0:s.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${i} ${o&&"("+o+")"||""}`,s),this.channels.filter(l=>l._isMember(r)).forEach(l=>l._trigger(i,s,o)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ct.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(Tx,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class Bx{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Ir.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class mc extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function be(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class zx extends mc{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ya extends mc{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var $x=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?s(d.value):i(d.value).then(l,a)}c((r=r.apply(e,t||[])).next())})};const eg=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Ur(async()=>{const{default:r}=await Promise.resolve().then(()=>Jr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Ux=()=>$x(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ur(()=>Promise.resolve().then(()=>Jr),void 0)).Response:Response}),Xa=e=>{if(Array.isArray(e))return e.map(n=>Xa(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=Xa(r)}),t};var Zn=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?s(d.value):i(d.value).then(l,a)}c((r=r.apply(e,t||[])).next())})};const Dl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Hx=(e,t,n)=>Zn(void 0,void 0,void 0,function*(){const r=yield Ux();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{t(new zx(Dl(i),e.status||500))}).catch(i=>{t(new Ya(Dl(i),i))}):t(new Ya(Dl(e),e))}),Vx=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),n))};function cs(e,t,n,r,i,s){return Zn(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,Vx(t,r,i,s)).then(a=>{if(!a.ok)throw a;return r!=null&&r.noResolveJson?a:a.json()}).then(a=>o(a)).catch(a=>Hx(a,l,r))})})}function To(e,t,n,r){return Zn(this,void 0,void 0,function*(){return cs(e,"GET",t,n,r)})}function rn(e,t,n,r,i){return Zn(this,void 0,void 0,function*(){return cs(e,"POST",t,r,i,n)})}function Wx(e,t,n,r,i){return Zn(this,void 0,void 0,function*(){return cs(e,"PUT",t,r,i,n)})}function qx(e,t,n,r){return Zn(this,void 0,void 0,function*(){return cs(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function tg(e,t,n,r,i){return Zn(this,void 0,void 0,function*(){return cs(e,"DELETE",t,r,i,n)})}var He=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?s(d.value):i(d.value).then(l,a)}c((r=r.apply(e,t||[])).next())})};const Qx={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},nh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Kx{constructor(t,n={},r,i){this.url=t,this.headers=n,this.bucketId=r,this.fetch=eg(i)}uploadOrUpdate(t,n,r,i){return He(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},nh),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const a=o.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),s.append("",r),a&&s.append("metadata",this.encodeMetadata(a))):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",o.cacheControl),a&&s.append("metadata",this.encodeMetadata(a))):(s=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,a&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(a)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const c=this._removeEmptyFolders(n),d=this._getFinalPath(c),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:s,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),p=yield h.json();return h.ok?{data:{path:c,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(s){if(be(s))return{data:null,error:s};throw s}})}upload(t,n,r){return He(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return He(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),o=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let a;const c=Object.assign({upsert:nh.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",c.cacheControl),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",c.cacheControl)):(a=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:a,headers:d}),p=yield h.json();return h.ok?{data:{path:s,fullPath:p.Key},error:null}:{data:null,error:p}}catch(a){if(be(a))return{data:null,error:a};throw a}})}createSignedUploadUrl(t,n){return He(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield rn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+s.url),l=o.searchParams.get("token");if(!l)throw new mc("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}})}update(t,n,r){return He(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return He(this,void 0,void 0,function*(){try{return{data:yield rn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(be(i))return{data:null,error:i};throw i}})}copy(t,n,r){return He(this,void 0,void 0,function*(){try{return{data:{path:(yield rn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(be(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return He(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield rn(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(be(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return He(this,void 0,void 0,function*(){try{const i=yield rn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(be(i))return{data:null,error:i};throw i}})}download(t,n){return He(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=s?`?${s}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield To(this.fetch,`${this.url}/${i}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(be(l))return{data:null,error:l};throw l}})}info(t){return He(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield To(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Xa(r),error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}})}exists(t){return He(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield qx(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(be(r)&&r instanceof Ya){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});a!==""&&i.push(a);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${c}`)}}}remove(t){return He(this,void 0,void 0,function*(){try{return{data:yield tg(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}})}list(t,n,r){return He(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},Qx),n),{prefix:t||""});return{data:yield rn(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(be(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const Jx="2.7.0",Gx={"X-Client-Info":`storage-js/${Jx}`};var ur=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?s(d.value):i(d.value).then(l,a)}c((r=r.apply(e,t||[])).next())})};class Yx{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},Gx),n),this.fetch=eg(r)}listBuckets(){return ur(this,void 0,void 0,function*(){try{return{data:yield To(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(be(t))return{data:null,error:t};throw t}})}getBucket(t){return ur(this,void 0,void 0,function*(){try{return{data:yield To(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return ur(this,void 0,void 0,function*(){try{return{data:yield rn(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return ur(this,void 0,void 0,function*(){try{return{data:yield Wx(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}})}emptyBucket(t){return ur(this,void 0,void 0,function*(){try{return{data:yield rn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}})}deleteBucket(t){return ur(this,void 0,void 0,function*(){try{return{data:yield tg(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}})}}class Xx extends Yx{constructor(t,n={},r){super(t,n,r)}from(t){return new Kx(this.url,this.headers,t,this.fetch)}}const Zx="2.45.2";let _i="";typeof Deno<"u"?_i="deno":typeof document<"u"?_i="web":typeof navigator<"u"&&navigator.product==="ReactNative"?_i="react-native":_i="node";const ew={"X-Client-Info":`supabase-js-${_i}/${Zx}`},tw={headers:ew},nw={schema:"public"},rw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},iw={};var sw=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?s(d.value):i(d.value).then(l,a)}c((r=r.apply(e,t||[])).next())})};const ow=e=>{let t;return e?t=e:typeof fetch>"u"?t=zm:t=fetch,(...n)=>t(...n)},lw=()=>typeof Headers>"u"?$m:Headers,aw=(e,t,n)=>{const r=ow(n),i=lw();return(s,o)=>sw(void 0,void 0,void 0,function*(){var l;const a=(l=yield t())!==null&&l!==void 0?l:e;let c=new i(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${a}`),r(s,Object.assign(Object.assign({},o),{headers:c}))})};var uw=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?s(d.value):i(d.value).then(l,a)}c((r=r.apply(e,t||[])).next())})};function cw(e){return e.replace(/\/$/,"")}function dw(e,t){const{db:n,auth:r,realtime:i,global:s}=e,{db:o,auth:l,realtime:a,global:c}=t,d={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},l),r),realtime:Object.assign(Object.assign({},a),i),global:Object.assign(Object.assign({},c),s),accessToken:()=>uw(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const ng="2.64.4",hw="http://localhost:9999",fw="supabase.auth.token",pw={"X-Client-Info":`gotrue-js/${ng}`},rh=10,Za="X-Supabase-Api-Version",rg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function mw(e){return Math.round(Date.now()/1e3)+e}function gw(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const kt=()=>typeof document<"u",Ln={tested:!1,writable:!1},Oi=()=>{if(!kt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ln.tested)return Ln.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ln.tested=!0,Ln.writable=!0}catch{Ln.tested=!0,Ln.writable=!1}return Ln.writable};function Ml(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const ig=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Ur(async()=>{const{default:r}=await Promise.resolve().then(()=>Jr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},yw=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",sg=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},As=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Bl=async(e,t)=>{await e.removeItem(t)};function vw(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,i,s,o,l,a,c,d=0;for(e=e.replace("-","+").replace("_","/");d<e.length;)o=t.indexOf(e.charAt(d++)),l=t.indexOf(e.charAt(d++)),a=t.indexOf(e.charAt(d++)),c=t.indexOf(e.charAt(d++)),r=o<<2|l>>4,i=(l&15)<<4|a>>2,s=(a&3)<<6|c,n=n+String.fromCharCode(r),a!=64&&i!=0&&(n=n+String.fromCharCode(i)),c!=64&&s!=0&&(n=n+String.fromCharCode(s));return n}class rl{constructor(){this.promise=new rl.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}rl.promiseConstructor=Promise;function ih(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=e.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(vw(r))}async function xw(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function ww(e,t){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await e(s);if(!t(s,null,o)){r(o);return}}catch(o){if(!t(s,o)){i(o);return}}})()})}function _w(e){return("0"+e.toString(16)).substr(-2)}function kw(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,_w).join("")}async function Sw(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}function jw(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Cw(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await Sw(e);return jw(n)}async function cr(e,t,n=!1){const r=kw();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await sg(e,`${t}-code-verifier`,i);const s=await Cw(r);return[s,r===s?"plain":"s256"]}const Ew=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function bw(e){const t=e.headers.get(Za);if(!t||!t.match(Ew))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class gc extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function V(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Tw extends gc{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Pw(e){return V(e)&&e.name==="AuthApiError"}class og extends gc{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class er extends gc{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class An extends er{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class zl extends er{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Rs extends er{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Fs extends er{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class sh extends er{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class eu extends er{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function $l(e){return V(e)&&e.name==="AuthRetryableFetchError"}class oh extends er{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var Nw=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Dn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Iw=[502,503,504];async function lh(e){var t;if(!yw(e))throw new eu(Dn(e),0);if(Iw.includes(e.status))throw new eu(Dn(e),e.status);let n;try{n=await e.json()}catch(s){throw new og(Dn(s),s)}let r;const i=bw(e);if(i&&i.getTime()>=rg["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new oh(Dn(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[])}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new oh(Dn(n),e.status,n.weak_password.reasons);throw new Tw(Dn(n),e.status||500,r)}const Ow=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function K(e,t,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[Za]||(s[Za]=rg["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",a=await Lw(e,t,n+l,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(a):{data:Object.assign({},a),error:null}}async function Lw(e,t,n,r,i,s){const o=Ow(t,r,i,s);let l;try{l=await e(n,Object.assign({},o))}catch(a){throw console.error(a),new eu(Dn(a),0)}if(l.ok||await lh(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(a){await lh(a)}}function en(e){var t;let n=null;Dw(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=mw(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function ah(e){const t=en(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function an(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Aw(e){return{data:e,error:null}}function Rw(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=e,o=Nw(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},a=Object.assign({},o);return{data:{properties:l,user:a},error:null}}function Fw(e){return e}function Dw(e){return e.access_token&&e.refresh_token&&e.expires_in}var Mw=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class Bw{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=ig(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await K(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(V(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await K(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:an})}catch(r){if(V(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Mw(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await K(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Rw,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(V(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await K(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:an})}catch(n){if(V(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,s,o,l,a;try{const c={nextPage:null,lastPage:0,total:0},d=await K(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Fw});if(d.error)throw d.error;const h=await d.json(),p=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(a=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&a!==void 0?a:[];return f.length>0&&(f.forEach(v=>{const x=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(v.split(";")[1].split("=")[1]);c[`${w}Page`]=x}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(V(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){try{return await K(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:an})}catch(n){if(V(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await K(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:an})}catch(r){if(V(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await K(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:an})}catch(r){if(V(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await K(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(V(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await K(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(V(n))return{data:null,error:n};throw n}}}const zw={getItem:e=>Oi()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Oi()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Oi()&&globalThis.localStorage.removeItem(e)}};function uh(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function $w(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const dr={debug:!!(globalThis&&Oi()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class lg extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Uw extends lg{}async function Hw(e,t,n){dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),dr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Uw(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(dr.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}})}$w();const Vw={url:hw,storageKey:fw,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:pw,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},ci=30*1e3,ch=3;async function dh(e,t,n){return await n()}class es{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=es.nextInstanceID,es.nextInstanceID+=1,this.instanceID>0&&kt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},Vw),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Bw({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=ig(i.fetch),this.lock=i.lock||dh,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:kt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Hw:this.lock=dh,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:Oi()?this.storage=zw:(this.memoryStorage={},this.storage=uh(this.memoryStorage)):(this.memoryStorage={},this.storage=uh(this.memoryStorage)),kt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${ng}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const t=kt()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",t),t||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:n,error:r}=await this._getSessionFromURL(t);if(r)return this._debug("#_initialize()","error detecting session from URL",r),(r==null?void 0:r.message)==="Identity is already linked"||(r==null?void 0:r.message)==="Identity is already linked to another user"?{error:r}:(await this._removeSession(),{error:r});const{session:i,redirectType:s}=n;return this._debug("#_initialize()","detected session in URL",i,"redirect type",s),await this._saveSession(i),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return V(t)?{error:t}:{error:new og("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const s=await K(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:en}),{data:o,error:l}=s;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(s){if(V(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var n,r,i;try{let s;if("email"in t){const{email:d,password:h,options:p}=t;let f=null,v=null;this.flowType==="pkce"&&([f,v]=await cr(this.storage,this.storageKey)),s=await K(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:f,code_challenge_method:v},xform:en})}else if("phone"in t){const{phone:d,password:h,options:p}=t;s=await K(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(i=p==null?void 0:p.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:en})}else throw new Rs("You must provide either an email or phone number and a password");const{data:o,error:l}=s;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(s){if(V(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let n;if("email"in t){const{email:s,password:o,options:l}=t;n=await K(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:ah})}else if("phone"in t){const{phone:s,password:o,options:l}=t;n=await K(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:ah})}else throw new Rs("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new zl}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(V(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await As(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/"),{data:s,error:o}=await K(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:en});return await Bl(this.storage,`${this.storageKey}-code-verifier`),o?{data:{user:null,session:null,redirectType:null},error:o}:!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new zl}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:s,nonce:o}=t,l=await K(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:en}),{data:a,error:c}=l;return c?{data:{user:null,session:null},error:c}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new zl}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:c})}catch(n){if(V(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,s,o;try{if("email"in t){const{email:l,options:a}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await cr(this.storage,this.storageKey));const{error:h}=await K(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=a==null?void 0:a.data)!==null&&n!==void 0?n:{},create_user:(r=a==null?void 0:a.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:a}=t,{data:c,error:d}=await K(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=a==null?void 0:a.data)!==null&&i!==void 0?i:{},create_user:(s=a==null?void 0:a.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},channel:(o=a==null?void 0:a.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new Rs("You must provide either an email or phone number.")}catch(l){if(V(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,r;try{let i,s;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,s=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await K(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:en});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const a=o.session,c=o.user;return a!=null&&a.access_token&&(await this._saveSession(a),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(i){if(V(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await cr(this.storage,this.storageKey)),await K(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:Aw})}catch(s){if(V(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new An;const{error:i}=await K(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(V(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:s}=t,{error:o}=await K(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:i,options:s}=t,{data:o,error:l}=await K(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Rs("You must provide either an email or phone number and a type")}catch(n){if(V(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await As(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(a,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(a,c,d))})}return{data:{session:t},error:null}}const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await K(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:an}):await this._useSession(async n=>{var r,i,s;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new An}:await K(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:an})})}catch(n){if(V(n))return{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new An;const o=i.session;let l=null,a=null;this.flowType==="pkce"&&t.email!=null&&([l,a]=await cr(this.storage,this.storageKey));const{data:c,error:d}=await K(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:a}),jwt:o.access_token,xform:an});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(V(r))return{data:{user:null},error:r};throw r}}_decodeJWT(t){return ih(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new An;const n=Date.now()/1e3;let r=n,i=!0,s=null;const o=ih(t.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{session:l,error:a}=await this._callRefreshToken(t.refresh_token);if(a)return{data:{user:null,session:null},error:a};if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:a}=await this._getUser(t.access_token);if(a)throw a;s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(V(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new An;const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(V(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t){try{if(!kt())throw new Fs("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new Fs("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!t)throw new sh("Not a valid PKCE flow url.");const n=Ml(window.location.href);if(t){if(!n.code)throw new sh("No code detected.");const{data:m,error:y}=await this._exchangeCodeForSession(n.code);if(y)throw y;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:m.session,redirectType:null},error:null}}if(n.error||n.error_description||n.error_code)throw new Fs(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:l,expires_at:a,token_type:c}=n;if(!s||!l||!o||!c)throw new Fs("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let p=d+h;a&&(p=parseInt(a));const f=p-d;f*1e3<=ci&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const v=p-h;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,p,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",v,p,d);const{data:x,error:w}=await this._getUser(s);if(w)throw w;const g={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:h,expires_at:p,refresh_token:o,token_type:c,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:n.type},error:null}}catch(n){if(V(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantFlow(){const t=Ml(window.location.href);return!!(kt()&&(t.access_token||t.error_description))}async _isPKCEFlow(){const t=Ml(window.location.href),n=await As(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(Pw(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Bl(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(t){const n=gw(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await cr(this.storage,this.storageKey,!0));try{return await K(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(V(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(V(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var o,l,a,c,d;const{data:h,error:p}=s;if(p)throw p;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:!0});return await K(this.fetch,"GET",f,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return kt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(V(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)throw o;return await K(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(V(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await ww(async i=>(i>0&&await xw(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await K(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:en})),(i,s)=>{const o=200*Math.pow(2,i);return s&&$l(s)&&Date.now()+o-r<ci})}catch(r){if(this._debug(n,"error",r),V(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),kt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await As(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const i=Math.round(Date.now()/1e3),s=((t=r.expires_at)!==null&&t!==void 0?t:1/0)<i+rh;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${rh}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),$l(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new An;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new rl;const{data:s,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!s.session)throw new An;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(i,"error",s),V(s)){const o={session:null,error:s};return $l(s)||(await this._removeSession(),await this._notifyAllSubscribers("SIGNED_OUT",null)),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(a){s.push(a)}});if(await Promise.all(o),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await sg(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Bl(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&kt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ci);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/ci);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${ci}ms, refresh threshold is ${ch} ticks`),i<=ch&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof lg)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!kt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,o]=await cr(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(l.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await K(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(V(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)return{data:null,error:o};const{data:l,error:a}=await K(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:t.friendlyName,factor_type:t.factorType,issuer:t.issuer},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(V(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const{data:o,error:l}=await K(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(V(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await K(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(V(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],i=r.filter(s=>s.factor_type==="totp"&&s.status==="verified");return{data:{all:r,totp:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(i.access_token);let l=null;o.aal&&(l=o.aal);let a=l;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:a,currentAuthenticationMethods:d},error:null}}))}}es.nextInstanceID=0;const Ww=es;class qw extends Ww{constructor(t){super(t)}}var Qw=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?s(d.value):i(d.value).then(l,a)}c((r=r.apply(e,t||[])).next())})};class Kw{constructor(t,n,r){var i,s,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=cw(t);this.realtimeUrl=`${l}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${l}/auth/v1`,this.storageUrl=`${l}/storage/v1`,this.functionsUrl=`${l}/functions/v1`;const a=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:nw,realtime:iw,auth:Object.assign(Object.assign({},rw),{storageKey:a}),global:tw},d=dw(r??{},c);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=d.global.headers)!==null&&s!==void 0?s:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=aw(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},d.realtime)),this.rest=new jx(`${l}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new ex(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Xx(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return Qw(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:s,flowType:o,lock:l,debug:a},c,d){var h;const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new qw({url:this.authUrl,headers:Object.assign(Object.assign({},p),c),storageKey:s,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,flowType:o,lock:l,debug:a,fetch:d,hasCustomAuthorizationHeader:(h="Authorization"in this.headers)!==null&&h!==void 0?h:!1})}_initRealtimeClient(t){return new Mx(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):t==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Jw=(e,t,n)=>new Kw(e,t,n),ag="https://ysuqkwlvbkjhfrqelfzb.supabase.co",Gw="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlzdXFrd2x2YmtqaGZycWVsZnpiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MDQ4NTI1OTcsImV4cCI6MjAyMDQyODU5N30.aqmgb8fSy638Ccdmq_wCAI6h0pADFjn3vszD3bgiYs0",Z=Jw(ag,Gw),un=ag.replace("https://","sb-").replace(".supabase.co","-auth-token");location.hostname==="localhost"&&addEventListener("keydown",e=>{var t,n;e.ctrlKey&&e.key==="k"&&(e.preventDefault(),location.pathname!=="/mubooks"&&(location.pathname="/mubooks"),location.hash.split("/").pop()!=="search"&&(location.hash="#/search")),e.key==="j"?window.scrollBy(0,64):e.key==="k"?window.scrollBy(0,-64):e.key==="/"&&(e.preventDefault(),(t=document.getElementById("search_term"))==null||t.setAttribute("value","harry potter"),(n=document.getElementById("search_term"))==null||n.focus())});function Yw(e){return e.slice(0,8)==="https://"}function tu(e,t=void 0){let n="";return t&&(n="-"+t),e.slice(0,2)==="OL"?"https://covers.openlibrary.org/b/olid/"+e+n+".jpg":"https://covers.openlibrary.org/b/isbn/"+e+n+".jpg"}function Gn(e,t){if(e===void 0)return"./../public/img/save-books-icon.png";let n="";return t?(n="-"+t,e.replace(".jpg",n+".jpg")):e}async function Xw(e){return await fetch("https://openlibrary.org/search.json?q=/works/"+e+"&mode=number_of_pages_median&fields=number_of_pages_median&limit=1").then(n=>n.json()).then(n=>n.docs[0].number_of_pages_median)}const hh=(e,t)=>{let n;return(...r)=>{clearTimeout(n),n=setTimeout(()=>{e(...r)},t)}};function fh(e){const t=document.getElementById(e);try{t.showPicker()}catch(n){t.classList.remove("calendar-hidden"),t.focus(),console.error(n)}}function Zw(e){let t=e.length;for(;t>0;){const n=Math.floor(Math.random()*t);t--,[e[t],e[n]]=[e[n],e[t]]}}function nt(e,t,n=!1){let r;n?r=e.split(/['#','?','&']/):r=e.split(/['?','&']/);for(let i=0;i<r.length;i++)if(r[i].slice(0,t.length)===t)return r[i].split("=")[1];return""}const ph="Add a book",e_=()=>{const{setNavTitle:e}=_.useContext(z);_.useEffect(()=>{e(ph)},[e]);const[t,n]=_.useState("/img/coverless.png"),[r,i]=_.useState([]),[s,o]=_.useState(""),[l,a]=_.useState(""),[c,d]=_.useState(!1);async function h(x){x.preventDefault();const w=x.currentTarget.search_term.value.trim();w.length>4?(d(!0),o(""),await(await fetch("https://openlibrary.org/search.json?q="+w+"&mode=everything&limit=8&fields="+"title,author_name,isbn,cover_edition_key,author_key,edition_key,key,first_publish_year,number_of_pages_median")).json().then(y=>y.docs.filter(S=>S.author_key!==void 0&&S.edition_key!==void 0&&S.isbn!==void 0&&S.cover_edition_key!==void 0)).then(y=>{for(let S=0;S<y.length;S++)y[S].id=y[S].edition_key.slice(0,1).toString(),y[S].title_short=y[S].title.slice(0,45).toString(),y[S].cover=tu(y[S].cover_edition_key);return y.length>30?a("Showing only 30 results. Specify a bit more."):a("Showing "+y.length+" results for "+w+"."),y}).then(y=>i(y)),d(!1)):w.length===0?o(w.length):o("keep typing...")}function p(x){x.preventDefault(),n(x.currentTarget.abCover.value.trim())}const f=u.jsx(u.Fragment,{children:u.jsx("img",{src:t,style:{width:"50%"}})});function v(x){const w=x.currentTarget.value;Yw(w)&&n(x.currentTarget.value.trim())}return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"booksearch",children:[u.jsx("h1",{children:"Search book"}),u.jsxs("form",{onSubmit:h,children:[u.jsx("input",{type:"text",id:"search_term",name:"search_term"}),u.jsx("div",{className:l!==""?"dblock":"dnone",children:l}),u.jsx("div",{className:s!==""?"dblock":"dnone",children:s}),u.jsx("button",{disabled:c,children:c?"Searching...":"Search"})]})]}),u.jsx("div",{className:"booksearchresults",children:r.map((x,w)=>{if(x.id!==void 0){let g;x.title.length>55?g=x.title.slice(0,55)+"...":g=x.title;const m=x.author_name.map((y,S)=>u.jsxs("span",{children:[y,S<x.author_name.length-1&&", "]},"author"+w+S));return u.jsxs("div",{className:"result",children:[u.jsxs("div",{className:"wrapper",children:[u.jsx("img",{src:"img/loep.svg",className:"loep"}),u.jsxs("div",{className:"text",children:[g," ",u.jsxs("em",{className:"sf",children:[" (",x.first_publish_year,")"]}),u.jsx("br",{}),u.jsx("em",{className:"sf cl",children:m})]})]}),u.jsx("img",{src:tu(x.id,"S"),className:"thumbnail"})]},"result"+w)}})}),u.jsx("h1",{children:ph}),u.jsx("form",{onSubmit:p,children:u.jsxs("fieldset",{children:[u.jsx("label",{htmlFor:"abIsbn",children:"ISBN"}),u.jsx("input",{type:"text",id:"abIsbn",name:"abIsbn",required:!0}),u.jsx("label",{htmlFor:"abTitle",children:"Title"}),u.jsx("input",{type:"text",id:"abTitle",name:"abTitle",required:!0}),u.jsxs("label",{htmlFor:"abAuthors",children:["Author(s) ",u.jsx("em",{className:"sf",children:"1 author per line"})]}),u.jsx("textarea",{name:"abAuthors",id:"abAuthors"}),u.jsxs("label",{htmlFor:"abCover",children:["Cover URL ",u.jsx("em",{className:"sf",children:"starts with https://"})]}),u.jsx("input",{type:"url",name:"abCover",id:"abCover",onChange:v}),f,u.jsx("br",{}),u.jsx("br",{}),u.jsx("label",{htmlFor:"abYearPublished",children:"Year published"}),u.jsx("input",{type:"number",name:"abYearPublished",id:"abYearPublished"}),u.jsx("label",{htmlFor:"abPages",children:"Pages"}),u.jsx("input",{type:"number",name:"abPages",id:"abPages"}),u.jsxs("label",{htmlFor:"abTropes",children:["Tropes ",u.jsx("em",{className:"sf",children:"one trope per line"})]}),u.jsx("textarea",{name:"abTropes",id:"abTropes"}),u.jsx("button",{children:"Add book to wishlist"})]})})]})};/**
 * @remix-run/router v1.19.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vr(){return Vr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vr.apply(this,arguments)}var fn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(fn||(fn={}));const mh="popstate";function t_(e){e===void 0&&(e={});function t(i,s){let{pathname:o="/",search:l="",hash:a=""}=tr(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),nu("",{pathname:o,search:l,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let a=i.location.href,c=a.indexOf("#");l=c===-1?a:a.slice(0,c)}return l+"#"+(typeof s=="string"?s:Po(s))}function r(i,s){yc(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return r_(t,n,r,e)}function ve(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function yc(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function n_(){return Math.random().toString(36).substr(2,8)}function gh(e,t){return{usr:e.state,key:e.key,idx:t}}function nu(e,t,n,r){return n===void 0&&(n=null),Vr({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?tr(t):t,{state:n,key:t&&t.key||r||n_()})}function Po(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function tr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function r_(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=fn.Pop,a=null,c=d();c==null&&(c=0,o.replaceState(Vr({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=fn.Pop;let w=d(),g=w==null?null:w-c;c=w,a&&a({action:l,location:x.location,delta:g})}function p(w,g){l=fn.Push;let m=nu(x.location,w,g);n&&n(m,w),c=d()+1;let y=gh(m,c),S=x.createHref(m);try{o.pushState(y,"",S)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(S)}s&&a&&a({action:l,location:x.location,delta:1})}function f(w,g){l=fn.Replace;let m=nu(x.location,w,g);n&&n(m,w),c=d();let y=gh(m,c),S=x.createHref(m);o.replaceState(y,"",S),s&&a&&a({action:l,location:x.location,delta:0})}function v(w){let g=i.location.origin!=="null"?i.location.origin:i.location.href,m=typeof w=="string"?w:Po(w);return m=m.replace(/ $/,"%20"),ve(g,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,g)}let x={get action(){return l},get location(){return e(i,o)},listen(w){if(a)throw new Error("A history only accepts one active listener");return i.addEventListener(mh,h),a=w,()=>{i.removeEventListener(mh,h),a=null}},createHref(w){return t(i,w)},createURL:v,encodeLocation(w){let g=v(w);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:p,replace:f,go(w){return o.go(w)}};return x}var yh;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(yh||(yh={}));function i_(e,t,n){return n===void 0&&(n="/"),s_(e,t,n,!1)}function s_(e,t,n,r){let i=typeof t=="string"?tr(t):t,s=Wr(i.pathname||"/",n);if(s==null)return null;let o=ug(e);o_(o);let l=null;for(let a=0;l==null&&a<o.length;++a){let c=y_(s);l=m_(o[a],c,r)}return l}function ug(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let a={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};a.relativePath.startsWith("/")&&(ve(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(r.length));let c=kn([r,a.relativePath]),d=n.concat(a);s.children&&s.children.length>0&&(ve(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),ug(s.children,t,d,c)),!(s.path==null&&!s.index)&&t.push({path:c,score:f_(c,s.index),routesMeta:d})};return e.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let a of cg(s.path))i(s,o,a)}),t}function cg(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=cg(r.join("/")),l=[];return l.push(...o.map(a=>a===""?s:[s,a].join("/"))),i&&l.push(...o),l.map(a=>e.startsWith("/")&&a===""?"/":a)}function o_(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:p_(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const l_=/^:[\w-]+$/,a_=3,u_=2,c_=1,d_=10,h_=-2,vh=e=>e==="*";function f_(e,t){let n=e.split("/"),r=n.length;return n.some(vh)&&(r+=h_),t&&(r+=u_),n.filter(i=>!vh(i)).reduce((i,s)=>i+(l_.test(s)?a_:s===""?c_:d_),r)}function p_(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function m_(e,t,n){let{routesMeta:r}=e,i={},s="/",o=[];for(let l=0;l<r.length;++l){let a=r[l],c=l===r.length-1,d=s==="/"?t:t.slice(s.length)||"/",h=No({path:a.relativePath,caseSensitive:a.caseSensitive,end:c},d),p=a.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=No({path:a.relativePath,caseSensitive:a.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:kn([s,h.pathname]),pathnameBase:__(kn([s,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(s=kn([s,h.pathnameBase]))}return o}function No(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=g_(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((c,d,h)=>{let{paramName:p,isOptional:f}=d;if(p==="*"){let x=l[h]||"";o=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const v=l[h];return f&&!v?c[p]=void 0:c[p]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:e}}function g_(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),yc(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,a)=>(r.push({paramName:l,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function y_(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return yc(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Wr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function v_(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?tr(e):e;return{pathname:n?n.startsWith("/")?n:x_(n,t):t,search:k_(r),hash:S_(i)}}function x_(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Ul(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function w_(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function dg(e,t){let n=w_(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function hg(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=tr(e):(i=Vr({},e),ve(!i.pathname||!i.pathname.includes("?"),Ul("?","pathname","search",i)),ve(!i.pathname||!i.pathname.includes("#"),Ul("#","pathname","hash",i)),ve(!i.search||!i.search.includes("#"),Ul("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let h=t.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}l=h>=0?t[h]:"/"}let a=v_(i,l),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(c||d)&&(a.pathname+="/"),a}const kn=e=>e.join("/").replace(/\/\/+/g,"/"),__=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),k_=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,S_=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,j_=function(t,n){n===void 0&&(n=302);let r=n;typeof r=="number"?r={status:r}:typeof r.status>"u"&&(r.status=302);let i=new Headers(r.headers);return i.set("Location",t),new Response(null,Vr({},r,{headers:i}))};function C_(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const fg=["post","put","patch","delete"];new Set(fg);const E_=["get",...fg];new Set(E_);/**
 * React Router v6.26.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ts(){return ts=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ts.apply(this,arguments)}const il=_.createContext(null),pg=_.createContext(null),Pn=_.createContext(null),sl=_.createContext(null),nr=_.createContext({outlet:null,matches:[],isDataRoute:!1}),mg=_.createContext(null);function b_(e,t){let{relative:n}=t===void 0?{}:t;ds()||ve(!1);let{basename:r,navigator:i}=_.useContext(Pn),{hash:s,pathname:o,search:l}=ol(e,{relative:n}),a=o;return r!=="/"&&(a=o==="/"?r:kn([r,o])),i.createHref({pathname:a,search:l,hash:s})}function ds(){return _.useContext(sl)!=null}function hs(){return ds()||ve(!1),_.useContext(sl).location}function gg(e){_.useContext(Pn).static||_.useLayoutEffect(e)}function ut(){let{isDataRoute:e}=_.useContext(nr);return e?z_():T_()}function T_(){ds()||ve(!1);let e=_.useContext(il),{basename:t,future:n,navigator:r}=_.useContext(Pn),{matches:i}=_.useContext(nr),{pathname:s}=hs(),o=JSON.stringify(dg(i,n.v7_relativeSplatPath)),l=_.useRef(!1);return gg(()=>{l.current=!0}),_.useCallback(function(c,d){if(d===void 0&&(d={}),!l.current)return;if(typeof c=="number"){r.go(c);return}let h=hg(c,JSON.parse(o),s,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:kn([t,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[t,r,o,s,e])}function ol(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=_.useContext(Pn),{matches:i}=_.useContext(nr),{pathname:s}=hs(),o=JSON.stringify(dg(i,r.v7_relativeSplatPath));return _.useMemo(()=>hg(e,JSON.parse(o),s,n==="path"),[e,o,s,n])}function P_(e,t){return N_(e,t)}function N_(e,t,n,r){ds()||ve(!1);let{navigator:i}=_.useContext(Pn),{matches:s}=_.useContext(nr),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let c=hs(),d;if(t){var h;let w=typeof t=="string"?tr(t):t;a==="/"||(h=w.pathname)!=null&&h.startsWith(a)||ve(!1),d=w}else d=c;let p=d.pathname||"/",f=p;if(a!=="/"){let w=a.replace(/^\//,"").split("/");f="/"+p.replace(/^\//,"").split("/").slice(w.length).join("/")}let v=i_(e,{pathname:f}),x=R_(v&&v.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:kn([a,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?a:kn([a,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),s,n,r);return t&&x?_.createElement(sl.Provider,{value:{location:ts({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:fn.Pop}},x):x}function I_(){let e=B_(),t=C_(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),n?_.createElement("pre",{style:i},n):null,null)}const O_=_.createElement(I_,null);class L_ extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?_.createElement(nr.Provider,{value:this.props.routeContext},_.createElement(mg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function A_(e){let{routeContext:t,match:n,children:r}=e,i=_.useContext(il);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),_.createElement(nr.Provider,{value:t},r)}function R_(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(i=n)==null?void 0:i.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||ve(!1),o=o.slice(0,Math.min(o.length,d+1))}let a=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:p,errors:f}=n,v=h.route.loader&&p[h.route.id]===void 0&&(!f||f[h.route.id]===void 0);if(h.route.lazy||v){a=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,h,p)=>{let f,v=!1,x=null,w=null;n&&(f=l&&h.route.id?l[h.route.id]:void 0,x=h.route.errorElement||O_,a&&(c<0&&p===0?(v=!0,w=null):c===p&&(v=!0,w=h.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,p+1)),m=()=>{let y;return f?y=x:v?y=w:h.route.Component?y=_.createElement(h.route.Component,null):h.route.element?y=h.route.element:y=d,_.createElement(A_,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:n!=null},children:y})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?_.createElement(L_,{location:n.location,revalidation:n.revalidation,component:x,error:f,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()},null)}var yg=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(yg||{}),Io=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Io||{});function F_(e){let t=_.useContext(il);return t||ve(!1),t}function D_(e){let t=_.useContext(pg);return t||ve(!1),t}function M_(e){let t=_.useContext(nr);return t||ve(!1),t}function vg(e){let t=M_(),n=t.matches[t.matches.length-1];return n.route.id||ve(!1),n.route.id}function B_(){var e;let t=_.useContext(mg),n=D_(Io.UseRouteError),r=vg(Io.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function z_(){let{router:e}=F_(yg.UseNavigateStable),t=vg(Io.UseNavigateStable),n=_.useRef(!1);return gg(()=>{n.current=!0}),_.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,ts({fromRouteId:t},s)))},[e,t])}function de(e){ve(!1)}function $_(e){let{basename:t="/",children:n=null,location:r,navigationType:i=fn.Pop,navigator:s,static:o=!1,future:l}=e;ds()&&ve(!1);let a=t.replace(/^\/*/,"/"),c=_.useMemo(()=>({basename:a,navigator:s,static:o,future:ts({v7_relativeSplatPath:!1},l)}),[a,l,s,o]);typeof r=="string"&&(r=tr(r));let{pathname:d="/",search:h="",hash:p="",state:f=null,key:v="default"}=r,x=_.useMemo(()=>{let w=Wr(d,a);return w==null?null:{location:{pathname:w,search:h,hash:p,state:f,key:v},navigationType:i}},[a,d,h,p,f,v,i]);return x==null?null:_.createElement(Pn.Provider,{value:c},_.createElement(sl.Provider,{children:n,value:x}))}function U_(e){let{children:t,location:n}=e;return P_(ru(t),n)}new Promise(()=>{});function ru(e,t){t===void 0&&(t=[]);let n=[];return _.Children.forEach(e,(r,i)=>{if(!_.isValidElement(r))return;let s=[...t,i];if(r.type===_.Fragment){n.push.apply(n,ru(r.props.children,s));return}r.type!==de&&ve(!1),!r.props.index||!r.props.children||ve(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=ru(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.26.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Oo(){return Oo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Oo.apply(this,arguments)}function xg(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function H_(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function V_(e,t){return e.button===0&&(!t||t==="_self")&&!H_(e)}const W_=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],q_=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],Q_="6";try{window.__reactRouterVersion=Q_}catch{}const K_=_.createContext({isTransitioning:!1}),J_="startTransition",xh=Ry[J_];function G_(e){let{basename:t,children:n,future:r,window:i}=e,s=_.useRef();s.current==null&&(s.current=t_({window:i,v5Compat:!0}));let o=s.current,[l,a]=_.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=_.useCallback(h=>{c&&xh?xh(()=>a(h)):a(h)},[a,c]);return _.useLayoutEffect(()=>o.listen(d),[o,d]),_.createElement($_,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const Y_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",X_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ee=_.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:a,to:c,preventScrollReset:d,unstable_viewTransition:h}=t,p=xg(t,W_),{basename:f}=_.useContext(Pn),v,x=!1;if(typeof c=="string"&&X_.test(c)&&(v=c,Y_))try{let y=new URL(window.location.href),S=c.startsWith("//")?new URL(y.protocol+c):new URL(c),E=Wr(S.pathname,f);S.origin===y.origin&&E!=null?c=E+S.search+S.hash:x=!0}catch{}let w=b_(c,{relative:i}),g=ek(c,{replace:o,state:l,target:a,preventScrollReset:d,relative:i,unstable_viewTransition:h});function m(y){r&&r(y),y.defaultPrevented||g(y)}return _.createElement("a",Oo({},p,{href:v||w,onClick:x||s?r:m,ref:n,target:a}))}),Me=_.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:l,to:a,unstable_viewTransition:c,children:d}=t,h=xg(t,q_),p=ol(a,{relative:h.relative}),f=hs(),v=_.useContext(pg),{navigator:x,basename:w}=_.useContext(Pn),g=v!=null&&tk(p)&&c===!0,m=x.encodeLocation?x.encodeLocation(p).pathname:p.pathname,y=f.pathname,S=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;i||(y=y.toLowerCase(),S=S?S.toLowerCase():null,m=m.toLowerCase()),S&&w&&(S=Wr(S,w)||S);const E=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let C=y===m||!o&&y.startsWith(m)&&y.charAt(E)==="/",T=S!=null&&(S===m||!o&&S.startsWith(m)&&S.charAt(m.length)==="/"),P={isActive:C,isPending:T,isTransitioning:g},F=C?r:void 0,A;typeof s=="function"?A=s(P):A=[s,C?"active":null,T?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let D=typeof l=="function"?l(P):l;return _.createElement(ee,Oo({},h,{"aria-current":F,className:A,ref:n,style:D,to:a,unstable_viewTransition:c}),typeof d=="function"?d(P):d)});var iu;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(iu||(iu={}));var wh;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(wh||(wh={}));function Z_(e){let t=_.useContext(il);return t||ve(!1),t}function ek(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:l}=t===void 0?{}:t,a=ut(),c=hs(),d=ol(e,{relative:o});return _.useCallback(h=>{if(V_(h,n)){h.preventDefault();let p=r!==void 0?r:Po(c)===Po(d);a(e,{replace:p,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:l})}},[c,a,d,r,i,n,e,s,o,l])}function tk(e,t){t===void 0&&(t={});let n=_.useContext(K_);n==null&&ve(!1);let{basename:r}=Z_(iu.useViewTransitionState),i=ol(e,{relative:t.relative});if(!n.isTransitioning)return!1;let s=Wr(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Wr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return No(i.pathname,o)!=null||No(i.pathname,s)!=null}const nk=()=>{const e=ut();return setTimeout(()=>{e("/account/login")},2e3),u.jsxs(u.Fragment,{children:[u.jsxs("h1",{children:["Your account is confirmed ",u.jsx("sub",{children:"You can now log in."})]}),u.jsx("p",{children:"Redirecting to the login screen..."})]})},rk="Reset password page",ik=()=>{const{userIsLoggedIn:e,setPopupNotification:t,setPopupNotificationShow:n,setNavTitle:r}=_.useContext(z);_.useEffect(()=>{r(rk)},[r]);const i=ut(),[s,o]=_.useState("");e&&i("/dashboard");const[l,a]=_.useState(!0);async function c(){const f=nt(window.location.href,"token"),v=nt(window.location.href,"type"),x=nt(window.location.href,"email");if(v==="recovery"&&f!==null){const{data:w,error:g}=await Z.auth.verifyOtp({email:x,token:f,type:"email"});g?o(g.message):localStorage.setItem("supabaseSession",JSON.stringify(w.session)),a(!1)}}_.useEffect(()=>{l&&(c(),a(!1))},[l]);function d(){setTimeout(()=>i("/dashboard"),1e3)}const h=async f=>{const{error:v}=await Z.auth.updateUser({password:f});v?o(v.message):(t("Password updated..."),n(!0),setTimeout(()=>d(),800))};function p(f){if(f.preventDefault(),f.currentTarget.account_password.value===f.currentTarget.account_password_again.value){const v=f.currentTarget.account_password.value.trim();h(v)}else o("Passwords do not match, try again")}return l?u.jsx("p",{children:"Loading..."}):u.jsxs(u.Fragment,{children:[u.jsxs("h1",{id:"welcome",children:[u.jsx("img",{id:"welcome-logo-img",src:"img/logo.svg",alt:""})," MuBooks"]}),u.jsx("div",{children:u.jsxs("div",{className:"card",children:[u.jsxs("header",{children:["Reset your password",u.jsx("sub",{children:"Fill in your new password twice and submit to activate it"})]}),u.jsx("main",{children:u.jsxs("form",{onSubmit:p,children:[u.jsxs("label",{htmlFor:"account_password",children:[u.jsx("div",{className:"description",children:"New password"}),u.jsx("input",{type:"password",id:"account_password",name:"account_password",defaultValue:"",required:!0})]}),u.jsxs("label",{htmlFor:"account_password",children:[u.jsx("div",{className:"description",children:"New password again"}),u.jsx("input",{type:"password",id:"account_password_again",name:"account_password_again",defaultValue:"",required:!0})]}),u.jsxs("div",{className:s!==""?"dblock error":"dblock",children:[s," "]}),u.jsx("button",{children:"Save new password and login"})]})}),u.jsx("footer",{children:u.jsx(ee,{to:"/account/login",children:"Login without changing password."})})]})})]})},sk=()=>{const{usermail:e}=_.useContext(z),t=e;return u.jsxs(u.Fragment,{children:[u.jsx("h1",{children:"Check your email"}),u.jsxs("p",{children:["You should receive an email on ",u.jsx("strong",{children:u.jsx("u",{children:t})})," containing a link to confirm your account, click it."]})]})},ok="Check Mail Password Page",lk=()=>{const{usermail:e,userIsLoggedIn:t,setNavTitle:n}=_.useContext(z),r=e;return _.useEffect(()=>{n(ok),t&&j_("/dashboard")},[n,t]),e!==""&&!t?u.jsxs(u.Fragment,{children:[u.jsx("h1",{children:"Check your email"}),u.jsxs("p",{children:[u.jsx("span",{children:"You should receive an email on"})," ",u.jsx("strong",{children:u.jsx("u",{children:r})}),u.jsx("span",{children:" containing a link to reset your password, click it."})]})]}):t?u.jsxs(u.Fragment,{children:[u.jsx("h1",{children:"Not so fast!"}),u.jsxs("p",{children:["You're already logged in, do you want to ",u.jsx(ee,{to:"/dashboard",children:"return to your dashboard"})," or see ",u.jsx(ee,{to:"/account/profile",children:"your profile here"}),"?"]})]}):u.jsxs(u.Fragment,{children:[u.jsx("h1",{children:"New here?"}),u.jsxs("p",{children:["Are you trying to reset your password or log in?",u.jsx("br",{}),u.jsx(ee,{to:"/account/login",children:"Click here to go to the login screen"}),"."]})]})};async function ak(e){const{setUserMyBooks:t,setPopupNotification:n,userid:r}=_.useContext(z);let i;t(e);const{error:s}=await Z.from("user_entries").update({json:e}).eq("user_id",r).select();s?(i="Error, data was not changed",console.log("error:",s)):i="Updated Mu Books.",n(i)}const uk="Clear all saved books",ck=()=>{const{setUserMyBooks:e,setNavTitle:t}=_.useContext(z);_.useEffect(()=>{t(uk)},[t]);function n(){ak([]),e([])}return u.jsx(u.Fragment,{children:u.jsx("button",{onClick:n,children:"Clear my books"})})},dk=()=>{const{userMyBooks:e}=_.useContext(z),t=e.filter(l=>l.review_fav_quote&&l.review_fav_quote.length>4&&l.author_name&&l.title),[n,r]=_.useState(!1),i=Math.floor(Math.random()*t.length),[s,o]=_.useState();return _.useEffect(()=>{t[i]&&n===!1&&(o({title:t[i].title,quote:t[i].review_fav_quote,authors:t[i].author_name.join(",")}),r(!0))},[i,t,n]),u.jsx(u.Fragment,{children:s&&u.jsxs("article",{className:"quote",children:[u.jsx("main",{children:s.quote&&s.quote}),u.jsxs("footer",{children:[s.title,", ",s.authors]})]})})},Li=e=>e===void 0?(console.log("aint got no listid, see? ",e),"nada"):e===1?"wishlist":e===2?"reading":e===3?"finished":e===4?"favorite":(console.error("No list name? There must be something wrong...",e),"none");function cn(e,t){const n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];let r,i=0,s="",o=0,l=0;typeof e=="number"&&e<22221100?(r=e.toString().split(""),i=+(r[4]+""+r[5]),o=+(r[0]+""+r[1]+r[2]+r[3]),l=+(r[6]+""+r[7]),s=n[i-1]):typeof e=="number"&&e>22221100?(r=new Date(e),i=r.getMonth()+1,o=r.getFullYear(),l=r.getDate(),s=n[i]):typeof e=="string"&&(r=e.split("-"),i=Number(r[1]),o=Number(r[0]),l=Number(r[2]),s=n[i-1]);let a=l,c=i;switch(Number(a)<10&&(a="0"+l.toString()),Number(c)<10&&(c="0"+i.toString()),t){case"human":return l+" "+s+" "+o;case"digit":return o+""+c+a;case"input":return o+"-"+c+"-"+a}}function su(e,t){if(e!==void 0){const n=new Date(e),r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],i=n.getFullYear(),s=n.getMonth()+1,o=r[s],l=n.getDate();let a=l,c=s;switch(a<10&&(a="0"+l.toString()),c<10&&(c="0"+s.toString()),t){case"input":return i+"-"+c+"-"+a;case"human":return l+" "+o+" "+i;case"digit":return i+""+c+a}}return""}const di=({book_id:e,book_list:t,book_title:n,book_title_short:r,book_author_key:i,book_author_name:s,book_cover:o,book_cover_edition_key:l,book_first_publish_year:a,book_img:c,book_number_of_pages_median:d,targetList:h,icon:p=!1,button_title:f=""})=>{const{userid:v,userMyBooks:x,setUserMyBooks:w,setPopupNotification:g}=_.useContext(z);f===""&&(f=`Add to ${Li(h)}`);const m={id:e,list:t,title:n,title_short:r,author_key:i,author_name:s,cover:o,cover_edition_key:l,first_publish_year:a,img:c,number_of_pages_median:d};function y(P=t){n.length>55?r=n.slice(0,55)+"...":r=n;let F=x;const A=Number(cn(Date.now(),"digit"));let D=0;h>1&&(D=A);let O=0;return h>2&&(O=A),F===null&&(F=[]),F.push({author_key:i,author_name:s,cover:o,cover_edition_key:l,date_finished:O,date_reading:D,first_publish_year:a,id:e,img:m.img,list:P,number_of_pages_median:d,rate_spice:0,rate_stars:0,review_fav_quote:"",review_text:"",review_tropes:[],title:n,title_short:r}),F}async function S(P){let F;w(P);const{error:A}=await Z.from("user_entries").update({json:P,testdata:"updated from AddBookToXButton"}).eq("user_id",v).select("*");A?F=A.message:F="Added "+r+" to "+Li(h),g(F)}function E(P){let F;x===void 0?F=[]:F=x;let A=!1;for(let O=0;O<F.length;O++)F[O].id===e&&(A=!0,F[O].list=P,P===2&&(F[O].date_reading=Number(su(Date.now(),"digit"))),P===3&&(F[O].date_finished=Number(su(Date.now(),"digit"))),console.log("reading to add",F[O].date_reading),console.log("finished to add",F[O].date_finished));let D;return A===!1?D=y(P):D=F,S(D),D}function C(){const P=E(h);w(P)}const T="icon icon-"+Li(h);return p&&h===4?u.jsx("span",{className:"icon-heart inactive",onClick:()=>C()}):u.jsx("div",{className:"mark",children:u.jsxs("button",{className:"btn-text",onClick:()=>C(),children:[u.jsx("span",{className:T}),f]})})},hi=({book_id:e,book_list:t,book_title_short:n,targetList:r,icon:i=!1})=>{const{userid:s,userMyBooks:o,setUserMyBooks:l,setPopupNotification:a}=_.useContext(z);function c(p){let f;if(o===void 0?f=[]:f=o,t===4){for(let x=0;x<f.length;x++)if(f[x].id===p){f[x].list=3;break}}else if(t===3){for(let x=0;x<f.length;x++)if(f[x].id===p){f[x].list=2,f[x].date_finished=void 0;break}}else{let x=0;for(let w=0;w<f.length;w++)if(f[w].id===p){t=0,x=w;break}f.splice(x,1)}const v=f;return h(v),v}function d(){const p=c(e);l(p)}async function h(p){let f;l(p);const{error:v}=await Z.from("user_entries").update({json:p,testdata:"updated from RemoveBookFromXButton"}).eq("user_id",s).select("*");v?f=v.message:f="Removed "+n+" from "+Li(r),a(f)}return i&&r===4?u.jsx("span",{className:"icon-heart active",onClick:d}):u.jsx("div",{className:"mark",children:u.jsxs("button",{className:"btn-text",onClick:d,children:[u.jsx("span",{className:"icon icon-remove"}),"Remove from ",Li(r)]})})},_h=({book:e,currentPage:t,limit:n})=>{if(n>0){if(n===4&&e.list>2)return u.jsx(u.Fragment,{children:e.list===n?u.jsx(hi,{book_id:e.id,book_title_short:e.title_short,book_list:n,targetList:e.list,icon:!0}):u.jsx(di,{book_id:e.id,book_list:e.list,book_title:e.title,book_title_short:e.title_short,book_author_key:e.author_key,book_author_name:e.author_name,book_cover:e.cover,book_cover_edition_key:e.cover_edition_key,book_first_publish_year:e.first_publish_year,book_img:e.img,book_number_of_pages_median:e.number_of_pages_median,targetList:n,icon:!0})})}else return u.jsxs(u.Fragment,{children:[!e.list&&u.jsx(di,{book_id:e.id,book_list:e.list,book_title:e.title,book_title_short:e.title_short,book_author_key:e.author_key,book_author_name:e.author_name,book_cover:e.cover,book_cover_edition_key:e.cover_edition_key,book_first_publish_year:e.first_publish_year,book_img:e.img,book_number_of_pages_median:e.number_of_pages_median,targetList:1,icon:!0}),(e.list===1||t==="search"&&(e.list<2||!e.list))&&u.jsx(di,{book_id:e.id,book_list:e.list,book_title:e.title,book_title_short:e.title_short,book_author_key:e.author_key,book_author_name:e.author_name,book_cover:e.cover,book_cover_edition_key:e.cover_edition_key,book_first_publish_year:e.first_publish_year,book_img:e.img,book_number_of_pages_median:e.number_of_pages_median,targetList:2,icon:!0,button_title:"Start reading"}),(e.list===2||t==="search"&&e.list<3)&&u.jsx(di,{book_id:e.id,book_list:e.list,book_title:e.title,book_title_short:e.title_short,book_author_key:e.author_key,book_author_name:e.author_name,book_cover:e.cover,book_cover_edition_key:e.cover_edition_key,book_first_publish_year:e.first_publish_year,book_img:e.img,book_number_of_pages_median:e.number_of_pages_median,targetList:3,icon:!0,button_title:"Finish reading"}),(e.list===3||t==="search"&&e.list!==4)&&u.jsx(di,{book_id:e.id,book_list:e.list,book_title:e.title,book_title_short:e.title_short,book_author_key:e.author_key,book_author_name:e.author_name,book_cover:e.cover,book_cover_edition_key:e.cover_edition_key,book_first_publish_year:e.first_publish_year,book_img:e.img,book_number_of_pages_median:e.number_of_pages_median,targetList:4,icon:!0,button_title:"Mark as favorite"}),e.list===1&&u.jsx(hi,{book_id:e.id,book_list:e.list,book_title_short:e.title_short,targetList:1,icon:!0}),e.list===2&&u.jsx(hi,{book_id:e.id,book_list:e.list,book_title_short:e.title_short,targetList:e.list,icon:!0}),(e.list===3||e.list===4)&&u.jsx(hi,{book_id:e.id,book_list:e.list,book_title_short:e.title_short,targetList:3,icon:!0}),e.list===4&&u.jsx(hi,{book_id:e.id,book_list:e.list,book_title_short:e.title_short,targetList:4,icon:!0})]})},hk=({date_started:e,date_finished:t,book_id:n,list:r})=>{const{userMyBooks:i,setUserMyBooks:s,setPopupNotification:o,userid:l,todaysDateInput:a}=_.useContext(z),[c,d]=_.useState(e),[h,p]=_.useState(t);async function f(w){let g;s(w);const{error:m}=await Z.from("user_entries").update({json:w}).eq("user_id",l).select();m?(g="Error, date was not changed",console.log("error:",m)):g="Changed the date.",o(g)}function v(w,g){w==="date_reading"?d(g):w==="date_finished"&&p(g);let m;i===void 0?m=[]:m=i;for(let S=0;S<m.length;S++)m[S].id===n&&(w==="date_reading"&&(m[S].date_reading=g),w==="date_finished"&&(m[S].date_finished=g,m[S].date_finished===null&&m[S].list>2&&(m[S].list=2)));f(m)}function x(w){if(document.getElementById(w+n)===null)return;const g=w+n,m=document.getElementById(g).value.split("-"),y=parseInt(m[0]+m[1]+m[2],10);v(w,y)}return _.useEffect(()=>{c&&(document.getElementById("date_reading"+n).value=cn(c,"input")),h&&(document.getElementById("date_finished"+n).value=cn(h,"input"))},[c,h,n]),u.jsx("div",{className:"book-started-finished",children:u.jsxs("div",{children:[u.jsxs("em",{className:"btn-text",children:[u.jsx("span",{className:"icon icon-reading"}),u.jsx("button",{className:"btn-calendar btn-text",onClick:()=>fh("date_reading"+n),children:c&&cn(c,"human")})]}),u.jsx("input",{tabIndex:-1,id:"date_reading"+n,name:"date_reading"+n,type:"date",max:a,className:"calendar-hidden",onChange:hh(()=>x("date_reading"),100)}),r>2&&u.jsxs(u.Fragment,{children:[u.jsxs("em",{className:"btn-text",children:[u.jsx("span",{className:"icon icon-finished"}),u.jsx("button",{className:"btn-calendar btn-text",onClick:()=>fh("date_finished"+n),children:h&&cn(h,"human")})]}),u.jsx("input",{tabIndex:-1,id:"date_finished"+n,name:"date_finished"+n,type:"date",min:e&&cn(e,"input"),max:a,className:"calendar-hidden",onChange:hh(()=>x("date_finished"),1e3)})]})]})})};function fk(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const pk=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,mk=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,gk={};function kh(e,t){return(gk.jsx?mk:pk).test(e)}const yk=/[ \t\n\f\r]/g;function vk(e){return typeof e=="object"?e.type==="text"?Sh(e.value):!1:Sh(e)}function Sh(e){return e.replace(yk,"")===""}class fs{constructor(t,n,r){this.property=t,this.normal=n,r&&(this.space=r)}}fs.prototype.property={};fs.prototype.normal={};fs.prototype.space=null;function wg(e,t){const n={},r={};let i=-1;for(;++i<e.length;)Object.assign(n,e[i].property),Object.assign(r,e[i].normal);return new fs(n,r,t)}function ou(e){return e.toLowerCase()}class vt{constructor(t,n){this.property=t,this.attribute=n}}vt.prototype.space=null;vt.prototype.boolean=!1;vt.prototype.booleanish=!1;vt.prototype.overloadedBoolean=!1;vt.prototype.number=!1;vt.prototype.commaSeparated=!1;vt.prototype.spaceSeparated=!1;vt.prototype.commaOrSpaceSeparated=!1;vt.prototype.mustUseProperty=!1;vt.prototype.defined=!1;let xk=0;const H=rr(),ke=rr(),_g=rr(),I=rr(),se=rr(),Or=rr(),Ze=rr();function rr(){return 2**++xk}const lu=Object.freeze(Object.defineProperty({__proto__:null,boolean:H,booleanish:ke,commaOrSpaceSeparated:Ze,commaSeparated:Or,number:I,overloadedBoolean:_g,spaceSeparated:se},Symbol.toStringTag,{value:"Module"})),Hl=Object.keys(lu);class vc extends vt{constructor(t,n,r,i){let s=-1;if(super(t,n),jh(this,"space",i),typeof r=="number")for(;++s<Hl.length;){const o=Hl[s];jh(this,Hl[s],(r&lu[o])===lu[o])}}}vc.prototype.defined=!0;function jh(e,t,n){n&&(e[t]=n)}const wk={}.hasOwnProperty;function Gr(e){const t={},n={};let r;for(r in e.properties)if(wk.call(e.properties,r)){const i=e.properties[r],s=new vc(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[ou(r)]=r,n[ou(s.attribute)]=r}return new fs(t,n,e.space)}const kg=Gr({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),Sg=Gr({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function jg(e,t){return t in e?e[t]:t}function Cg(e,t){return jg(e,t.toLowerCase())}const Eg=Gr({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:Cg,properties:{xmlns:null,xmlnsXLink:null}}),bg=Gr({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:ke,ariaAutoComplete:null,ariaBusy:ke,ariaChecked:ke,ariaColCount:I,ariaColIndex:I,ariaColSpan:I,ariaControls:se,ariaCurrent:null,ariaDescribedBy:se,ariaDetails:null,ariaDisabled:ke,ariaDropEffect:se,ariaErrorMessage:null,ariaExpanded:ke,ariaFlowTo:se,ariaGrabbed:ke,ariaHasPopup:null,ariaHidden:ke,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:se,ariaLevel:I,ariaLive:null,ariaModal:ke,ariaMultiLine:ke,ariaMultiSelectable:ke,ariaOrientation:null,ariaOwns:se,ariaPlaceholder:null,ariaPosInSet:I,ariaPressed:ke,ariaReadOnly:ke,ariaRelevant:null,ariaRequired:ke,ariaRoleDescription:se,ariaRowCount:I,ariaRowIndex:I,ariaRowSpan:I,ariaSelected:ke,ariaSetSize:I,ariaSort:null,ariaValueMax:I,ariaValueMin:I,ariaValueNow:I,ariaValueText:null,role:null}}),_k=Gr({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:Cg,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Or,acceptCharset:se,accessKey:se,action:null,allow:null,allowFullScreen:H,allowPaymentRequest:H,allowUserMedia:H,alt:null,as:null,async:H,autoCapitalize:null,autoComplete:se,autoFocus:H,autoPlay:H,blocking:se,capture:null,charSet:null,checked:H,cite:null,className:se,cols:I,colSpan:null,content:null,contentEditable:ke,controls:H,controlsList:se,coords:I|Or,crossOrigin:null,data:null,dateTime:null,decoding:null,default:H,defer:H,dir:null,dirName:null,disabled:H,download:_g,draggable:ke,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:H,formTarget:null,headers:se,height:I,hidden:H,high:I,href:null,hrefLang:null,htmlFor:se,httpEquiv:se,id:null,imageSizes:null,imageSrcSet:null,inert:H,inputMode:null,integrity:null,is:null,isMap:H,itemId:null,itemProp:se,itemRef:se,itemScope:H,itemType:se,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:H,low:I,manifest:null,max:null,maxLength:I,media:null,method:null,min:null,minLength:I,multiple:H,muted:H,name:null,nonce:null,noModule:H,noValidate:H,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:H,optimum:I,pattern:null,ping:se,placeholder:null,playsInline:H,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:H,referrerPolicy:null,rel:se,required:H,reversed:H,rows:I,rowSpan:I,sandbox:se,scope:null,scoped:H,seamless:H,selected:H,shadowRootClonable:H,shadowRootDelegatesFocus:H,shadowRootMode:null,shape:null,size:I,sizes:null,slot:null,span:I,spellCheck:ke,src:null,srcDoc:null,srcLang:null,srcSet:null,start:I,step:null,style:null,tabIndex:I,target:null,title:null,translate:null,type:null,typeMustMatch:H,useMap:null,value:ke,width:I,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:se,axis:null,background:null,bgColor:null,border:I,borderColor:null,bottomMargin:I,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:H,declare:H,event:null,face:null,frame:null,frameBorder:null,hSpace:I,leftMargin:I,link:null,longDesc:null,lowSrc:null,marginHeight:I,marginWidth:I,noResize:H,noHref:H,noShade:H,noWrap:H,object:null,profile:null,prompt:null,rev:null,rightMargin:I,rules:null,scheme:null,scrolling:ke,standby:null,summary:null,text:null,topMargin:I,valueType:null,version:null,vAlign:null,vLink:null,vSpace:I,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:H,disableRemotePlayback:H,prefix:null,property:null,results:I,security:null,unselectable:null}}),kk=Gr({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:jg,properties:{about:Ze,accentHeight:I,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:I,amplitude:I,arabicForm:null,ascent:I,attributeName:null,attributeType:null,azimuth:I,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:I,by:null,calcMode:null,capHeight:I,className:se,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:I,diffuseConstant:I,direction:null,display:null,dur:null,divisor:I,dominantBaseline:null,download:H,dx:null,dy:null,edgeMode:null,editable:null,elevation:I,enableBackground:null,end:null,event:null,exponent:I,externalResourcesRequired:null,fill:null,fillOpacity:I,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Or,g2:Or,glyphName:Or,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:I,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:I,horizOriginX:I,horizOriginY:I,id:null,ideographic:I,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:I,k:I,k1:I,k2:I,k3:I,k4:I,kernelMatrix:Ze,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:I,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:I,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:I,overlineThickness:I,paintOrder:null,panose1:null,path:null,pathLength:I,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:se,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:I,pointsAtY:I,pointsAtZ:I,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Ze,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Ze,rev:Ze,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Ze,requiredFeatures:Ze,requiredFonts:Ze,requiredFormats:Ze,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:I,specularExponent:I,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:I,strikethroughThickness:I,string:null,stroke:null,strokeDashArray:Ze,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:I,strokeOpacity:I,strokeWidth:null,style:null,surfaceScale:I,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Ze,tabIndex:I,tableValues:null,target:null,targetX:I,targetY:I,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Ze,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:I,underlineThickness:I,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:I,values:null,vAlphabetic:I,vMathematical:I,vectorEffect:null,vHanging:I,vIdeographic:I,version:null,vertAdvY:I,vertOriginX:I,vertOriginY:I,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:I,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),Sk=/^data[-\w.:]+$/i,Ch=/-[a-z]/g,jk=/[A-Z]/g;function Ck(e,t){const n=ou(t);let r=t,i=vt;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Sk.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(Ch,bk);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!Ch.test(s)){let o=s.replace(jk,Ek);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=vc}return new i(r,t)}function Ek(e){return"-"+e.toLowerCase()}function bk(e){return e.charAt(1).toUpperCase()}const Tk={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Pk=wg([Sg,kg,Eg,bg,_k],"html"),xc=wg([Sg,kg,Eg,bg,kk],"svg");function Nk(e){return e.join(" ").trim()}var Tg={},Eh=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,Ik=/\n/g,Ok=/^\s*/,Lk=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,Ak=/^:\s*/,Rk=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Fk=/^[;\s]*/,Dk=/^\s+|\s+$/g,Mk=`
`,bh="/",Th="*",Bn="",Bk="comment",zk="declaration",$k=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(v){var x=v.match(Ik);x&&(n+=x.length);var w=v.lastIndexOf(Mk);r=~w?v.length-w:r+v.length}function s(){var v={line:n,column:r};return function(x){return x.position=new o(v),c(),x}}function o(v){this.start=v,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function l(v){var x=new Error(t.source+":"+n+":"+r+": "+v);if(x.reason=v,x.filename=t.source,x.line=n,x.column=r,x.source=e,!t.silent)throw x}function a(v){var x=v.exec(e);if(x){var w=x[0];return i(w),e=e.slice(w.length),x}}function c(){a(Ok)}function d(v){var x;for(v=v||[];x=h();)x!==!1&&v.push(x);return v}function h(){var v=s();if(!(bh!=e.charAt(0)||Th!=e.charAt(1))){for(var x=2;Bn!=e.charAt(x)&&(Th!=e.charAt(x)||bh!=e.charAt(x+1));)++x;if(x+=2,Bn===e.charAt(x-1))return l("End of comment missing");var w=e.slice(2,x-2);return r+=2,i(w),e=e.slice(x),r+=2,v({type:Bk,comment:w})}}function p(){var v=s(),x=a(Lk);if(x){if(h(),!a(Ak))return l("property missing ':'");var w=a(Rk),g=v({type:zk,property:Ph(x[0].replace(Eh,Bn)),value:w?Ph(w[0].replace(Eh,Bn)):Bn});return a(Fk),g}}function f(){var v=[];d(v);for(var x;x=p();)x!==!1&&(v.push(x),d(v));return v}return c(),f()};function Ph(e){return e?e.replace(Dk,Bn):Bn}var Uk=Ye&&Ye.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Tg,"__esModule",{value:!0});var Hk=Uk($k);function Vk(e,t){var n=null;if(!e||typeof e!="string")return n;var r=(0,Hk.default)(e),i=typeof t=="function";return r.forEach(function(s){if(s.type==="declaration"){var o=s.property,l=s.value;i?t(o,l,s):l&&(n=n||{},n[o]=l)}}),n}var Nh=Tg.default=Vk;const Wk=Nh.default||Nh,Pg=Ng("end"),wc=Ng("start");function Ng(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function qk(e){const t=wc(e),n=Pg(e);if(t&&n)return{start:t,end:n}}function Ai(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Ih(e.position):"start"in e||"end"in e?Ih(e):"line"in e||"column"in e?au(e):""}function au(e){return Oh(e&&e.line)+":"+Oh(e&&e.column)}function Ih(e){return au(e&&e.start)+"-"+au(e&&e.end)}function Oh(e){return e&&typeof e=="number"?e:1}class De extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof t=="string"?i=t:!s.cause&&t&&(o=!0,i=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof r=="string"){const a=r.indexOf(":");a===-1?s.ruleId=r:(s.source=r.slice(0,a),s.ruleId=r.slice(a+1))}if(!s.place&&s.ancestors&&s.ancestors){const a=s.ancestors[s.ancestors.length-1];a&&(s.place=a.position)}const l=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=l?l.line:void 0,this.name=Ai(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual,this.expected,this.note,this.url}}De.prototype.file="";De.prototype.name="";De.prototype.reason="";De.prototype.message="";De.prototype.stack="";De.prototype.column=void 0;De.prototype.line=void 0;De.prototype.ancestors=void 0;De.prototype.cause=void 0;De.prototype.fatal=void 0;De.prototype.place=void 0;De.prototype.ruleId=void 0;De.prototype.source=void 0;const _c={}.hasOwnProperty,Qk=new Map,Kk=/[A-Z]/g,Jk=/-([a-z])/g,Gk=new Set(["table","tbody","thead","tfoot","tr"]),Yk=new Set(["td","th"]),Ig="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Xk(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=o1(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=s1(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?xc:Pk,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=Og(i,e,void 0);return s&&typeof s!="string"?s:i.create(e,i.Fragment,{children:s||void 0},void 0)}function Og(e,t,n){if(t.type==="element")return Zk(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return e1(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return n1(e,t,n);if(t.type==="mdxjsEsm")return t1(e,t);if(t.type==="root")return r1(e,t,n);if(t.type==="text")return i1(e,t)}function Zk(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=xc,e.schema=i),e.ancestors.push(t);const s=Ag(e,t.tagName,!1),o=l1(e,t);let l=Sc(e,t);return Gk.has(t.tagName)&&(l=l.filter(function(a){return typeof a=="string"?!vk(a):!0})),Lg(e,o,s,t),kc(o,l),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}function e1(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}ns(e,t.position)}function t1(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);ns(e,t.position)}function n1(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=xc,e.schema=i),e.ancestors.push(t);const s=t.name===null?e.Fragment:Ag(e,t.name,!0),o=a1(e,t),l=Sc(e,t);return Lg(e,o,s,t),kc(o,l),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}function r1(e,t,n){const r={};return kc(r,Sc(e,t)),e.create(t,e.Fragment,r,n)}function i1(e,t){return t.value}function Lg(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function kc(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function s1(e,t,n){return r;function r(i,s,o,l){const c=Array.isArray(o.children)?n:t;return l?c(s,o,l):c(s,o)}}function o1(e,t){return n;function n(r,i,s,o){const l=Array.isArray(s.children),a=wc(r);return t(i,s,o,l,{columnNumber:a?a.column-1:void 0,fileName:e,lineNumber:a?a.line:void 0},void 0)}}function l1(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&_c.call(t.properties,i)){const s=u1(e,i,t.properties[i]);if(s){const[o,l]=s;e.tableCellAlignToStyle&&o==="align"&&typeof l=="string"&&Yk.has(t.tagName)?r=l:n[o]=l}}if(r){const s=n.style||(n.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function a1(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const s=r.data.estree.body[0];s.type;const o=s.expression;o.type;const l=o.properties[0];l.type,Object.assign(n,e.evaluater.evaluateExpression(l.argument))}else ns(e,t.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const l=r.value.data.estree.body[0];l.type,s=e.evaluater.evaluateExpression(l.expression)}else ns(e,t.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function Sc(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:Qk;for(;++r<t.children.length;){const s=t.children[r];let o;if(e.passKeys){const a=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(a){const c=i.get(a)||0;o=a+"-"+c,i.set(a,c+1)}}const l=Og(e,s,o);l!==void 0&&n.push(l)}return n}function u1(e,t,n){const r=Ck(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?fk(n):Nk(n)),r.property==="style"){let i=typeof n=="object"?n:c1(e,String(n));return e.stylePropertyNameCase==="css"&&(i=d1(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?Tk[r.property]||r.property:r.attribute,n]}}function c1(e,t){const n={};try{Wk(t,r)}catch(i){if(!e.ignoreInvalidStyle){const s=i,o=new De("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:s,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw o.file=e.filePath||void 0,o.url=Ig+"#cannot-parse-style-attribute",o}}return n;function r(i,s){let o=i;o.slice(0,2)!=="--"&&(o.slice(0,4)==="-ms-"&&(o="ms-"+o.slice(4)),o=o.replace(Jk,f1)),n[o]=s}}function Ag(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let s=-1,o;for(;++s<i.length;){const l=kh(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};o=o?{type:"MemberExpression",object:o,property:l,computed:!!(s&&l.type==="Literal"),optional:!1}:l}r=o}else r=kh(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return _c.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);ns(e)}function ns(e,t){const n=new De("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=Ig+"#cannot-handle-mdx-estrees-without-createevaluater",n}function d1(e){const t={};let n;for(n in e)_c.call(e,n)&&(t[h1(n)]=e[n]);return t}function h1(e){let t=e.replace(Kk,p1);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function f1(e,t){return t.toUpperCase()}function p1(e){return"-"+e.toLowerCase()}const Vl={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},m1={};function g1(e,t){const n=m1,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Rg(e,r,i)}function Rg(e,t,n){if(y1(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Lh(e.children,t,n)}return Array.isArray(e)?Lh(e,t,n):""}function Lh(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=Rg(e[i],t,n);return r.join("")}function y1(e){return!!(e&&typeof e=="object")}const Ah=document.createElement("i");function jc(e){const t="&"+e+";";Ah.innerHTML=t;const n=Ah.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Jt(e,t,n,r){const i=e.length;let s=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(t,0),e.splice(...o),s+=1e4,t+=1e4}function ht(e,t){return e.length>0?(Jt(e,e.length,0,t),e):t}const Rh={}.hasOwnProperty;function v1(e){const t={};let n=-1;for(;++n<e.length;)x1(t,e[n]);return t}function x1(e,t){let n;for(n in t){const i=(Rh.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let o;if(s)for(o in s){Rh.call(i,o)||(i[o]=[]);const l=s[o];w1(i[o],Array.isArray(l)?l:l?[l]:[])}}}function w1(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Jt(e,0,0,r)}function Fg(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function Lr(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Rt=Nn(/[A-Za-z]/),it=Nn(/[\dA-Za-z]/),_1=Nn(/[#-'*+\--9=?A-Z^-~]/);function uu(e){return e!==null&&(e<32||e===127)}const cu=Nn(/\d/),k1=Nn(/[\dA-Fa-f]/),S1=Nn(/[!-/:-@[-`{-~]/);function $(e){return e!==null&&e<-2}function Ge(e){return e!==null&&(e<0||e===32)}function X(e){return e===-2||e===-1||e===32}const j1=Nn(new RegExp("\\p{P}|\\p{S}","u")),C1=Nn(/\s/);function Nn(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Yr(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let o="";if(s===37&&it(e.charCodeAt(n+1))&&it(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const l=e.charCodeAt(n+1);s<56320&&l>56319&&l<57344?(o=String.fromCharCode(s,l),i=1):o="�"}else o=String.fromCharCode(s);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function le(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(a){return X(a)?(e.enter(n),l(a)):t(a)}function l(a){return X(a)&&s++<i?(e.consume(a),l):(e.exit(n),t(a))}}const E1={tokenize:b1};function b1(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),le(e,t,"linePrefix")}function i(l){return e.enter("paragraph"),s(l)}function s(l){const a=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=a),n=a,o(l)}function o(l){if(l===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(l);return}return $(l)?(e.consume(l),e.exit("chunkText"),s):(e.consume(l),o)}}const T1={tokenize:P1},Fh={tokenize:N1};function P1(e){const t=this,n=[];let r=0,i,s,o;return l;function l(y){if(r<n.length){const S=n[r];return t.containerState=S[1],e.attempt(S[0].continuation,a,c)(y)}return c(y)}function a(y){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&m();const S=t.events.length;let E=S,C;for(;E--;)if(t.events[E][0]==="exit"&&t.events[E][1].type==="chunkFlow"){C=t.events[E][1].end;break}g(r);let T=S;for(;T<t.events.length;)t.events[T][1].end=Object.assign({},C),T++;return Jt(t.events,E+1,0,t.events.slice(S)),t.events.length=T,c(y)}return l(y)}function c(y){if(r===n.length){if(!i)return p(y);if(i.currentConstruct&&i.currentConstruct.concrete)return v(y);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Fh,d,h)(y)}function d(y){return i&&m(),g(r),p(y)}function h(y){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,v(y)}function p(y){return t.containerState={},e.attempt(Fh,f,v)(y)}function f(y){return r++,n.push([t.currentConstruct,t.containerState]),p(y)}function v(y){if(y===null){i&&m(),g(0),e.consume(y);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:s,_tokenizer:i}),x(y)}function x(y){if(y===null){w(e.exit("chunkFlow"),!0),g(0),e.consume(y);return}return $(y)?(e.consume(y),w(e.exit("chunkFlow")),r=0,t.interrupt=void 0,l):(e.consume(y),x)}function w(y,S){const E=t.sliceStream(y);if(S&&E.push(null),y.previous=s,s&&(s.next=y),s=y,i.defineSkip(y.start),i.write(E),t.parser.lazy[y.start.line]){let C=i.events.length;for(;C--;)if(i.events[C][1].start.offset<o&&(!i.events[C][1].end||i.events[C][1].end.offset>o))return;const T=t.events.length;let P=T,F,A;for(;P--;)if(t.events[P][0]==="exit"&&t.events[P][1].type==="chunkFlow"){if(F){A=t.events[P][1].end;break}F=!0}for(g(r),C=T;C<t.events.length;)t.events[C][1].end=Object.assign({},A),C++;Jt(t.events,P+1,0,t.events.slice(T)),t.events.length=C}}function g(y){let S=n.length;for(;S-- >y;){const E=n[S];t.containerState=E[1],E[0].exit.call(t,e)}n.length=y}function m(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function N1(e,t,n){return le(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Dh(e){if(e===null||Ge(e)||C1(e))return 1;if(j1(e))return 2}function Cc(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const du={name:"attention",tokenize:O1,resolveAll:I1};function I1(e,t){let n=-1,r,i,s,o,l,a,c,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;a=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const h=Object.assign({},e[r][1].end),p=Object.assign({},e[n][1].start);Mh(h,-a),Mh(p,a),o={type:a>1?"strongSequence":"emphasisSequence",start:h,end:Object.assign({},e[r][1].end)},l={type:a>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[n][1].start),end:p},s={type:a>1?"strongText":"emphasisText",start:Object.assign({},e[r][1].end),end:Object.assign({},e[n][1].start)},i={type:a>1?"strong":"emphasis",start:Object.assign({},o.start),end:Object.assign({},l.end)},e[r][1].end=Object.assign({},o.start),e[n][1].start=Object.assign({},l.end),c=[],e[r][1].end.offset-e[r][1].start.offset&&(c=ht(c,[["enter",e[r][1],t],["exit",e[r][1],t]])),c=ht(c,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",s,t]]),c=ht(c,Cc(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),c=ht(c,[["exit",s,t],["enter",l,t],["exit",l,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,c=ht(c,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,Jt(e,r-1,n-r+3,c),n=r+c.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function O1(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Dh(r);let s;return o;function o(a){return s=a,e.enter("attentionSequence"),l(a)}function l(a){if(a===s)return e.consume(a),l;const c=e.exit("attentionSequence"),d=Dh(a),h=!d||d===2&&i||n.includes(a),p=!i||i===2&&d||n.includes(r);return c._open=!!(s===42?h:h&&(i||!p)),c._close=!!(s===42?p:p&&(d||!h)),t(a)}}function Mh(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const L1={name:"autolink",tokenize:A1};function A1(e,t,n){let r=0;return i;function i(f){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(f){return Rt(f)?(e.consume(f),o):f===64?n(f):c(f)}function o(f){return f===43||f===45||f===46||it(f)?(r=1,l(f)):c(f)}function l(f){return f===58?(e.consume(f),r=0,a):(f===43||f===45||f===46||it(f))&&r++<32?(e.consume(f),l):(r=0,c(f))}function a(f){return f===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.exit("autolink"),t):f===null||f===32||f===60||uu(f)?n(f):(e.consume(f),a)}function c(f){return f===64?(e.consume(f),d):_1(f)?(e.consume(f),c):n(f)}function d(f){return it(f)?h(f):n(f)}function h(f){return f===46?(e.consume(f),r=0,d):f===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.exit("autolink"),t):p(f)}function p(f){if((f===45||it(f))&&r++<63){const v=f===45?p:h;return e.consume(f),v}return n(f)}}const ll={tokenize:R1,partial:!0};function R1(e,t,n){return r;function r(s){return X(s)?le(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||$(s)?t(s):n(s)}}const Dg={name:"blockQuote",tokenize:F1,continuation:{tokenize:D1},exit:M1};function F1(e,t,n){const r=this;return i;function i(o){if(o===62){const l=r.containerState;return l.open||(e.enter("blockQuote",{_container:!0}),l.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),s}return n(o)}function s(o){return X(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function D1(e,t,n){const r=this;return i;function i(o){return X(o)?le(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return e.attempt(Dg,t,n)(o)}}function M1(e){e.exit("blockQuote")}const Mg={name:"characterEscape",tokenize:B1};function B1(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return S1(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const Bg={name:"characterReference",tokenize:z1};function z1(e,t,n){const r=this;let i=0,s,o;return l;function l(h){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),a}function a(h){return h===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(h),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),s=31,o=it,d(h))}function c(h){return h===88||h===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(h),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,o=k1,d):(e.enter("characterReferenceValue"),s=7,o=cu,d(h))}function d(h){if(h===59&&i){const p=e.exit("characterReferenceValue");return o===it&&!jc(r.sliceSerialize(p))?n(h):(e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(h)&&i++<s?(e.consume(h),d):n(h)}}const Bh={tokenize:U1,partial:!0},zh={name:"codeFenced",tokenize:$1,concrete:!0};function $1(e,t,n){const r=this,i={tokenize:E,partial:!0};let s=0,o=0,l;return a;function a(C){return c(C)}function c(C){const T=r.events[r.events.length-1];return s=T&&T[1].type==="linePrefix"?T[2].sliceSerialize(T[1],!0).length:0,l=C,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(C)}function d(C){return C===l?(o++,e.consume(C),d):o<3?n(C):(e.exit("codeFencedFenceSequence"),X(C)?le(e,h,"whitespace")(C):h(C))}function h(C){return C===null||$(C)?(e.exit("codeFencedFence"),r.interrupt?t(C):e.check(Bh,x,S)(C)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),p(C))}function p(C){return C===null||$(C)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),h(C)):X(C)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),le(e,f,"whitespace")(C)):C===96&&C===l?n(C):(e.consume(C),p)}function f(C){return C===null||$(C)?h(C):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),v(C))}function v(C){return C===null||$(C)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),h(C)):C===96&&C===l?n(C):(e.consume(C),v)}function x(C){return e.attempt(i,S,w)(C)}function w(C){return e.enter("lineEnding"),e.consume(C),e.exit("lineEnding"),g}function g(C){return s>0&&X(C)?le(e,m,"linePrefix",s+1)(C):m(C)}function m(C){return C===null||$(C)?e.check(Bh,x,S)(C):(e.enter("codeFlowValue"),y(C))}function y(C){return C===null||$(C)?(e.exit("codeFlowValue"),m(C)):(e.consume(C),y)}function S(C){return e.exit("codeFenced"),t(C)}function E(C,T,P){let F=0;return A;function A(q){return C.enter("lineEnding"),C.consume(q),C.exit("lineEnding"),D}function D(q){return C.enter("codeFencedFence"),X(q)?le(C,O,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(q):O(q)}function O(q){return q===l?(C.enter("codeFencedFenceSequence"),J(q)):P(q)}function J(q){return q===l?(F++,C.consume(q),J):F>=o?(C.exit("codeFencedFenceSequence"),X(q)?le(C,fe,"whitespace")(q):fe(q)):P(q)}function fe(q){return q===null||$(q)?(C.exit("codeFencedFence"),T(q)):P(q)}}}function U1(e,t,n){const r=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const Wl={name:"codeIndented",tokenize:V1},H1={tokenize:W1,partial:!0};function V1(e,t,n){const r=this;return i;function i(c){return e.enter("codeIndented"),le(e,s,"linePrefix",5)(c)}function s(c){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?o(c):n(c)}function o(c){return c===null?a(c):$(c)?e.attempt(H1,o,a)(c):(e.enter("codeFlowValue"),l(c))}function l(c){return c===null||$(c)?(e.exit("codeFlowValue"),o(c)):(e.consume(c),l)}function a(c){return e.exit("codeIndented"),t(c)}}function W1(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):$(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):le(e,s,"linePrefix",5)(o)}function s(o){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(o):$(o)?i(o):n(o)}}const q1={name:"codeText",tokenize:J1,resolve:Q1,previous:K1};function Q1(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function K1(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function J1(e,t,n){let r=0,i,s;return o;function o(h){return e.enter("codeText"),e.enter("codeTextSequence"),l(h)}function l(h){return h===96?(e.consume(h),r++,l):(e.exit("codeTextSequence"),a(h))}function a(h){return h===null?n(h):h===32?(e.enter("space"),e.consume(h),e.exit("space"),a):h===96?(s=e.enter("codeTextSequence"),i=0,d(h)):$(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),a):(e.enter("codeTextData"),c(h))}function c(h){return h===null||h===32||h===96||$(h)?(e.exit("codeTextData"),a(h)):(e.consume(h),c)}function d(h){return h===96?(e.consume(h),i++,d):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(h)):(s.type="codeTextData",c(h))}}class G1{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&fi(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),fi(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),fi(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);fi(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);fi(this.left,n.reverse())}}}function fi(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function zg(e){const t={};let n=-1,r,i,s,o,l,a,c;const d=new G1(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(a=r[1]._tokenizer.events,s=0,s<a.length&&a[s][1].type==="lineEndingBlank"&&(s+=2),s<a.length&&a[s][1].type==="content"))for(;++s<a.length&&a[s][1].type!=="content";)a[s][1].type==="chunkText"&&(a[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,Y1(d,n)),n=t[n],c=!0);else if(r[1]._container){for(s=n,i=void 0;s--&&(o=d.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank");)o[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);i&&(r[1].end=Object.assign({},d.get(i)[1].start),l=d.slice(i,n),l.unshift(r),d.splice(i,n-i+1,l))}}return Jt(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!c}function Y1(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const s=[],o=n._tokenizer||r.parser[n.contentType](n.start),l=o.events,a=[],c={};let d,h,p=-1,f=n,v=0,x=0;const w=[x];for(;f;){for(;e.get(++i)[1]!==f;);s.push(i),f._tokenizer||(d=r.sliceStream(f),f.next||d.push(null),h&&o.defineSkip(f.start),f._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(d),f._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),h=f,f=f.next}for(f=n;++p<l.length;)l[p][0]==="exit"&&l[p-1][0]==="enter"&&l[p][1].type===l[p-1][1].type&&l[p][1].start.line!==l[p][1].end.line&&(x=p+1,w.push(x),f._tokenizer=void 0,f.previous=void 0,f=f.next);for(o.events=[],f?(f._tokenizer=void 0,f.previous=void 0):w.pop(),p=w.length;p--;){const g=l.slice(w[p],w[p+1]),m=s.pop();a.push([m,m+g.length-1]),e.splice(m,2,g)}for(a.reverse(),p=-1;++p<a.length;)c[v+a[p][0]]=v+a[p][1],v+=a[p][1]-a[p][0]-1;return c}const X1={tokenize:tS,resolve:eS},Z1={tokenize:nS,partial:!0};function eS(e){return zg(e),e}function tS(e,t){let n;return r;function r(l){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(l)}function i(l){return l===null?s(l):$(l)?e.check(Z1,o,s)(l):(e.consume(l),i)}function s(l){return e.exit("chunkContent"),e.exit("content"),t(l)}function o(l){return e.consume(l),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function nS(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),le(e,s,"linePrefix")}function s(o){if(o===null||$(o))return n(o);const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function $g(e,t,n,r,i,s,o,l,a){const c=a||Number.POSITIVE_INFINITY;let d=0;return h;function h(g){return g===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(g),e.exit(s),p):g===null||g===32||g===41||uu(g)?n(g):(e.enter(r),e.enter(o),e.enter(l),e.enter("chunkString",{contentType:"string"}),x(g))}function p(g){return g===62?(e.enter(s),e.consume(g),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(l),e.enter("chunkString",{contentType:"string"}),f(g))}function f(g){return g===62?(e.exit("chunkString"),e.exit(l),p(g)):g===null||g===60||$(g)?n(g):(e.consume(g),g===92?v:f)}function v(g){return g===60||g===62||g===92?(e.consume(g),f):f(g)}function x(g){return!d&&(g===null||g===41||Ge(g))?(e.exit("chunkString"),e.exit(l),e.exit(o),e.exit(r),t(g)):d<c&&g===40?(e.consume(g),d++,x):g===41?(e.consume(g),d--,x):g===null||g===32||g===40||uu(g)?n(g):(e.consume(g),g===92?w:x)}function w(g){return g===40||g===41||g===92?(e.consume(g),x):x(g)}}function Ug(e,t,n,r,i,s){const o=this;let l=0,a;return c;function c(f){return e.enter(r),e.enter(i),e.consume(f),e.exit(i),e.enter(s),d}function d(f){return l>999||f===null||f===91||f===93&&!a||f===94&&!l&&"_hiddenFootnoteSupport"in o.parser.constructs?n(f):f===93?(e.exit(s),e.enter(i),e.consume(f),e.exit(i),e.exit(r),t):$(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),h(f))}function h(f){return f===null||f===91||f===93||$(f)||l++>999?(e.exit("chunkString"),d(f)):(e.consume(f),a||(a=!X(f)),f===92?p:h)}function p(f){return f===91||f===92||f===93?(e.consume(f),l++,h):h(f)}}function Hg(e,t,n,r,i,s){let o;return l;function l(p){return p===34||p===39||p===40?(e.enter(r),e.enter(i),e.consume(p),e.exit(i),o=p===40?41:p,a):n(p)}function a(p){return p===o?(e.enter(i),e.consume(p),e.exit(i),e.exit(r),t):(e.enter(s),c(p))}function c(p){return p===o?(e.exit(s),a(o)):p===null?n(p):$(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),le(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===o||p===null||$(p)?(e.exit("chunkString"),c(p)):(e.consume(p),p===92?h:d)}function h(p){return p===o||p===92?(e.consume(p),d):d(p)}}function Ri(e,t){let n;return r;function r(i){return $(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):X(i)?le(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const rS={name:"definition",tokenize:sS},iS={tokenize:oS,partial:!0};function sS(e,t,n){const r=this;let i;return s;function s(f){return e.enter("definition"),o(f)}function o(f){return Ug.call(r,e,l,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(f)}function l(f){return i=Lr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),f===58?(e.enter("definitionMarker"),e.consume(f),e.exit("definitionMarker"),a):n(f)}function a(f){return Ge(f)?Ri(e,c)(f):c(f)}function c(f){return $g(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(f)}function d(f){return e.attempt(iS,h,h)(f)}function h(f){return X(f)?le(e,p,"whitespace")(f):p(f)}function p(f){return f===null||$(f)?(e.exit("definition"),r.parser.defined.push(i),t(f)):n(f)}}function oS(e,t,n){return r;function r(l){return Ge(l)?Ri(e,i)(l):n(l)}function i(l){return Hg(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function s(l){return X(l)?le(e,o,"whitespace")(l):o(l)}function o(l){return l===null||$(l)?t(l):n(l)}}const lS={name:"hardBreakEscape",tokenize:aS};function aS(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return $(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const uS={name:"headingAtx",tokenize:dS,resolve:cS};function cS(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Jt(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function dS(e,t,n){let r=0;return i;function i(d){return e.enter("atxHeading"),s(d)}function s(d){return e.enter("atxHeadingSequence"),o(d)}function o(d){return d===35&&r++<6?(e.consume(d),o):d===null||Ge(d)?(e.exit("atxHeadingSequence"),l(d)):n(d)}function l(d){return d===35?(e.enter("atxHeadingSequence"),a(d)):d===null||$(d)?(e.exit("atxHeading"),t(d)):X(d)?le(e,l,"whitespace")(d):(e.enter("atxHeadingText"),c(d))}function a(d){return d===35?(e.consume(d),a):(e.exit("atxHeadingSequence"),l(d))}function c(d){return d===null||d===35||Ge(d)?(e.exit("atxHeadingText"),l(d)):(e.consume(d),c)}}const hS=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],$h=["pre","script","style","textarea"],fS={name:"htmlFlow",tokenize:yS,resolveTo:gS,concrete:!0},pS={tokenize:xS,partial:!0},mS={tokenize:vS,partial:!0};function gS(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function yS(e,t,n){const r=this;let i,s,o,l,a;return c;function c(j){return d(j)}function d(j){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(j),h}function h(j){return j===33?(e.consume(j),p):j===47?(e.consume(j),s=!0,x):j===63?(e.consume(j),i=3,r.interrupt?t:k):Rt(j)?(e.consume(j),o=String.fromCharCode(j),w):n(j)}function p(j){return j===45?(e.consume(j),i=2,f):j===91?(e.consume(j),i=5,l=0,v):Rt(j)?(e.consume(j),i=4,r.interrupt?t:k):n(j)}function f(j){return j===45?(e.consume(j),r.interrupt?t:k):n(j)}function v(j){const je="CDATA[";return j===je.charCodeAt(l++)?(e.consume(j),l===je.length?r.interrupt?t:O:v):n(j)}function x(j){return Rt(j)?(e.consume(j),o=String.fromCharCode(j),w):n(j)}function w(j){if(j===null||j===47||j===62||Ge(j)){const je=j===47,xt=o.toLowerCase();return!je&&!s&&$h.includes(xt)?(i=1,r.interrupt?t(j):O(j)):hS.includes(o.toLowerCase())?(i=6,je?(e.consume(j),g):r.interrupt?t(j):O(j)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(j):s?m(j):y(j))}return j===45||it(j)?(e.consume(j),o+=String.fromCharCode(j),w):n(j)}function g(j){return j===62?(e.consume(j),r.interrupt?t:O):n(j)}function m(j){return X(j)?(e.consume(j),m):A(j)}function y(j){return j===47?(e.consume(j),A):j===58||j===95||Rt(j)?(e.consume(j),S):X(j)?(e.consume(j),y):A(j)}function S(j){return j===45||j===46||j===58||j===95||it(j)?(e.consume(j),S):E(j)}function E(j){return j===61?(e.consume(j),C):X(j)?(e.consume(j),E):y(j)}function C(j){return j===null||j===60||j===61||j===62||j===96?n(j):j===34||j===39?(e.consume(j),a=j,T):X(j)?(e.consume(j),C):P(j)}function T(j){return j===a?(e.consume(j),a=null,F):j===null||$(j)?n(j):(e.consume(j),T)}function P(j){return j===null||j===34||j===39||j===47||j===60||j===61||j===62||j===96||Ge(j)?E(j):(e.consume(j),P)}function F(j){return j===47||j===62||X(j)?y(j):n(j)}function A(j){return j===62?(e.consume(j),D):n(j)}function D(j){return j===null||$(j)?O(j):X(j)?(e.consume(j),D):n(j)}function O(j){return j===45&&i===2?(e.consume(j),_e):j===60&&i===1?(e.consume(j),xe):j===62&&i===4?(e.consume(j),G):j===63&&i===3?(e.consume(j),k):j===93&&i===5?(e.consume(j),B):$(j)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(pS,ne,J)(j)):j===null||$(j)?(e.exit("htmlFlowData"),J(j)):(e.consume(j),O)}function J(j){return e.check(mS,fe,ne)(j)}function fe(j){return e.enter("lineEnding"),e.consume(j),e.exit("lineEnding"),q}function q(j){return j===null||$(j)?J(j):(e.enter("htmlFlowData"),O(j))}function _e(j){return j===45?(e.consume(j),k):O(j)}function xe(j){return j===47?(e.consume(j),o="",R):O(j)}function R(j){if(j===62){const je=o.toLowerCase();return $h.includes(je)?(e.consume(j),G):O(j)}return Rt(j)&&o.length<8?(e.consume(j),o+=String.fromCharCode(j),R):O(j)}function B(j){return j===93?(e.consume(j),k):O(j)}function k(j){return j===62?(e.consume(j),G):j===45&&i===2?(e.consume(j),k):O(j)}function G(j){return j===null||$(j)?(e.exit("htmlFlowData"),ne(j)):(e.consume(j),G)}function ne(j){return e.exit("htmlFlow"),t(j)}}function vS(e,t,n){const r=this;return i;function i(o){return $(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function xS(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(ll,t,n)}}const wS={name:"htmlText",tokenize:_S};function _S(e,t,n){const r=this;let i,s,o;return l;function l(k){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(k),a}function a(k){return k===33?(e.consume(k),c):k===47?(e.consume(k),E):k===63?(e.consume(k),y):Rt(k)?(e.consume(k),P):n(k)}function c(k){return k===45?(e.consume(k),d):k===91?(e.consume(k),s=0,v):Rt(k)?(e.consume(k),m):n(k)}function d(k){return k===45?(e.consume(k),f):n(k)}function h(k){return k===null?n(k):k===45?(e.consume(k),p):$(k)?(o=h,xe(k)):(e.consume(k),h)}function p(k){return k===45?(e.consume(k),f):h(k)}function f(k){return k===62?_e(k):k===45?p(k):h(k)}function v(k){const G="CDATA[";return k===G.charCodeAt(s++)?(e.consume(k),s===G.length?x:v):n(k)}function x(k){return k===null?n(k):k===93?(e.consume(k),w):$(k)?(o=x,xe(k)):(e.consume(k),x)}function w(k){return k===93?(e.consume(k),g):x(k)}function g(k){return k===62?_e(k):k===93?(e.consume(k),g):x(k)}function m(k){return k===null||k===62?_e(k):$(k)?(o=m,xe(k)):(e.consume(k),m)}function y(k){return k===null?n(k):k===63?(e.consume(k),S):$(k)?(o=y,xe(k)):(e.consume(k),y)}function S(k){return k===62?_e(k):y(k)}function E(k){return Rt(k)?(e.consume(k),C):n(k)}function C(k){return k===45||it(k)?(e.consume(k),C):T(k)}function T(k){return $(k)?(o=T,xe(k)):X(k)?(e.consume(k),T):_e(k)}function P(k){return k===45||it(k)?(e.consume(k),P):k===47||k===62||Ge(k)?F(k):n(k)}function F(k){return k===47?(e.consume(k),_e):k===58||k===95||Rt(k)?(e.consume(k),A):$(k)?(o=F,xe(k)):X(k)?(e.consume(k),F):_e(k)}function A(k){return k===45||k===46||k===58||k===95||it(k)?(e.consume(k),A):D(k)}function D(k){return k===61?(e.consume(k),O):$(k)?(o=D,xe(k)):X(k)?(e.consume(k),D):F(k)}function O(k){return k===null||k===60||k===61||k===62||k===96?n(k):k===34||k===39?(e.consume(k),i=k,J):$(k)?(o=O,xe(k)):X(k)?(e.consume(k),O):(e.consume(k),fe)}function J(k){return k===i?(e.consume(k),i=void 0,q):k===null?n(k):$(k)?(o=J,xe(k)):(e.consume(k),J)}function fe(k){return k===null||k===34||k===39||k===60||k===61||k===96?n(k):k===47||k===62||Ge(k)?F(k):(e.consume(k),fe)}function q(k){return k===47||k===62||Ge(k)?F(k):n(k)}function _e(k){return k===62?(e.consume(k),e.exit("htmlTextData"),e.exit("htmlText"),t):n(k)}function xe(k){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),R}function R(k){return X(k)?le(e,B,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(k):B(k)}function B(k){return e.enter("htmlTextData"),o(k)}}const Ec={name:"labelEnd",tokenize:bS,resolveTo:ES,resolveAll:CS},kS={tokenize:TS},SS={tokenize:PS},jS={tokenize:NS};function CS(e){let t=-1;for(;++t<e.length;){const n=e[t][1];(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(e.splice(t+1,n.type==="labelImage"?4:2),n.type="data",t++)}return e}function ES(e,t){let n=e.length,r=0,i,s,o,l;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const a={type:e[s][1].type==="labelLink"?"link":"image",start:Object.assign({},e[s][1].start),end:Object.assign({},e[e.length-1][1].end)},c={type:"label",start:Object.assign({},e[s][1].start),end:Object.assign({},e[o][1].end)},d={type:"labelText",start:Object.assign({},e[s+r+2][1].end),end:Object.assign({},e[o-2][1].start)};return l=[["enter",a,t],["enter",c,t]],l=ht(l,e.slice(s+1,s+r+3)),l=ht(l,[["enter",d,t]]),l=ht(l,Cc(t.parser.constructs.insideSpan.null,e.slice(s+r+4,o-3),t)),l=ht(l,[["exit",d,t],e[o-2],e[o-1],["exit",c,t]]),l=ht(l,e.slice(o+1)),l=ht(l,[["exit",a,t]]),Jt(e,s,e.length,l),e}function bS(e,t,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return l;function l(p){return s?s._inactive?h(p):(o=r.parser.defined.includes(Lr(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(p),e.exit("labelMarker"),e.exit("labelEnd"),a):n(p)}function a(p){return p===40?e.attempt(kS,d,o?d:h)(p):p===91?e.attempt(SS,d,o?c:h)(p):o?d(p):h(p)}function c(p){return e.attempt(jS,d,h)(p)}function d(p){return t(p)}function h(p){return s._balanced=!0,n(p)}}function TS(e,t,n){return r;function r(h){return e.enter("resource"),e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),i}function i(h){return Ge(h)?Ri(e,s)(h):s(h)}function s(h){return h===41?d(h):$g(e,o,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function o(h){return Ge(h)?Ri(e,a)(h):d(h)}function l(h){return n(h)}function a(h){return h===34||h===39||h===40?Hg(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):d(h)}function c(h){return Ge(h)?Ri(e,d)(h):d(h)}function d(h){return h===41?(e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),e.exit("resource"),t):n(h)}}function PS(e,t,n){const r=this;return i;function i(l){return Ug.call(r,e,s,o,"reference","referenceMarker","referenceString")(l)}function s(l){return r.parser.defined.includes(Lr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(l):n(l)}function o(l){return n(l)}}function NS(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const IS={name:"labelStartImage",tokenize:OS,resolveAll:Ec.resolveAll};function OS(e,t,n){const r=this;return i;function i(l){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(l),e.exit("labelImageMarker"),s}function s(l){return l===91?(e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelImage"),o):n(l)}function o(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):t(l)}}const LS={name:"labelStartLink",tokenize:AS,resolveAll:Ec.resolveAll};function AS(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const ql={name:"lineEnding",tokenize:RS};function RS(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),le(e,t,"linePrefix")}}const Zs={name:"thematicBreak",tokenize:FS};function FS(e,t,n){let r=0,i;return s;function s(c){return e.enter("thematicBreak"),o(c)}function o(c){return i=c,l(c)}function l(c){return c===i?(e.enter("thematicBreakSequence"),a(c)):r>=3&&(c===null||$(c))?(e.exit("thematicBreak"),t(c)):n(c)}function a(c){return c===i?(e.consume(c),r++,a):(e.exit("thematicBreakSequence"),X(c)?le(e,l,"whitespace")(c):l(c))}}const Ve={name:"list",tokenize:BS,continuation:{tokenize:zS},exit:US},DS={tokenize:HS,partial:!0},MS={tokenize:$S,partial:!0};function BS(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return l;function l(f){const v=r.containerState.type||(f===42||f===43||f===45?"listUnordered":"listOrdered");if(v==="listUnordered"?!r.containerState.marker||f===r.containerState.marker:cu(f)){if(r.containerState.type||(r.containerState.type=v,e.enter(v,{_container:!0})),v==="listUnordered")return e.enter("listItemPrefix"),f===42||f===45?e.check(Zs,n,c)(f):c(f);if(!r.interrupt||f===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),a(f)}return n(f)}function a(f){return cu(f)&&++o<10?(e.consume(f),a):(!r.interrupt||o<2)&&(r.containerState.marker?f===r.containerState.marker:f===41||f===46)?(e.exit("listItemValue"),c(f)):n(f)}function c(f){return e.enter("listItemMarker"),e.consume(f),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||f,e.check(ll,r.interrupt?n:d,e.attempt(DS,p,h))}function d(f){return r.containerState.initialBlankLine=!0,s++,p(f)}function h(f){return X(f)?(e.enter("listItemPrefixWhitespace"),e.consume(f),e.exit("listItemPrefixWhitespace"),p):n(f)}function p(f){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(f)}}function zS(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(ll,i,s);function i(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,le(e,t,"listItemIndent",r.containerState.size+1)(l)}function s(l){return r.containerState.furtherBlankLines||!X(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(MS,t,o)(l))}function o(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,le(e,e.attempt(Ve,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function $S(e,t,n){const r=this;return le(e,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(s):n(s)}}function US(e){e.exit(this.containerState.type)}function HS(e,t,n){const r=this;return le(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!X(s)&&o&&o[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const Uh={name:"setextUnderline",tokenize:WS,resolveTo:VS};function VS(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",o,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end=Object.assign({},e[s][1].end)):e[r][1]=o,e.push(["exit",o,t]),e}function WS(e,t,n){const r=this;let i;return s;function s(c){let d=r.events.length,h;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){h=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||h)?(e.enter("setextHeadingLine"),i=c,o(c)):n(c)}function o(c){return e.enter("setextHeadingLineSequence"),l(c)}function l(c){return c===i?(e.consume(c),l):(e.exit("setextHeadingLineSequence"),X(c)?le(e,a,"lineSuffix")(c):a(c))}function a(c){return c===null||$(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const qS={tokenize:QS};function QS(e){const t=this,n=e.attempt(ll,r,e.attempt(this.parser.constructs.flowInitial,i,le(e,e.attempt(this.parser.constructs.flow,i,e.attempt(X1,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const KS={resolveAll:Wg()},JS=Vg("string"),GS=Vg("text");function Vg(e){return{tokenize:t,resolveAll:Wg(e==="text"?YS:void 0)};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,o,l);return o;function o(d){return c(d)?s(d):l(d)}function l(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),a}function a(d){return c(d)?(n.exit("data"),s(d)):(n.consume(d),a)}function c(d){if(d===null)return!0;const h=i[d];let p=-1;if(h)for(;++p<h.length;){const f=h[p];if(!f.previous||f.previous.call(r,r.previous))return!0}return!1}}}function Wg(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function YS(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,o=-1,l=0,a;for(;s--;){const c=i[s];if(typeof c=="string"){for(o=c.length;c.charCodeAt(o-1)===32;)l++,o--;if(o)break;o=-1}else if(c===-2)a=!0,l++;else if(c!==-1){s++;break}}if(l){const c={type:n===e.length||a||l<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-l,offset:r.end.offset-l,_index:r.start._index+s,_bufferIndex:s?o:r.start._bufferIndex+o},end:Object.assign({},r.end)};r.end=Object.assign({},c.start),r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}function XS(e,t,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},s=[];let o=[],l=[];const a={consume:m,enter:y,exit:S,attempt:T(E),check:T(C),interrupt:T(C,{interrupt:!0})},c={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:f,sliceSerialize:p,now:v,defineSkip:x,write:h};let d=t.tokenize.call(c,a);return t.resolveAll&&s.push(t),c;function h(D){return o=ht(o,D),w(),o[o.length-1]!==null?[]:(P(t,0),c.events=Cc(s,c.events,c),c.events)}function p(D,O){return ej(f(D),O)}function f(D){return ZS(o,D)}function v(){const{line:D,column:O,offset:J,_index:fe,_bufferIndex:q}=r;return{line:D,column:O,offset:J,_index:fe,_bufferIndex:q}}function x(D){i[D.line]=D.column,A()}function w(){let D;for(;r._index<o.length;){const O=o[r._index];if(typeof O=="string")for(D=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===D&&r._bufferIndex<O.length;)g(O.charCodeAt(r._bufferIndex));else g(O)}}function g(D){d=d(D)}function m(D){$(D)?(r.line++,r.column=1,r.offset+=D===-3?2:1,A()):D!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=D}function y(D,O){const J=O||{};return J.type=D,J.start=v(),c.events.push(["enter",J,c]),l.push(J),J}function S(D){const O=l.pop();return O.end=v(),c.events.push(["exit",O,c]),O}function E(D,O){P(D,O.from)}function C(D,O){O.restore()}function T(D,O){return J;function J(fe,q,_e){let xe,R,B,k;return Array.isArray(fe)?ne(fe):"tokenize"in fe?ne([fe]):G(fe);function G(ae){return Nt;function Nt(Yt){const sr=Yt!==null&&ae[Yt],or=Yt!==null&&ae.null,gs=[...Array.isArray(sr)?sr:sr?[sr]:[],...Array.isArray(or)?or:or?[or]:[]];return ne(gs)(Yt)}}function ne(ae){return xe=ae,R=0,ae.length===0?_e:j(ae[R])}function j(ae){return Nt;function Nt(Yt){return k=F(),B=ae,ae.partial||(c.currentConstruct=ae),ae.name&&c.parser.constructs.disable.null.includes(ae.name)?xt():ae.tokenize.call(O?Object.assign(Object.create(c),O):c,a,je,xt)(Yt)}}function je(ae){return D(B,k),q}function xt(ae){return k.restore(),++R<xe.length?j(xe[R]):_e}}}function P(D,O){D.resolveAll&&!s.includes(D)&&s.push(D),D.resolve&&Jt(c.events,O,c.events.length-O,D.resolve(c.events.slice(O),c)),D.resolveTo&&(c.events=D.resolveTo(c.events,c))}function F(){const D=v(),O=c.previous,J=c.currentConstruct,fe=c.events.length,q=Array.from(l);return{restore:_e,from:fe};function _e(){r=D,c.previous=O,c.currentConstruct=J,c.events.length=fe,l=q,A()}}function A(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function ZS(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,s)];else{if(o=e.slice(n,i),r>-1){const l=o[0];typeof l=="string"?o[0]=l.slice(r):o.shift()}s>0&&o.push(e[i].slice(0,s))}return o}function ej(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}const tj={42:Ve,43:Ve,45:Ve,48:Ve,49:Ve,50:Ve,51:Ve,52:Ve,53:Ve,54:Ve,55:Ve,56:Ve,57:Ve,62:Dg},nj={91:rS},rj={[-2]:Wl,[-1]:Wl,32:Wl},ij={35:uS,42:Zs,45:[Uh,Zs],60:fS,61:Uh,95:Zs,96:zh,126:zh},sj={38:Bg,92:Mg},oj={[-5]:ql,[-4]:ql,[-3]:ql,33:IS,38:Bg,42:du,60:[L1,wS],91:LS,92:[lS,Mg],93:Ec,95:du,96:q1},lj={null:[du,KS]},aj={null:[42,95]},uj={null:[]},cj=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:aj,contentInitial:nj,disable:uj,document:tj,flow:ij,flowInitial:rj,insideSpan:lj,string:sj,text:oj},Symbol.toStringTag,{value:"Module"}));function dj(e){const n=v1([cj,...(e||{}).extensions||[]]),r={defined:[],lazy:{},constructs:n,content:i(E1),document:i(T1),flow:i(qS),string:i(JS),text:i(GS)};return r;function i(s){return o;function o(l){return XS(r,s,l)}}}function hj(e){for(;!zg(e););return e}const Hh=/[\0\t\n\r]/g;function fj(){let e=1,t="",n=!0,r;return i;function i(s,o,l){const a=[];let c,d,h,p,f;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),h=0,t="",n&&(s.charCodeAt(0)===65279&&h++,n=void 0);h<s.length;){if(Hh.lastIndex=h,c=Hh.exec(s),p=c&&c.index!==void 0?c.index:s.length,f=s.charCodeAt(p),!c){t=s.slice(h);break}if(f===10&&h===p&&r)a.push(-3),r=void 0;else switch(r&&(a.push(-5),r=void 0),h<p&&(a.push(s.slice(h,p)),e+=p-h),f){case 0:{a.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,a.push(-2);e++<d;)a.push(-1);break}case 10:{a.push(-4),e=1;break}default:r=!0,e=1}h=p+1}return l&&(r&&a.push(-5),t&&a.push(t),a.push(null)),a}}const pj=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function mj(e){return e.replace(pj,gj)}function gj(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return Fg(n.slice(s?2:1),s?16:10)}return jc(n)||e}const qg={}.hasOwnProperty;function yj(e,t,n){return typeof t!="string"&&(n=t,t=void 0),vj(n)(hj(dj(n).document().write(fj()(e,t,!0))))}function vj(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(Bc),autolinkProtocol:F,autolinkEmail:F,atxHeading:s(Fc),blockQuote:s(or),characterEscape:F,characterReference:F,codeFenced:s(gs),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(gs,o),codeText:s(uy,o),codeTextData:F,data:F,codeFlowValue:F,definition:s(cy),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(dy),hardBreakEscape:s(Dc),hardBreakTrailing:s(Dc),htmlFlow:s(Mc,o),htmlFlowData:F,htmlText:s(Mc,o),htmlTextData:F,image:s(hy),label:o,link:s(Bc),listItem:s(fy),listItemValue:p,listOrdered:s(zc,h),listUnordered:s(zc),paragraph:s(py),reference:j,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(Fc),strong:s(my),thematicBreak:s(yy)},exit:{atxHeading:a(),atxHeadingSequence:E,autolink:a(),autolinkEmail:sr,autolinkProtocol:Yt,blockQuote:a(),characterEscapeValue:A,characterReferenceMarkerHexadecimal:xt,characterReferenceMarkerNumeric:xt,characterReferenceValue:ae,characterReference:Nt,codeFenced:a(w),codeFencedFence:x,codeFencedFenceInfo:f,codeFencedFenceMeta:v,codeFlowValue:A,codeIndented:a(g),codeText:a(q),codeTextData:A,data:A,definition:a(),definitionDestinationString:S,definitionLabelString:m,definitionTitleString:y,emphasis:a(),hardBreakEscape:a(O),hardBreakTrailing:a(O),htmlFlow:a(J),htmlFlowData:A,htmlText:a(fe),htmlTextData:A,image:a(xe),label:B,labelText:R,lineEnding:D,link:a(_e),listItem:a(),listOrdered:a(),listUnordered:a(),paragraph:a(),referenceString:je,resourceDestinationString:k,resourceTitleString:G,resource:ne,setextHeading:a(P),setextHeadingLineSequence:T,setextHeadingText:C,strong:a(),thematicBreak:a()}};Qg(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(b){let L={type:"root",children:[]};const U={stack:[L],tokenStack:[],config:t,enter:l,exit:c,buffer:o,resume:d,data:n},Q=[];let re=-1;for(;++re<b.length;)if(b[re][1].type==="listOrdered"||b[re][1].type==="listUnordered")if(b[re][0]==="enter")Q.push(re);else{const wt=Q.pop();re=i(b,wt,re)}for(re=-1;++re<b.length;){const wt=t[b[re][0]];qg.call(wt,b[re][1].type)&&wt[b[re][1].type].call(Object.assign({sliceSerialize:b[re][2].sliceSerialize},U),b[re][1])}if(U.tokenStack.length>0){const wt=U.tokenStack[U.tokenStack.length-1];(wt[1]||Vh).call(U,void 0,wt[0])}for(L.position={start:Zt(b.length>0?b[0][1].start:{line:1,column:1,offset:0}),end:Zt(b.length>0?b[b.length-2][1].end:{line:1,column:1,offset:0})},re=-1;++re<t.transforms.length;)L=t.transforms[re](L)||L;return L}function i(b,L,U){let Q=L-1,re=-1,wt=!1,On,Mt,Zr,ei;for(;++Q<=U;){const Xe=b[Q];switch(Xe[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Xe[0]==="enter"?re++:re--,ei=void 0;break}case"lineEndingBlank":{Xe[0]==="enter"&&(On&&!ei&&!re&&!Zr&&(Zr=Q),ei=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:ei=void 0}if(!re&&Xe[0]==="enter"&&Xe[1].type==="listItemPrefix"||re===-1&&Xe[0]==="exit"&&(Xe[1].type==="listUnordered"||Xe[1].type==="listOrdered")){if(On){let lr=Q;for(Mt=void 0;lr--;){const Bt=b[lr];if(Bt[1].type==="lineEnding"||Bt[1].type==="lineEndingBlank"){if(Bt[0]==="exit")continue;Mt&&(b[Mt][1].type="lineEndingBlank",wt=!0),Bt[1].type="lineEnding",Mt=lr}else if(!(Bt[1].type==="linePrefix"||Bt[1].type==="blockQuotePrefix"||Bt[1].type==="blockQuotePrefixWhitespace"||Bt[1].type==="blockQuoteMarker"||Bt[1].type==="listItemIndent"))break}Zr&&(!Mt||Zr<Mt)&&(On._spread=!0),On.end=Object.assign({},Mt?b[Mt][1].start:Xe[1].end),b.splice(Mt||Q,0,["exit",On,Xe[2]]),Q++,U++}if(Xe[1].type==="listItemPrefix"){const lr={type:"listItem",_spread:!1,start:Object.assign({},Xe[1].start),end:void 0};On=lr,b.splice(Q,0,["enter",lr,Xe[2]]),Q++,U++,Zr=void 0,ei=!0}}}return b[L][1]._spread=wt,U}function s(b,L){return U;function U(Q){l.call(this,b(Q),Q),L&&L.call(this,Q)}}function o(){this.stack.push({type:"fragment",children:[]})}function l(b,L,U){this.stack[this.stack.length-1].children.push(b),this.stack.push(b),this.tokenStack.push([L,U]),b.position={start:Zt(L.start),end:void 0}}function a(b){return L;function L(U){b&&b.call(this,U),c.call(this,U)}}function c(b,L){const U=this.stack.pop(),Q=this.tokenStack.pop();if(Q)Q[0].type!==b.type&&(L?L.call(this,b,Q[0]):(Q[1]||Vh).call(this,b,Q[0]));else throw new Error("Cannot close `"+b.type+"` ("+Ai({start:b.start,end:b.end})+"): it’s not open");U.position.end=Zt(b.end)}function d(){return g1(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function p(b){if(this.data.expectingFirstListItemValue){const L=this.stack[this.stack.length-2];L.start=Number.parseInt(this.sliceSerialize(b),10),this.data.expectingFirstListItemValue=void 0}}function f(){const b=this.resume(),L=this.stack[this.stack.length-1];L.lang=b}function v(){const b=this.resume(),L=this.stack[this.stack.length-1];L.meta=b}function x(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function w(){const b=this.resume(),L=this.stack[this.stack.length-1];L.value=b.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function g(){const b=this.resume(),L=this.stack[this.stack.length-1];L.value=b.replace(/(\r?\n|\r)$/g,"")}function m(b){const L=this.resume(),U=this.stack[this.stack.length-1];U.label=L,U.identifier=Lr(this.sliceSerialize(b)).toLowerCase()}function y(){const b=this.resume(),L=this.stack[this.stack.length-1];L.title=b}function S(){const b=this.resume(),L=this.stack[this.stack.length-1];L.url=b}function E(b){const L=this.stack[this.stack.length-1];if(!L.depth){const U=this.sliceSerialize(b).length;L.depth=U}}function C(){this.data.setextHeadingSlurpLineEnding=!0}function T(b){const L=this.stack[this.stack.length-1];L.depth=this.sliceSerialize(b).codePointAt(0)===61?1:2}function P(){this.data.setextHeadingSlurpLineEnding=void 0}function F(b){const U=this.stack[this.stack.length-1].children;let Q=U[U.length-1];(!Q||Q.type!=="text")&&(Q=gy(),Q.position={start:Zt(b.start),end:void 0},U.push(Q)),this.stack.push(Q)}function A(b){const L=this.stack.pop();L.value+=this.sliceSerialize(b),L.position.end=Zt(b.end)}function D(b){const L=this.stack[this.stack.length-1];if(this.data.atHardBreak){const U=L.children[L.children.length-1];U.position.end=Zt(b.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(L.type)&&(F.call(this,b),A.call(this,b))}function O(){this.data.atHardBreak=!0}function J(){const b=this.resume(),L=this.stack[this.stack.length-1];L.value=b}function fe(){const b=this.resume(),L=this.stack[this.stack.length-1];L.value=b}function q(){const b=this.resume(),L=this.stack[this.stack.length-1];L.value=b}function _e(){const b=this.stack[this.stack.length-1];if(this.data.inReference){const L=this.data.referenceType||"shortcut";b.type+="Reference",b.referenceType=L,delete b.url,delete b.title}else delete b.identifier,delete b.label;this.data.referenceType=void 0}function xe(){const b=this.stack[this.stack.length-1];if(this.data.inReference){const L=this.data.referenceType||"shortcut";b.type+="Reference",b.referenceType=L,delete b.url,delete b.title}else delete b.identifier,delete b.label;this.data.referenceType=void 0}function R(b){const L=this.sliceSerialize(b),U=this.stack[this.stack.length-2];U.label=mj(L),U.identifier=Lr(L).toLowerCase()}function B(){const b=this.stack[this.stack.length-1],L=this.resume(),U=this.stack[this.stack.length-1];if(this.data.inReference=!0,U.type==="link"){const Q=b.children;U.children=Q}else U.alt=L}function k(){const b=this.resume(),L=this.stack[this.stack.length-1];L.url=b}function G(){const b=this.resume(),L=this.stack[this.stack.length-1];L.title=b}function ne(){this.data.inReference=void 0}function j(){this.data.referenceType="collapsed"}function je(b){const L=this.resume(),U=this.stack[this.stack.length-1];U.label=L,U.identifier=Lr(this.sliceSerialize(b)).toLowerCase(),this.data.referenceType="full"}function xt(b){this.data.characterReferenceType=b.type}function ae(b){const L=this.sliceSerialize(b),U=this.data.characterReferenceType;let Q;U?(Q=Fg(L,U==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Q=jc(L);const re=this.stack[this.stack.length-1];re.value+=Q}function Nt(b){const L=this.stack.pop();L.position.end=Zt(b.end)}function Yt(b){A.call(this,b);const L=this.stack[this.stack.length-1];L.url=this.sliceSerialize(b)}function sr(b){A.call(this,b);const L=this.stack[this.stack.length-1];L.url="mailto:"+this.sliceSerialize(b)}function or(){return{type:"blockquote",children:[]}}function gs(){return{type:"code",lang:null,meta:null,value:""}}function uy(){return{type:"inlineCode",value:""}}function cy(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function dy(){return{type:"emphasis",children:[]}}function Fc(){return{type:"heading",depth:0,children:[]}}function Dc(){return{type:"break"}}function Mc(){return{type:"html",value:""}}function hy(){return{type:"image",title:null,url:"",alt:null}}function Bc(){return{type:"link",title:null,url:"",children:[]}}function zc(b){return{type:"list",ordered:b.type==="listOrdered",start:null,spread:b._spread,children:[]}}function fy(b){return{type:"listItem",spread:b._spread,checked:null,children:[]}}function py(){return{type:"paragraph",children:[]}}function my(){return{type:"strong",children:[]}}function gy(){return{type:"text",value:""}}function yy(){return{type:"thematicBreak"}}}function Zt(e){return{line:e.line,column:e.column,offset:e.offset}}function Qg(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?Qg(e,r):xj(e,r)}}function xj(e,t){let n;for(n in t)if(qg.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function Vh(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Ai({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Ai({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Ai({start:t.start,end:t.end})+") is still open")}function wj(e){const t=this;t.parser=n;function n(r){return yj(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function _j(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function kj(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function Sj(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function jj(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Cj(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Ej(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=Yr(r.toLowerCase()),s=e.footnoteOrder.indexOf(r);let o,l=e.footnoteCounts.get(r);l===void 0?(l=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=s+1,l+=1,e.footnoteCounts.set(r,l);const a={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,a);const c={type:"element",tagName:"sup",properties:{},children:[a]};return e.patch(t,c),e.applyData(t,c)}function bj(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Tj(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function Kg(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function Pj(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Kg(e,t);const i={src:Yr(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,s),e.applyData(t,s)}function Nj(e,t){const n={src:Yr(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function Ij(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function Oj(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Kg(e,t);const i={href:Yr(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function Lj(e,t){const n={href:Yr(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Aj(e,t,n){const r=e.all(t),i=n?Rj(n):Jg(t),s={},o=[];if(typeof t.checked=="boolean"){const d=r[0];let h;d&&d.type==="element"&&d.tagName==="p"?h=d:(h={type:"element",tagName:"p",properties:{},children:[]},r.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let l=-1;for(;++l<r.length;){const d=r[l];(i||l!==0||d.type!=="element"||d.tagName!=="p")&&o.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?o.push(...d.children):o.push(d)}const a=r[r.length-1];a&&(i||a.type!=="element"||a.tagName!=="p")&&o.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:s,children:o};return e.patch(t,c),e.applyData(t,c)}function Rj(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=Jg(n[r])}return t}function Jg(e){const t=e.spread;return t??e.children.length>1}function Fj(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function Dj(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Mj(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function Bj(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function zj(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},l=wc(t.children[1]),a=Pg(t.children[t.children.length-1]);l&&a&&(o.position={start:l,end:a}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function $j(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,l=o?o.length:t.children.length;let a=-1;const c=[];for(;++a<l;){const h=t.children[a],p={},f=o?o[a]:void 0;f&&(p.align=f);let v={type:"element",tagName:s,properties:p,children:[]};h&&(v.children=e.all(h),e.patch(h,v),v=e.applyData(h,v)),c.push(v)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(t,d),e.applyData(t,d)}function Uj(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const Wh=9,qh=32;function Hj(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(Qh(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(Qh(t.slice(i),i>0,!1)),s.join("")}function Qh(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===Wh||s===qh;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===Wh||s===qh;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function Vj(e,t){const n={type:"text",value:Hj(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function Wj(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const qj={blockquote:_j,break:kj,code:Sj,delete:jj,emphasis:Cj,footnoteReference:Ej,heading:bj,html:Tj,imageReference:Pj,image:Nj,inlineCode:Ij,linkReference:Oj,link:Lj,listItem:Aj,list:Fj,paragraph:Dj,root:Mj,strong:Bj,table:zj,tableCell:Uj,tableRow:$j,text:Vj,thematicBreak:Wj,toml:Ds,yaml:Ds,definition:Ds,footnoteDefinition:Ds};function Ds(){}const Gg=-1,al=0,Lo=1,Ao=2,bc=3,Tc=4,Pc=5,Nc=6,Yg=7,Xg=8,Kh=typeof self=="object"?self:globalThis,Qj=(e,t)=>{const n=(i,s)=>(e.set(s,i),i),r=i=>{if(e.has(i))return e.get(i);const[s,o]=t[i];switch(s){case al:case Gg:return n(o,i);case Lo:{const l=n([],i);for(const a of o)l.push(r(a));return l}case Ao:{const l=n({},i);for(const[a,c]of o)l[r(a)]=r(c);return l}case bc:return n(new Date(o),i);case Tc:{const{source:l,flags:a}=o;return n(new RegExp(l,a),i)}case Pc:{const l=n(new Map,i);for(const[a,c]of o)l.set(r(a),r(c));return l}case Nc:{const l=n(new Set,i);for(const a of o)l.add(r(a));return l}case Yg:{const{name:l,message:a}=o;return n(new Kh[l](a),i)}case Xg:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i)}return n(new Kh[s](o),i)};return r},Jh=e=>Qj(new Map,e)(0),hr="",{toString:Kj}={},{keys:Jj}=Object,pi=e=>{const t=typeof e;if(t!=="object"||!e)return[al,t];const n=Kj.call(e).slice(8,-1);switch(n){case"Array":return[Lo,hr];case"Object":return[Ao,hr];case"Date":return[bc,hr];case"RegExp":return[Tc,hr];case"Map":return[Pc,hr];case"Set":return[Nc,hr]}return n.includes("Array")?[Lo,n]:n.includes("Error")?[Yg,n]:[Ao,n]},Ms=([e,t])=>e===al&&(t==="function"||t==="symbol"),Gj=(e,t,n,r)=>{const i=(o,l)=>{const a=r.push(o)-1;return n.set(l,a),a},s=o=>{if(n.has(o))return n.get(o);let[l,a]=pi(o);switch(l){case al:{let d=o;switch(a){case"bigint":l=Xg,d=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+a);d=null;break;case"undefined":return i([Gg],o)}return i([l,d],o)}case Lo:{if(a)return i([a,[...o]],o);const d=[],h=i([l,d],o);for(const p of o)d.push(s(p));return h}case Ao:{if(a)switch(a){case"BigInt":return i([a,o.toString()],o);case"Boolean":case"Number":case"String":return i([a,o.valueOf()],o)}if(t&&"toJSON"in o)return s(o.toJSON());const d=[],h=i([l,d],o);for(const p of Jj(o))(e||!Ms(pi(o[p])))&&d.push([s(p),s(o[p])]);return h}case bc:return i([l,o.toISOString()],o);case Tc:{const{source:d,flags:h}=o;return i([l,{source:d,flags:h}],o)}case Pc:{const d=[],h=i([l,d],o);for(const[p,f]of o)(e||!(Ms(pi(p))||Ms(pi(f))))&&d.push([s(p),s(f)]);return h}case Nc:{const d=[],h=i([l,d],o);for(const p of o)(e||!Ms(pi(p)))&&d.push(s(p));return h}}const{message:c}=o;return i([l,{name:a,message:c}],o)};return s},Gh=(e,{json:t,lossy:n}={})=>{const r=[];return Gj(!(t||n),!!t,new Map,r)(e),r},Ro=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Jh(Gh(e,t)):structuredClone(e):(e,t)=>Jh(Gh(e,t));function Yj(e,t){const n=[{type:"text",value:"↩"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function Xj(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function Zj(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||Yj,r=e.options.footnoteBackLabel||Xj,i=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let a=-1;for(;++a<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[a]);if(!c)continue;const d=e.all(c),h=String(c.identifier).toUpperCase(),p=Yr(h.toLowerCase());let f=0;const v=[],x=e.footnoteCounts.get(h);for(;x!==void 0&&++f<=x;){v.length>0&&v.push({type:"text",value:" "});let m=typeof n=="string"?n:n(a,f);typeof m=="string"&&(m={type:"text",value:m}),v.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+p+(f>1?"-"+f:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(a,f),className:["data-footnote-backref"]},children:Array.isArray(m)?m:[m]})}const w=d[d.length-1];if(w&&w.type==="element"&&w.tagName==="p"){const m=w.children[w.children.length-1];m&&m.type==="text"?m.value+=" ":w.children.push({type:"text",value:" "}),w.children.push(...v)}else d.push(...v);const g={type:"element",tagName:"li",properties:{id:t+"fn-"+p},children:e.wrap(d,!0)};e.patch(c,g),l.push(g)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...Ro(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(l,!0)},{type:"text",value:`
`}]}}const Zg=function(e){if(e==null)return rC;if(typeof e=="function")return ul(e);if(typeof e=="object")return Array.isArray(e)?eC(e):tC(e);if(typeof e=="string")return nC(e);throw new Error("Expected function, string, or object as test")};function eC(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Zg(e[n]);return ul(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function tC(e){const t=e;return ul(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function nC(e){return ul(t);function t(n){return n&&n.type===e}}function ul(e){return t;function t(n,r,i){return!!(iC(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function rC(){return!0}function iC(e){return e!==null&&typeof e=="object"&&"type"in e}const ey=[],sC=!0,Yh=!1,oC="skip";function lC(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=Zg(i),o=r?-1:1;l(e,void 0,[])();function l(a,c,d){const h=a&&typeof a=="object"?a:{};if(typeof h.type=="string"){const f=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(a.type+(f?"<"+f+">":""))+")"})}return p;function p(){let f=ey,v,x,w;if((!t||s(a,c,d[d.length-1]||void 0))&&(f=aC(n(a,d)),f[0]===Yh))return f;if("children"in a&&a.children){const g=a;if(g.children&&f[0]!==oC)for(x=(r?g.children.length:-1)+o,w=d.concat(g);x>-1&&x<g.children.length;){const m=g.children[x];if(v=l(m,x,w)(),v[0]===Yh)return v;x=typeof v[1]=="number"?v[1]:x+o}}return f}}}function aC(e){return Array.isArray(e)?e:typeof e=="number"?[sC,e]:e==null?ey:[e]}function ty(e,t,n,r){let i,s,o;typeof t=="function"&&typeof n!="function"?(s=void 0,o=t,i=n):(s=t,o=n,i=r),lC(e,s,l,i);function l(a,c){const d=c[c.length-1],h=d?d.children.indexOf(a):void 0;return o(a,h,d)}}const hu={}.hasOwnProperty,uC={};function cC(e,t){const n=t||uC,r=new Map,i=new Map,s=new Map,o={...qj,...n.handlers},l={all:c,applyData:hC,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:a,options:n,patch:dC,wrap:pC};return ty(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const h=d.type==="definition"?r:i,p=String(d.identifier).toUpperCase();h.has(p)||h.set(p,d)}}),l;function a(d,h){const p=d.type,f=l.handlers[p];if(hu.call(l.handlers,p)&&f)return f(l,d,h);if(l.options.passThrough&&l.options.passThrough.includes(p)){if("children"in d){const{children:x,...w}=d,g=Ro(w);return g.children=l.all(d),g}return Ro(d)}return(l.options.unknownHandler||fC)(l,d,h)}function c(d){const h=[];if("children"in d){const p=d.children;let f=-1;for(;++f<p.length;){const v=l.one(p[f],d);if(v){if(f&&p[f-1].type==="break"&&(!Array.isArray(v)&&v.type==="text"&&(v.value=Xh(v.value)),!Array.isArray(v)&&v.type==="element")){const x=v.children[0];x&&x.type==="text"&&(x.value=Xh(x.value))}Array.isArray(v)?h.push(...v):h.push(v)}}}return h}}function dC(e,t){e.position&&(t.position=qk(e))}function hC(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,Ro(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function fC(e,t){const n=t.data||{},r="value"in t&&!(hu.call(n,"hProperties")||hu.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function pC(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function Xh(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function Zh(e,t){const n=cC(e,t),r=n.one(e,void 0),i=Zj(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function mC(e,t){return e&&"run"in e?async function(n,r){const i=Zh(n,{file:r,...t});await e.run(i,r)}:function(n,r){return Zh(n,{file:r,...t||e})}}function ef(e){if(e)throw e}var eo=Object.prototype.hasOwnProperty,ny=Object.prototype.toString,tf=Object.defineProperty,nf=Object.getOwnPropertyDescriptor,rf=function(t){return typeof Array.isArray=="function"?Array.isArray(t):ny.call(t)==="[object Array]"},sf=function(t){if(!t||ny.call(t)!=="[object Object]")return!1;var n=eo.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&eo.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||eo.call(t,i)},of=function(t,n){tf&&n.name==="__proto__"?tf(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},lf=function(t,n){if(n==="__proto__")if(eo.call(t,n)){if(nf)return nf(t,n).value}else return;return t[n]},gC=function e(){var t,n,r,i,s,o,l=arguments[0],a=1,c=arguments.length,d=!1;for(typeof l=="boolean"&&(d=l,l=arguments[1]||{},a=2),(l==null||typeof l!="object"&&typeof l!="function")&&(l={});a<c;++a)if(t=arguments[a],t!=null)for(n in t)r=lf(l,n),i=lf(t,n),l!==i&&(d&&i&&(sf(i)||(s=rf(i)))?(s?(s=!1,o=r&&rf(r)?r:[]):o=r&&sf(r)?r:{},of(l,{name:n,newValue:e(d,o,i)})):typeof i<"u"&&of(l,{name:n,newValue:i}));return l};const Ql=bf(gC);function fu(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function yC(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);l(null,...i);function l(a,...c){const d=e[++s];let h=-1;if(a){o(a);return}for(;++h<i.length;)(c[h]===null||c[h]===void 0)&&(c[h]=i[h]);i=c,d?vC(d,l)(...c):o(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function vC(e,t){let n;return r;function r(...o){const l=e.length>o.length;let a;l&&o.push(i);try{a=e.apply(this,o)}catch(c){const d=c;if(l&&n)throw d;return i(d)}l||(a&&a.then&&typeof a.then=="function"?a.then(s,i):a instanceof Error?i(a):s(a))}function i(o,...l){n||(n=!0,t(o,...l))}function s(o){i(null,o)}}const Lt={basename:xC,dirname:wC,extname:_C,join:kC,sep:"/"};function xC(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');ps(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,l=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),l>-1&&(e.codePointAt(i)===t.codePointAt(l--)?l<0&&(r=i):(l=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function wC(e){if(ps(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function _C(e){ps(e);let t=e.length,n=-1,r=0,i=-1,s=0,o;for(;t--;){const l=e.codePointAt(t);if(l===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),l===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function kC(...e){let t=-1,n;for(;++t<e.length;)ps(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":SC(n)}function SC(e){ps(e);const t=e.codePointAt(0)===47;let n=jC(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function jC(e,t){let n="",r=0,i=-1,s=0,o=-1,l,a;for(;++o<=e.length;){if(o<e.length)l=e.codePointAt(o);else{if(l===47)break;l=47}if(l===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(a=n.lastIndexOf("/"),a!==n.length-1){a<0?(n="",r=0):(n=n.slice(0,a),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,s=0}else l===46&&s>-1?s++:s=-1}return n}function ps(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const CC={cwd:EC};function EC(){return"/"}function pu(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function bC(e){if(typeof e=="string")e=new URL(e);else if(!pu(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return TC(e)}function TC(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const Kl=["history","path","basename","stem","extname","dirname"];class ry{constructor(t){let n;t?pu(t)?n={path:t}:typeof t=="string"||PC(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":CC.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Kl.length;){const s=Kl[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)Kl.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Lt.basename(this.path):void 0}set basename(t){Gl(t,"basename"),Jl(t,"basename"),this.path=Lt.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Lt.dirname(this.path):void 0}set dirname(t){af(this.basename,"dirname"),this.path=Lt.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Lt.extname(this.path):void 0}set extname(t){if(Jl(t,"extname"),af(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Lt.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){pu(t)&&(t=bC(t)),Gl(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Lt.basename(this.path,this.extname):void 0}set stem(t){Gl(t,"stem"),Jl(t,"stem"),this.path=Lt.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new De(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Jl(e,t){if(e&&e.includes(Lt.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Lt.sep+"`")}function Gl(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function af(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function PC(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const NC=function(e){const r=this.constructor.prototype,i=r[e],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},IC={}.hasOwnProperty;class Ic extends NC{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=yC()}copy(){const t=new Ic;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(Ql(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Zl("data",this.frozen),this.namespace[t]=n,this):IC.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Zl("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Bs(t),r=this.parser||this.Parser;return Yl("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Yl("process",this.parser||this.Parser),Xl("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,o){const l=Bs(t),a=r.parse(l);r.run(a,l,function(d,h,p){if(d||!h||!p)return c(d);const f=h,v=r.stringify(f,p);AC(v)?p.value=v:p.result=v,c(d,p)});function c(d,h){d||!h?o(d):s?s(h):n(void 0,h)}}}processSync(t){let n=!1,r;return this.freeze(),Yl("processSync",this.parser||this.Parser),Xl("processSync",this.compiler||this.Compiler),this.process(t,i),cf("processSync","process",n),r;function i(s,o){n=!0,ef(s),r=o}}run(t,n,r){uf(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,l){const a=Bs(n);i.run(t,a,c);function c(d,h,p){const f=h||t;d?l(d):o?o(f):r(void 0,f,p)}}}runSync(t,n){let r=!1,i;return this.run(t,n,s),cf("runSync","run",r),i;function s(o,l){ef(o),i=l,r=!0}}stringify(t,n){this.freeze();const r=Bs(n),i=this.compiler||this.Compiler;return Xl("stringify",i),uf(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(Zl("use",this.frozen),t!=null)if(typeof t=="function")a(t,n);else if(typeof t=="object")Array.isArray(t)?l(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(c){if(typeof c=="function")a(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[d,...h]=c;a(d,h)}else o(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function o(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(c.plugins),c.settings&&(i.settings=Ql(!0,i.settings,c.settings))}function l(c){let d=-1;if(c!=null)if(Array.isArray(c))for(;++d<c.length;){const h=c[d];s(h)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function a(c,d){let h=-1,p=-1;for(;++h<r.length;)if(r[h][0]===c){p=h;break}if(p===-1)r.push([c,...d]);else if(d.length>0){let[f,...v]=d;const x=r[p][1];fu(x)&&fu(f)&&(f=Ql(!0,x,f)),r[p]=[c,f,...v]}}}}const OC=new Ic().freeze();function Yl(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Xl(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Zl(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function uf(e){if(!fu(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function cf(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Bs(e){return LC(e)?e:new ry(e)}function LC(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function AC(e){return typeof e=="string"||RC(e)}function RC(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const FC="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",df=[],hf={allowDangerousHtml:!0},DC=/^(https?|ircs?|mailto|xmpp)$/i,MC=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function BC(e){const t=e.allowedElements,n=e.allowElement,r=e.children||"",i=e.className,s=e.components,o=e.disallowedElements,l=e.rehypePlugins||df,a=e.remarkPlugins||df,c=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...hf}:hf,d=e.skipHtml,h=e.unwrapDisallowed,p=e.urlTransform||zC,f=OC().use(wj).use(a).use(mC,c).use(l),v=new ry;typeof r=="string"&&(v.value=r);for(const m of MC)Object.hasOwn(e,m.from)&&(""+m.from+(m.to?"use `"+m.to+"` instead":"remove it")+FC+m.id,void 0);const x=f.parse(v);let w=f.runSync(x,v);return i&&(w={type:"element",tagName:"div",properties:{className:i},children:w.type==="root"?w.children:[w]}),ty(w,g),Xk(w,{Fragment:u.Fragment,components:s,ignoreInvalidStyle:!0,jsx:u.jsx,jsxs:u.jsxs,passKeys:!0,passNode:!0});function g(m,y,S){if(m.type==="raw"&&S&&typeof y=="number")return d?S.children.splice(y,1):S.children[y]={type:"text",value:m.value},y;if(m.type==="element"){let E;for(E in Vl)if(Object.hasOwn(Vl,E)&&Object.hasOwn(m.properties,E)){const C=m.properties[E],T=Vl[E];(T===null||T.includes(m.tagName))&&(m.properties[E]=p(String(C||""),E,m))}}if(m.type==="element"){let E=t?!t.includes(m.tagName):o?o.includes(m.tagName):!1;if(!E&&n&&typeof y=="number"&&(E=!n(m,y,S)),E&&S&&typeof y=="number")return h&&m.children?S.children.splice(y,1,...m.children):S.children.splice(y,1),y}}}function zC(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t<0||i>-1&&t>i||n>-1&&t>n||r>-1&&t>r||DC.test(e.slice(0,t))?e:""}const $C=({book_id:e,book_rate_stars:t,book_rate_spice:n,book_title_short:r})=>{const{userMyBooks:i,setUserMyBooks:s,setPopupNotification:o,userid:l}=_.useContext(z),[a,c]=_.useState(t),[d,h]=_.useState(n);async function p(m){let y;s(m);const{error:S}=await Z.from("user_entries").update({json:m,testdata:"updated from RateStars n Spice"}).eq("user_id",l).select("*");S?y=S.message:y="Added rating for "+r,o(y)}function f(m,y,S){let E;i!==void 0?E=i:E=[];for(let T=0;T<E.length;T++)if(E[T].id===m){y==="rate_stars"&&(E[T].rate_stars=S),y==="rate_spice"&&(E[T].rate_spice=S);break}const C=E;return p(C),C}function v(m,y){m==="rate_stars"&&c(y),m==="rate_spice"&&h(y);const S=f(e,m,y);s(S)}const x="icon icon-eraser",w="icon icon-star",g="icon icon-spice";return t===void 0&&(t=0),n===void 0&&(n=0),u.jsxs("div",{className:"review-rates",children:[u.jsxs("div",{className:"rate-stars",children:[u.jsx("button",{className:"btn-icon",onClick:()=>v("rate_stars",0),children:u.jsx("span",{className:x})}),u.jsx("button",{className:"btn-icon",onClick:()=>v("rate_stars",1),children:u.jsx("span",{className:w+(a>0?" active":""),children:"*"})}),u.jsx("button",{className:"btn-icon",onClick:()=>v("rate_stars",2),children:u.jsx("span",{className:w+(a>1?" active":""),children:"*"})}),u.jsx("button",{className:"btn-icon",onClick:()=>v("rate_stars",3),children:u.jsx("span",{className:w+(a>2?" active":""),children:"*"})}),u.jsx("button",{className:"btn-icon",onClick:()=>v("rate_stars",4),children:u.jsx("span",{className:w+(a>3?" active":""),children:"*"})}),u.jsx("button",{className:"btn-icon",onClick:()=>v("rate_stars",5),children:u.jsx("span",{className:w+(a>4?" active":""),children:"*"})})]}),u.jsxs("div",{className:"rate-spice",children:[u.jsx("button",{className:"btn-icon",onClick:()=>v("rate_spice",0),children:u.jsx("span",{className:x})}),u.jsx("button",{className:"btn-icon",onClick:()=>v("rate_spice",1),children:u.jsx("span",{className:g+(d>0?" active":""),children:"&"})}),u.jsx("button",{className:"btn-icon",onClick:()=>v("rate_spice",2),children:u.jsx("span",{className:g+(d>1?" active":""),children:"&"})}),u.jsx("button",{className:"btn-icon",onClick:()=>v("rate_spice",3),children:u.jsx("span",{className:g+(d>2?" active":""),children:"&"})}),u.jsx("button",{className:"btn-icon",onClick:()=>v("rate_spice",4),children:u.jsx("span",{className:g+(d>3?" active":""),children:"&"})}),u.jsx("button",{className:"btn-icon",onClick:()=>v("rate_spice",5),children:u.jsx("span",{className:g+(d>4?" active":""),children:"&"})})]})]})};function Cn(e,t=!1){if(e.trim(),e.length<1)return"";let n,r=e.charCodeAt(0);return t&&r>96&&r<123?(r-=32,n=String.fromCharCode(r)+e.slice(1)):n=e,n}function Oc(e,t=!0){if(e.length<1)return"";let n="",r;for(let i=0;i<e.length&&(r=e.charCodeAt(i),e[i]!=="?");i++)r<48||r>57&&r<65||r>90&&r<97||r>122?t&&(n+="-"):n+=e[i];return n}function Lc(e,t){let n="",r;for(let i=0;i<e.length;i++)r=e.charCodeAt(i),(r>47&&r<58||r>64&&r<91||r>90&&r<97||r>96&&r<123)&&(n+=e[i]);return n+=t,n}function UC(e){const t=[";","/","?",":","@","&","=","+","$",",","#"];let n="",r=!1;for(let i=0;i<e.length;i++){r=!1;for(let s=0;s<t.length;s++)if(e[i]===t[s]){r=!0;break}r?n+=" ":n+=e[i]}return n}const ir=()=>u.jsx("button",{className:"btn-submit-inside-caret-right"}),HC=({book_id:e,book_review_text:t})=>{const{userMyBooks:n,setUserMyBooks:r,userid:i,setPopupNotification:s}=_.useContext(z),[o,l]=_.useState(t),[a,c]=_.useState(!1),[d,h]=_.useState(!0),[p,f]=_.useState(!1);function v(y){y.preventDefault();const S=Cn(y.currentTarget.review_text.value.trim(),!0);S!==void 0&&(f(!0),l(S),c(!1),h(!0))}_.useEffect(()=>{(t===void 0||t.length<1)&&c(!0)},[t]);const x=_.useCallback(async function(S){let E;r(S);const{error:C}=await Z.from("user_entries").update({json:S,testdata:"updated from review: text"}).eq("user_id",i).select("*");C?E=C.message:E="Updated review.",s(E)},[r,s,i]),w=_.useCallback(async function(){for(let S=0;S<n.length;S++)if(n[S].id===e){n[S].review_text=o;break}x(n)},[n,e,o,x]);_.useEffect(()=>{t!==o&&p&&(w(),f(!1))},[p,r,w,e,t,o]);const g=()=>{c(!0),f(!0),h(!1)},m=()=>{f(!1),h(!0),c(!1)};return _.useEffect(()=>{var y,S;p&&((y=document.getElementById("review_text"+e))==null||y.focus(),o!==void 0&&((S=document.getElementById("review_text"+e))==null||S.setAttribute("value",o)))},[a,o,e,p]),u.jsxs("div",{className:"review-text",children:[a&&u.jsxs(u.Fragment,{children:[u.jsxs("form",{className:"single-small-form clr",onSubmit:v,children:[u.jsx("input",{name:"review_text",id:"review_text"+e,type:"text",placeholder:"Add a review..."}),u.jsx(ir,{})]}),o&&u.jsx("button",{className:"btn-text btn-text-cancel",onClick:m,children:"Cancel"})]}),d&&u.jsx("div",{onClick:g,children:o})]})},ff=({book_id:e,book_review_fav_quote:t})=>{const{userMyBooks:n,setUserMyBooks:r,userid:i,setPopupNotification:s}=_.useContext(z),[o,l]=_.useState(t),[a,c]=_.useState(!1),[d,h]=_.useState(!0),[p,f]=_.useState(!1);function v(y){y.preventDefault();const S=Cn(y.currentTarget.review_fav_quote.value.trim(),!0);S!==void 0&&(f(!0),l(S),c(!1),h(!0))}_.useEffect(()=>{(t===void 0||t.length<1)&&c(!0)},[t]);const x=_.useCallback(async function(S){let E;r(S);const{error:C}=await Z.from("user_entries").update({json:S,testdata:"updated from review: favourite quote"}).eq("user_id",i).select("*");C?E=C.message:E="Updated review.",s(E)},[r,s,i]),w=_.useCallback(async function(){for(let S=0;S<n.length;S++)if(n[S].id===e){n[S].review_fav_quote=o;break}x(n)},[n,e,o,x]);_.useEffect(()=>{t!==o&&p&&(w(),f(!1))},[p,r,w,e,t,o]);const g=()=>{c(!0),f(!0),h(!1)},m=()=>{f(!1),h(!0),c(!1)};return _.useEffect(()=>{var y,S;p&&((y=document.getElementById("review_fav_quote"+e))==null||y.focus(),o!==void 0&&((S=document.getElementById("review_fav_quote"+e))==null||S.setAttribute("value",o))),h(!!(o&&o!==""))},[a,o,e,p]),u.jsxs("div",{className:"review-text quote",children:[a&&u.jsxs(u.Fragment,{children:[u.jsxs("form",{className:"single-small-form clr",onSubmit:v,children:[u.jsx("input",{name:"review_fav_quote",id:"review_fav_quote"+e,type:"text",placeholder:"Add your favorite quote..."}),u.jsx(ir,{})]}),o&&u.jsx("button",{className:"btn-text btn-text-cancel",onClick:m,children:"Cancel"})]}),d&&u.jsx("div",{onClick:g,children:o})]})},VC=({book_id:e,tropes:t})=>{const[n,r]=_.useState(!1);function i(){r(!n)}if(t!==void 0)return u.jsxs("ul",{className:"tropes clr mb0",children:[t.map((s,o)=>{if(n)return u.jsx("li",{className:"trope badge",children:s},"trope"+e+o);if(o<5)return u.jsx("li",{className:"trope badge",children:s},"trope"+e+o)}),u.jsx("li",{className:"trope_more",children:u.jsx("button",{onClick:()=>i(),className:"btn-sm mb0",children:n?"<":"..."})})]})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var mu=function(){return mu=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},mu.apply(this,arguments)};function WC(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}var Ar="",Fi=null,to=null,iy=null;function Ac(){Ar="",Fi!==null&&Fi.disconnect(),to!==null&&(window.clearTimeout(to),to=null)}function pf(e){var t=["BUTTON","INPUT","SELECT","TEXTAREA"],n=["A","AREA"];return t.includes(e.tagName)&&!e.hasAttribute("disabled")||n.includes(e.tagName)&&e.hasAttribute("href")}function mf(){var e=null;if(Ar==="#")e=document.body;else{var t=Ar.replace("#","");e=document.getElementById(t),e===null&&Ar==="#top"&&(e=document.body)}if(e!==null){iy(e);var n=e.getAttribute("tabindex");return n===null&&!pf(e)&&e.setAttribute("tabindex",-1),e.focus({preventScroll:!0}),n===null&&!pf(e)&&(e.blur(),e.removeAttribute("tabindex")),Ac(),!0}return!1}function qC(e){window.setTimeout(function(){mf()===!1&&(Fi===null&&(Fi=new MutationObserver(mf)),Fi.observe(document,{attributes:!0,childList:!0,subtree:!0}),to=window.setTimeout(function(){Ac()},e||1e4))},0)}function sy(e){return no.forwardRef(function(t,n){var r="";typeof t.to=="string"&&t.to.includes("#")?r="#"+t.to.split("#").slice(1).join("#"):typeof t.to=="object"&&typeof t.to.hash=="string"&&(r=t.to.hash);var i={};e===Me&&(i.isActive=function(l,a){return l&&l.isExact&&a.hash===r});function s(l){Ac(),Ar=t.elementId?"#"+t.elementId:r,t.onClick&&t.onClick(l),Ar!==""&&!l.defaultPrevented&&l.button===0&&(!t.target||t.target==="_self")&&!(l.metaKey||l.altKey||l.ctrlKey||l.shiftKey)&&(iy=t.scroll||function(a){return t.smooth?a.scrollIntoView({behavior:"smooth"}):a.scrollIntoView()},qC(t.timeout))}var o=WC(t,["scroll","smooth","timeout","elementId"]);return no.createElement(e,mu({},i,o,{onClick:s,ref:n}),t.children)})}var zs=sy(ee);sy(Me);const QC=(e,t)=>{const{userMyBooks:n,setUserMyBooks:r,setPopupNotification:i,userid:s}=_.useContext(z),[o,l]=_.useState(t),[a,c]=_.useState(!1),[d,h]=_.useState(!1);function p(m){h(!0),l(o.filter(y=>y!==m))}const f=(m,y)=>{if(m!==void 0)return u.jsxs("ul",{className:"tropes clr mb0",children:[m.map((S,E)=>u.jsxs("li",{className:"trope badge",children:[S,u.jsx("button",{className:"btn-x",onClick:()=>p(S),children:"x"})]},"trope"+y+E)),!a&&u.jsx("li",{className:"trope_add",children:u.jsx("button",{className:a?"btn-sm mb0 active":"btn-sm mb0",onClick:()=>c(!a),children:m.length>0?u.jsx(u.Fragment,{children:"+"}):u.jsx(u.Fragment,{children:"Add tropes"})})})]})},v=_.useCallback(async function(y){let S;r(y);const{error:E}=await Z.from("user_entries").update({json:y,testdata:"updated from review: Tropes"}).eq("user_id",s).select("*");E?S=E.message:S="Updated tropes.",i(S)},[r,i,s]),x=_.useCallback(async function(){if(!(n.length<1)){for(let y=0;y<n.length;y++)if(n[y].id===e.id){n[y].review_tropes=o;break}v(n)}},[n,e.id,o,v]);function w(m){m.preventDefault();const y=Cn(m.currentTarget.trope_add.value,!0);y!==void 0&&y.length>2&&(h(!0),l([...o,y]),m.currentTarget.trope_add.value="",m.currentTarget.trope_add.focus())}_.useEffect(()=>{t!==o&&d&&(x(),h(!1))},[t,d,r,x,e.id,o]),e.review_tropes===void 0&&(e.review_tropes=[]),_.useEffect(()=>{var m;a===!0&&((m=document.getElementById("trope_add_"+e.id))==null||m.focus())},[a,e.id]);const g=()=>{c(!1),h(!1)};return u.jsxs(u.Fragment,{children:[f(o,e.id),a&&u.jsxs(u.Fragment,{children:[u.jsxs("form",{className:"single-small-form clr",onSubmit:w,children:[u.jsx("input",{type:"text",name:"trope_add",id:"trope_add_"+e.id,placeholder:"Add a trope..."}),u.jsx(ir,{})]}),u.jsx("button",{className:"btn-text btn-text-cancel",onClick:g,children:"Cancel"})]})]})};function KC({currentPage:e,book:t}){return u.jsx("div",{className:"reviews",children:(e==="finished"||e==="favorites")&&t.review_tropes&&QC(t,t==null?void 0:t.review_tropes)})}const JC=({book_id:e})=>{const{userMyBooks:t,setUserMyBooks:n,setPopupNotification:r,userid:i}=_.useContext(z),[s,o]=_.useState(!0),[l,a]=_.useState(0),[c,d]=_.useState(!1),h=_.useCallback(async function(v){let x;n(v);const{error:w}=await Z.from("user_entries").update({json:v,testdata:"updated from book summary: Fetch pages"}).eq("user_id",i).select("*");w?x=w.message:x="Updated pages.",r(x)},[r,n,i]),p=_.useCallback(async function(){if(t.length<1)return;const v=l;for(let x=0;x<t.length;x++)if(t[x].id===e){v!==t[x].number_of_pages_median&&v>0&&(t[x].number_of_pages_median=v);break}h(t)},[t,e,h,l]);return _.useEffect(()=>{s&&((async()=>await Xw(e))().then(v=>{v&&a(v)}),o(!s)),c&&l>0&&(p(),d(!1))},[s,l,c,e,p]),u.jsx(u.Fragment,{children:l>0&&u.jsxs("button",{className:"btn-text mt05 ml05",onClick:()=>d(!0),children:[" ","guess: ",l," "]})})},GC=({book_id:e,book_number_of_pages_median:t})=>{const{userMyBooks:n,setUserMyBooks:r,setPopupNotification:i,userid:s}=_.useContext(z),[o,l]=_.useState(!1),a="addPagesToBookId"+e,[c,d]=_.useState(t),[h,p]=_.useState(!1),f=_.useCallback(async function(g){let m;r(g);const{error:y}=await Z.from("user_entries").update({json:g,testdata:"updated from book summary: Add pages"}).eq("user_id",s).select("*");y?m=y.message:m="Updated pages.",i(m)},[i,r,s]),v=_.useCallback(async function(){if(!(n.length<1)){for(let g=0;g<n.length;g++)if(n[g].id===e){c!==n[g].number_of_pages_median&&(n[g].number_of_pages_median=c);break}f(n)}},[n,e,c,f]);function x(w){w.preventDefault();const g=Number(Cn(w.currentTarget.pagesAmount.value));g!==void 0&&g>0&&(p(!0),d(g))}return _.useEffect(()=>{var w;o&&((w=document.getElementById(a))==null||w.focus()),c!==t&&h&&(v(),p(!1))},[o,c,h,v,t,a]),u.jsxs(u.Fragment,{children:[u.jsx("button",{className:"btn-text",onClick:()=>l(!o),children:"__ pages"}),o?u.jsxs("div",{className:o?"dblock":"dnone",children:[u.jsx(JC,{book_id:e}),u.jsxs("form",{onSubmit:x,className:"single-small-form wm6 diblock",children:[u.jsx("input",{type:"number",id:a,name:"pagesAmount",defaultValue:t}),u.jsx(ir,{})]})]}):u.jsx(u.Fragment,{})]})},YC=({book_id:e,book_number_of_pages_median:t})=>{const{setIsModdingPages:n}=_.useContext(oy),{userMyBooks:r,setUserMyBooks:i,setPopupNotification:s,userid:o}=_.useContext(z),[l,a]=_.useState(!1),c="modifyPagesToBookId"+e,[d,h]=_.useState(t),[p,f]=_.useState(!1);_.useEffect(()=>{n(!!l)},[n,l]);const v=_.useCallback(async function(m){let y;i(m);const{error:S}=await Z.from("user_entries").update({json:m,testdata:"updated from book summary: Modify pages"}).eq("user_id",o).select("*");S?y=S.message:y="Updated pages.",s(y)},[s,i,o]),x=_.useCallback(async function(){if(!(r.length<1)){for(let m=0;m<r.length;m++)if(r[m].id===e){d!==r[m].number_of_pages_median&&(r[m].number_of_pages_median=d);break}v(r)}},[r,e,d,v]);function w(g){if(g.preventDefault(),Cn(g.currentTarget.pagesAmount.value)==="")console.log("change nothing");else{const m=Number(Cn(g.currentTarget.pagesAmount.value));m!==void 0&&m>-1&&(f(!0),h(m))}}return _.useEffect(()=>{var g;l&&((g=document.getElementById(c))==null||g.focus()),d!==t&&(h(t),p&&(x(),n(!1),a(!1)))},[l,d,p,x,e,t,c,n]),u.jsxs("span",{className:t>0?"dflex":"dnone",style:{alignItems:"center"},children:[u.jsx("div",{className:l?"dflex":"dnone",style:{alignContent:"center",alignItems:"center",position:"relative"},children:u.jsxs("form",{onSubmit:w,className:"single-small-form wm6 ",style:{marginRight:".3rem"},children:[u.jsx("input",{type:"number",id:c,name:"pagesAmount",defaultValue:t>0?t:0}),u.jsx(ir,{})]})}),u.jsx("button",{className:"btn-icon",onClick:()=>a(!l),children:u.jsx("span",{className:"icon icon-pencil"})})]})},oy=_.createContext({}),XC=({book_id:e,book_number_of_pages_median:t,currentPage:n})=>{const[r,i]=_.useState(!1);return u.jsx("div",{style:{display:"flex"},children:u.jsxs(oy.Provider,{value:{isModdingPages:r,setIsModdingPages:i},children:[r?u.jsx("div",{className:!t&&n!=="search"?"diblock":"dnone",children:u.jsx(GC,{book_id:e,book_number_of_pages_median:t})}):u.jsxs("span",{className:t>0?"diblock":"dnone",children:[t," pages  "]}),n!=="dashboard"&&n!=="wishlist"&&u.jsx(YC,{book_id:e,book_number_of_pages_median:t})]})})};function ZC({book_id:e,book_author_name:t}){if(t!==void 0)return t.map((n,r)=>{const i=e+"-"+r;return u.jsxs("span",{id:i,children:[n,u.jsx("br",{})]},`bookauthorlist${e}${r}`)})}const eE=({book_title_short:e,book_first_publish_year:t,currentPage:n,book_author_name:r,book_id:i})=>u.jsxs("h2",{children:[e," ",t&&n==="search"&&u.jsxs("sup",{children:["(",t,")"]}),u.jsx("sub",{children:u.jsx(ZC,{book_id:i,book_author_name:r})})]}),Xr=({book:e,currentPage:t})=>{const[n,r]=_.useState(""),[i,s]=_.useState(!1),[o,l]=_.useState(!1),[a,c]=_.useState(!1);async function d(){i?s(!i):(l(!0),await fetch("https://openlibrary.org/works/"+e.id+".json").then(p=>p.json()).then(p=>{var f;return(f=p.description)==null?void 0:f.value}).then(p=>{s(!0),r(p!==void 0?p:"No synopsis available yet.")}).catch(p=>{r("No synopsis available yet."),console.log("error",p)}).finally(()=>l(!1)))}const h=Oc(e.title_short+"-"+e.id);return u.jsxs("article",{className:e.list&&e.list>0&&t==="search"?"book-summary saved":"book-summary",id:h,children:[u.jsxs("aside",{className:"cover",children:[u.jsx("img",{src:Gn(e.cover,"M")!==void 0?Gn(e.cover,"M"):"img/coverless.png",alt:""}),(t==="finished"||t==="favorites")&&u.jsx($C,{book_id:e.id,book_rate_stars:e.rate_stars,book_rate_spice:e.rate_spice,book_title_short:e.title_short})]}),u.jsxs("div",{className:"article-main",children:[u.jsxs("header",{style:{position:"relative",width:"100%"},children:[t!=="dashboard"&&u.jsx(_h,{book:e,currentPage:t,limit:4}),u.jsx(eE,{book_title_short:e.title_short,book_first_publish_year:e.first_publish_year,currentPage:t,book_author_name:e.author_name,book_id:e.id}),t==="quotedbooks"&&u.jsx(ff,{book_id:e.id,book_review_fav_quote:e.review_fav_quote}),t!=="favorites"&&t!=="quotedbooks"&&u.jsx(XC,{book_id:e.id,book_number_of_pages_median:e.number_of_pages_median,currentPage:t})]}),u.jsxs("div",{className:"summary-actions",children:[u.jsx(KC,{currentPage:t,book:e}),e.list>1&&t!=="search"&&t!=="quotedbooks"&&u.jsx(hk,{date_started:e.date_reading,date_finished:e.date_finished,book_id:e.id,list:e.list}),t!=="quotedbooks"&&u.jsxs(u.Fragment,{children:[t==="search"&&u.jsx("div",{className:"status",children:e.list>0&&u.jsxs("em",{children:[e.list===1&&u.jsxs(u.Fragment,{children:["Already on my ",u.jsx(zs,{to:"/wishlist#"+h,children:"wishlist"}),"."]}),e.list===2&&u.jsxs(u.Fragment,{children:[u.jsx(zs,{to:"/reading#"+h,children:"Reading"}),e.date_reading&&u.jsxs(u.Fragment,{children:[" since ",cn(e.date_reading,"human")]}),"."]}),(e.list===3||e.list===4)&&u.jsxs(u.Fragment,{children:[u.jsx(zs,{to:"/finished#"+h,children:"Finished"}),e.date_finished&&u.jsxs(u.Fragment,{children:[" on ",cn(e.date_finished,"human")]}),e.list===4&&u.jsxs(u.Fragment,{children:[" and"," ",u.jsx(zs,{to:"/favorites#"+h,children:"favorited"})]}),"."]})]})}),t!=="reading"&&t!=="dashboard"&&u.jsx("button",{className:"btn-icon",onClick:()=>c(!a),children:u.jsx("span",{className:"icon icon-dots"})}),u.jsx("div",{className:a||t==="reading"?"marks dblock":"marks dnone",children:u.jsx(_h,{book:e,currentPage:t,limit:0})})]})]})]}),u.jsxs("footer",{children:[(t==="finished"||t==="favorites")&&u.jsx(HC,{book_id:e.id,book_review_text:e.review_text}),(t==="finished"||t==="favorites")&&u.jsx(ff,{book_id:e.id,book_review_fav_quote:e.review_fav_quote}),t!=="finished"&&t!=="favorites"&&t!=="quotedbooks"&&t!=="dashboard"&&u.jsxs(u.Fragment,{children:[t==="search"&&e.subject&&u.jsx(VC,{book_id:e.id,tropes:e.subject}),u.jsxs("button",{className:i?"btn-text caret-right-toggle active":"btn-text caret-right-toggle",onClick:d,children:[o&&"Loading...",!o&&!i&&"Synopsis",!o&&i&&u.jsx("b",{style:{color:"black"},children:" Synopsis "})]}),u.jsx("div",{className:"synopsisWrapper","aria-expanded":i,children:u.jsxs("div",{className:"synopsis",children:[u.jsx("br",{}),u.jsx(BC,{children:n})]})})]}),u.jsx("hr",{})]})]})};function tE(){const{userMyBooks:e}=_.useContext(z);let t=!1;const n=e.filter(i=>i.list===2);n.length>0&&(t=!0);function r(i){return i.length===1?i.map(s=>u.jsx(Xr,{book:s,currentPage:"dashboard"},s.id)):u.jsx(ee,{to:"/reading",children:u.jsx("div",{className:"deck-container",children:i.slice(-6).map((s,o)=>u.jsx("article",{className:"book-cover",style:{zIndex:10-o},children:u.jsx("img",{src:Gn(s.cover,"L")})},s.id))})})}return u.jsx(u.Fragment,{children:t?u.jsx("main",{className:"reading deck",children:r(n)}):u.jsx(ee,{to:"/reading",children:u.jsxs("main",{className:"toadd",children:[u.jsx("aside",{children:u.jsx("button",{className:"btn-icon",children:u.jsx("img",{src:"img/plus-icon.svg"})})}),"Already reading a book? Let's add it here."]})})})}function nE(){return u.jsx(u.Fragment,{children:u.jsxs("article",{className:"adder",children:[u.jsx(ee,{to:"/reading",children:u.jsxs("header",{className:"adder-header",children:["What I'm reading now ",u.jsx("span",{children:"›"})]})}),u.jsx(tE,{})]})})}function rE(){const{userMyBooks:e}=_.useContext(z);let t=!1;const n=e;n.length>0&&(t=!0);function r(i){return i.length===1?i.map(s=>u.jsx(Xr,{book:s,currentPage:"dashboard"},`deck_saved_books${s.id}`)):u.jsx(ee,{to:"/saved-books",children:u.jsx("div",{className:"deck-container",children:i.slice(-6).map((s,o)=>u.jsx("article",{className:"book-cover",style:{zIndex:`10 - ${o}`},children:u.jsx("img",{src:Gn(s.cover,"L")})},`deck_saved_books${s.id}`))})})}return u.jsx(u.Fragment,{children:t?u.jsx("main",{className:"saved deck",children:r(n)}):u.jsx(ee,{to:"/saved",children:u.jsxs("main",{className:"toadd",children:[u.jsx("aside",{children:u.jsx("button",{className:"btn-icon",children:u.jsx("img",{src:"img/save-books-icon.png"})})}),"Let's start saving books."]})})})}function iE(){return u.jsx(u.Fragment,{children:u.jsxs("article",{className:"adder",children:[u.jsx(ee,{to:"/saved-books",children:u.jsxs("header",{className:"adder-header",children:["All of Mu Books",u.jsx("span",{children:"›"})]})}),u.jsx(rE,{})]})})}function sE({page:e}){const{userMyBooks:t}=_.useContext(z);let n=!1;const r=t.filter(s=>s.list===3||s.list===4);r.length>0&&(n=!0);function i(s){return s.length===1?s.map(o=>u.jsx(Xr,{book:o,currentPage:e},o.id)):(s.sort((o,l)=>Number(l.date_finished)-Number(o.date_finished)),u.jsx(ee,{to:"/finished",children:u.jsx("div",{className:"deck-container",children:s.slice(0,6).map((o,l)=>u.jsx("article",{className:"book-cover",style:{zIndex:10-l},children:u.jsx("img",{src:Gn(o.cover,"L")})},o.id))})}))}return u.jsx(u.Fragment,{children:n?u.jsx("main",{className:"finished deck",children:i(r)}):u.jsx(ee,{to:"/finished",children:u.jsxs("main",{className:"toadd",children:[u.jsx("aside",{children:u.jsx("button",{className:"btn-icon",children:u.jsx("img",{src:"img/icon-finished.png"})})}),"Books I finished reading."]})})})}function oE(){return u.jsx(u.Fragment,{children:u.jsxs("article",{className:"adder",children:[u.jsx(ee,{to:"/finished",children:u.jsxs("header",{className:"adder-header",children:["Mu Finished books",u.jsx("span",{children:"›"})]})}),u.jsx(sE,{page:"dashboard"})]})})}function lE({page:e}){const{userMyBooks:t}=_.useContext(z);let n=!1;const r=t.filter(s=>s.list===4);r.length>0&&(n=!0);function i(s){return s.length===1?s.map(o=>u.jsx(Xr,{book:o,currentPage:e},o.id)):(Zw(s),u.jsx(ee,{to:"/favorites",children:u.jsx("div",{className:"deck-container",children:s.slice(-6).map((o,l)=>u.jsx("article",{className:"book-cover",style:{zIndex:10-l},children:u.jsx("img",{src:Gn(o.cover,"L")})},o.id))})}))}return u.jsx(u.Fragment,{children:n?u.jsx("main",{className:"favorites deck",children:i(r)}):u.jsx(ee,{to:"/favorites",children:u.jsxs("main",{className:"toadd",children:[u.jsx("aside",{children:u.jsx("button",{className:"btn-icon",children:u.jsx("img",{src:"img/icon-favorites.png"})})}),"Only the best ones here."]})})})}function aE(){return u.jsx(u.Fragment,{children:u.jsxs("article",{className:"adder",children:[u.jsx(ee,{to:"/favorites",children:u.jsxs("header",{className:"adder-header",children:["Mu Favorites",u.jsx("span",{children:"›"})]})}),u.jsx(lE,{page:"dashboard"})]})})}function uE(){const{userMyBooks:e}=_.useContext(z);let t=!1;const n=e.filter(i=>i.list===1);n.length>0&&(t=!0);function r(i){return i.length===1?i.map(s=>u.jsx(Xr,{book:s,currentPage:"wishlist"},s.id)):u.jsx(ee,{to:"/wishlist",children:u.jsx("div",{className:"deck-container",children:i.slice(-6).map((s,o)=>u.jsx("article",{className:"book-cover",style:{zIndex:10-o},children:u.jsx("img",{src:Gn(s.cover,"L")})},s.id))})})}return u.jsx(u.Fragment,{children:t?u.jsx("main",{className:"wishlist deck",children:r(n)}):u.jsx(ee,{to:"/wishlist",children:u.jsxs("main",{className:"toadd",children:[u.jsx("aside",{children:u.jsx("button",{className:"btn-icon",children:u.jsx("img",{src:"img/icon-wishlist.png"})})}),"Next in line."]})})})}function cE(){return u.jsx(u.Fragment,{children:u.jsxs("article",{className:"adder",children:[u.jsx(ee,{to:"/wishlist",children:u.jsxs("header",{className:"adder-header",children:["Mu Wishlist",u.jsx("span",{children:"›"})]})}),u.jsx(uE,{})]})})}const dE="Mu Dashboard";function hE(){const{setNavTitle:e}=_.useContext(z);_.useEffect(()=>{e(dE)},[e]);const t=ut();return _.useEffect(()=>{localStorage.getItem(un)},[t]),u.jsxs(u.Fragment,{children:[u.jsx(dk,{}),u.jsx(nE,{}),u.jsx(cE,{}),u.jsx(aE,{}),u.jsx(oE,{}),u.jsx(iE,{})]})}const gf=window.location.href,fE=()=>{const e=ut(),[t,n]=_.useState(""),[r,i]=_.useState("");let s="";if(nt(gf,"error_description")){const o=nt(gf,"error_description");s=UC(o)}return _.useEffect(()=>{n("We will redirect you to the login page in "),setTimeout(()=>{i("3. "),setTimeout(()=>{i("3. 2. "),setTimeout(()=>{i("3. 2. 1. "),setTimeout(()=>{e("/account/login")},1e3)},1e3)},1e3)},200)},[e]),u.jsxs(u.Fragment,{children:[u.jsx("h1",{children:"Error"}),u.jsx("h2",{children:s}),u.jsxs("p",{children:[t,r]})]})},pE=()=>{const{setLocalBookFilter:e,localBookFilter:t}=_.useContext(z);function n(i){const s=i.target.value.toLowerCase();s.length>0?e(s):e("")}function r(){e("")}return u.jsxs("div",{id:"booksoverview-filter-sort",children:[u.jsx("form",{className:"single-small-form",children:u.jsx("input",{type:"text",onChange:n,id:"booksoverview-filter",value:t,placeholder:"Filter on book title"})}),t.length>0&&u.jsx("button",{className:"btn-text btn-text-cancel",onClick:r,children:"Reset filter"})]})},In=({books:e,page:t})=>{const{userMyBooks:n}=_.useContext(z),r=n;return u.jsxs(u.Fragment,{children:[t!=="search"&&t!=="tropes"&&u.jsx(pE,{}),e.map(i=>(t==="search"&&r.find(s=>{s.id===i.id&&(i.list=s.list,i.date_reading=s.date_reading,i.date_finished=s.date_finished)}),u.jsx(Xr,{book:i,currentPage:t},`BookSummary${i.id}`)))]})},yf="Favorites",mE="favorites",gE=()=>{const{userMyBooks:e,setNavTitle:t,localBookFilter:n}=_.useContext(z);_.useEffect(()=>{t(yf)},[t]);let r=!1,i=[];return localStorage.getItem("MyBooks")!==void 0&&(n!==""&&n.length>0?i=e.filter(s=>s.list===4&&s.title_short.toLowerCase().includes(n.toLowerCase())):i=e.filter(s=>s.list===4),i!==void 0&&(i.length>0?(i.sort((s,o)=>Number(o.date_finished)-Number(s.date_finished)),r=!0):r=!1)),u.jsxs(u.Fragment,{children:[u.jsxs("h1",{children:[yf,u.jsx("sub",{children:n.length>0&&i.length>0?u.jsxs(u.Fragment,{children:["Results for ",u.jsx("i",{children:n})," : ",i.length]}):n.length>0&&i.length===0?u.jsxs(u.Fragment,{children:["No book titles found for ",u.jsxs("i",{children:[n,"."]})]}):u.jsxs(u.Fragment,{children:["Beloved and adored books: ",i.length]})})]}),!r&&n===""&&u.jsxs(u.Fragment,{children:[u.jsx("h4",{children:"No books marked as favorite yet."}),u.jsxs("p",{children:["Select and mark your favorite book from ",u.jsx(ee,{to:"/finished",children:"your finished books"})," add to this list."]})]}),u.jsx(In,{books:i,page:mE})]})},vf="Finished books",yE="finished",vE=()=>{const{userMyBooks:e,setNavTitle:t,localBookFilter:n}=_.useContext(z);_.useEffect(()=>{t(vf)},[t]);let r=!1,i=[];return localStorage.getItem("MyBooks")!==void 0&&(n!==""&&n.length>0?i=e.filter(s=>(s.list===3||s.list===4)&&s.title_short.toLowerCase().includes(n)):i=e.filter(s=>s.list===3||s.list===4),i.sort((s,o)=>Number(o.date_finished)-Number(s.date_finished)),i!==void 0&&(i.length>0?r=!0:r=!1)),u.jsxs(u.Fragment,{children:[u.jsxs("h1",{children:[vf,u.jsx("sub",{children:n.length>0&&i.length>0?u.jsxs(u.Fragment,{children:["Results for ",u.jsx("i",{children:n})," : ",i.length]}):n.length>0&&i.length===0?u.jsxs(u.Fragment,{children:["No book titles found for ",u.jsxs("i",{children:[n,"."]})]}):u.jsxs(u.Fragment,{children:["Books I finished reading: ",i.length]})})]}),!r&&n===""&&u.jsxs(u.Fragment,{children:[u.jsx("p",{children:"Have any favorites? Add them to your favorites from here."}),u.jsx("h4",{children:"Not finished any book yet."}),u.jsxs("p",{children:["Are you finished with the book you're reading?",u.jsx("br",{}),"Select and mark your ",u.jsx(ee,{to:"/reading",children:"currently reading book"})," as finished.",u.jsx("br",{}),u.jsx("br",{})]})]}),u.jsx(In,{books:i,page:yE})]})},xE=()=>{const e=ut(),{userIsLoggedIn:t,navTitle:n}=_.useContext(z),[r,i]=_.useState(!1);function s(){i(!r)}function o(){i(!1),e("/search")}return t===!1?u.jsx(u.Fragment,{}):u.jsx(u.Fragment,{children:u.jsxs("div",{className:r?"anyexpanded":"allcollapsed",children:[u.jsxs("nav",{id:"navIcons",children:[u.jsx("button",{id:"toggleNavBurger",className:r?"expanded":"collapsed",onClick:s,children:u.jsxs("div",{className:"burger",children:[u.jsx("div",{className:"burgerbar bar1"}),u.jsx("div",{className:"burgerbar bar2"}),u.jsx("div",{className:"burgerbar bar2duplo"}),u.jsx("div",{className:"burgerbar bar3"})]})}),u.jsx("h1",{id:"navTitle",children:n}),u.jsx("div",{style:{display:"flex",alignContent:"center"},children:u.jsxs("button",{className:"toggleZoekNav",onClick:()=>o(),children:[u.jsx("span",{className:"alt",children:"Search"}),u.jsx("svg",{className:"zoekIconSvg",viewBox:"0 0 149.84702 148.5",version:"1.1",id:"nav-icon-loep",xmlns:"http://www.w3.org/2000/svg",children:u.jsxs("g",{id:"nav-icon-loep-path",children:[u.jsx("path",{id:"loep-rect1",transform:"rotate(-45)",d:"m -3.2461977,126.12067 h 8.3973866 c 3.5534027,0 6.4140841,2.86068 6.4140841,6.41408 v 65.15062 c 0,3.55341 -2.8606814,6.41409 -6.4140841,6.41409 h -8.3973866 c -3.5534028,0 -6.4140844,-2.86068 -6.4140844,-6.41409 v -65.15062 c 0,-3.5534 2.8606816,-6.41408 6.4140844,-6.41408 z"}),u.jsx("path",{id:"nav-icon-loep-stroke",d:"M 103.48977,56.050812 A 47.438957,47.438957 0 0 1 56.050812,103.48977 47.438957,47.438957 0 0 1 8.6118546,56.050812 47.438957,47.438957 0 0 1 56.050812,8.6118546 47.438957,47.438957 0 0 1 103.48977,56.050812 Z"})]})})]})})]}),u.jsxs("nav",{id:"nav0",style:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignContent:"space-around",alignItems:"flex-start",gap:".25rem"},className:r?"expanded nav-collapsable":"collapsed nav-collapsable","aria-expanded":r?"true":"false",children:[u.jsx(Me,{to:"/dashboard",onClick:s,children:"Dashboard"}),u.jsx(Me,{to:"/search",onClick:s,children:"Search"}),u.jsx(Me,{to:"/wishlist",onClick:s,children:"Wishlist"}),u.jsx(Me,{to:"/reading",onClick:s,children:"Reading"}),u.jsx(Me,{to:"/finished",onClick:s,children:"Finished"}),u.jsx(Me,{to:"/favorites",onClick:s,children:"Favorites"}),u.jsx(Me,{to:"/saved-books",onClick:s,children:"Saved books"}),u.jsx(Me,{to:"/quoted-books",onClick:s,children:"Quoted"}),u.jsx(Me,{to:"/tropes",onClick:s,children:"Tropes"}),u.jsx(Me,{to:"/statistics",onClick:s,children:"Statistics"}),u.jsx(Me,{to:"/clear-my-books",onClick:s,children:"Clear My Books"}),u.jsx("hr",{style:{width:"80%",borderWidth:"1px 0 0",borderStyle:"solid",borderColor:"rgba(255,255,255,.2)",boxShadow:"none",height:"1px"}}),u.jsx(Me,{to:"/account/profile",onClick:s,children:"Profile"}),u.jsx(Me,{to:"/account/logout",onClick:s,children:"Logout"})]})]})})},xf="Mu Quotes",wE="quotedbooks",_E=()=>{const{userMyBooks:e,setNavTitle:t}=_.useContext(z);_.useEffect(()=>{t(xf)},[t]);let n,r=!1;return e===void 0&&(n=[]),e.length>0?(n=e.filter(i=>i.review_fav_quote&&i.review_fav_quote!==""),n.length>0&&(r=!0)):n=[],u.jsxs(u.Fragment,{children:[u.jsxs("h1",{children:[xf," ",u.jsxs("sub",{children:["My books with quotes to remember: ",n.length]})]}),u.jsxs("div",{className:r===!0?"dnone":"dblock",children:[u.jsx("h4",{children:"No books added yet, find them and add them."}),u.jsx("p",{children:u.jsx(ee,{to:"/search",className:"wauto",children:"Search"})})]}),u.jsx(In,{books:n,page:wE})]})},kE="Mu books",SE="reading",jE=()=>{const{userMyBooks:e,setNavTitle:t,localBookFilter:n}=_.useContext(z);_.useEffect(()=>{t(kE)},[t]);let r=!1,i=[];return e!==void 0&&(n!==""&&n.length>0?i=e.filter(s=>s.list===2&&s.title_short.toLowerCase().includes(n)):i=e.filter(s=>s.list===2),i!==void 0&&(i.length>0?r=!0:r=!1)),u.jsxs(u.Fragment,{children:[u.jsxs("h1",{children:["What I'm reading now",u.jsxs("sub",{children:[n.length>0&&i.length>0?u.jsxs(u.Fragment,{children:["Results for ",u.jsx("i",{children:n})," : ",i.length]}):n.length>0&&i.length===0?u.jsxs(u.Fragment,{children:["No book titles found for ",u.jsxs("i",{children:[n,"."]})]}):i.length>0?u.jsxs(u.Fragment,{children:["Currently enjoying book(s): ",i.length]}):u.jsx(u.Fragment,{children:"Nothing, at the moment."})," "]})]}),!r&&n===""&&u.jsx(u.Fragment,{children:u.jsxs("p",{children:["Want to add a book to your reading list?",u.jsx("br",{}),u.jsx(ee,{to:"/wishlist",children:"View your wishlist"})," or ",u.jsx(ee,{to:"/search",children:"Search"})," to add a book.",u.jsx("br",{}),u.jsx("br",{})]})}),u.jsx(In,{books:i,page:SE})]})},sn=window.location.href,wf=nt(sn,"access_token",!0),_f=nt(sn,"refresh_token",!0),CE=()=>{const{setPopupNotification:e,setPopupNotificationShow:t}=_.useContext(z),n=_.useCallback(function(){return!!nt(sn,"error",!0)},[]),r=_.useCallback(function(){return{error:nt(sn,"error",!0),error_code:nt(sn,"error_code",!0),error_description:nt(sn,"error_description",!0)}},[]);async function i(d,h){const{error:p}=await Z.auth.setSession({access_token:d,refresh_token:h});p&&console.log("Error logging in with token:",p.message)}wf!==""&&_f!==""&&i(wf,_f);const{setUsermail:s,setUserIsLoggedIn:o,userIsLoggedIn:l}=_.useContext(z),a=ut(),c=JSON.parse(localStorage.getItem(un));return _.useEffect(()=>{var p;let d,h=!1;((p=c==null?void 0:c.user)==null?void 0:p.aud)==="authenticated"&&(h=!0,o(!0)),n()?d="/error?error_description="+r().error_description:h?d="/dashboard":(d="/account/login",nt(sn,"type")==="recovery"&&(d="/auth/resetpassword")),h?(s(c.user.email),e("Logged in, redirecting"),t(!0),a(d)):(l&&o(!0),setTimeout(()=>{nt(sn,"type")==="recover"&&(d="/auth/resetpassword")},1500),a(d))},[a,s,c,r,n,o,l,e,t]),u.jsx(u.Fragment,{children:u.jsx("main",{id:"main",className:"textwrapper",children:u.jsxs("div",{className:"textwrapper",children:["Redirecting to wherever you should be right now... ",u.jsx("br",{}),u.jsx("a",{href:"https://ckdev88.github.io/mubooks/#/dashboard",children:"dashboard"}),u.jsx("br",{}),u.jsx(ee,{to:"/auth/resetpassword",children:"password reset page"})]})})})},EE="Saved books",bE="savedbooks";function TE(){const{userMyBooks:e,setNavTitle:t,localBookFilter:n}=_.useContext(z);_.useEffect(()=>{t(EE)},[t]);let r=!1,i=[];return localStorage.getItem("MyBooks")!==void 0&&(n!==""&&n.length>0?i=e.filter(s=>s.title_short.toLowerCase().includes(n.toLowerCase())):i=e,i!==void 0&&(i.length>0?r=!0:r=!1)),u.jsxs(u.Fragment,{children:[u.jsxs("h1",{children:["My Books",u.jsx("sub",{children:n.length>0&&i.length>0?u.jsxs(u.Fragment,{children:["Results for ",u.jsx("i",{children:n})," : ",i.length]}):n.length>0&&i.length===0?u.jsxs(u.Fragment,{children:["No book titles found for ",u.jsxs("i",{children:[n,"."]})]}):u.jsxs(u.Fragment,{children:[" My books which are in whatever list: ",i.length," "]})})]}),!r&&n===""&&u.jsxs(u.Fragment,{children:[u.jsx("p",{children:"An overview of my saved books, this includes books that are favorited, read and finished, the wishlist and the book currently reading."}),u.jsxs("div",{children:[u.jsx("h4",{children:"No books added yet, find them and add them."}),u.jsx("p",{children:u.jsx(ee,{to:"/search",className:"wauto",children:"Search"})})]})]}),u.jsx(In,{books:i,page:bE})]})}const kf="Search",PE="search",NE=()=>{const[e,t]=_.useState(""),[n,r]=_.useState(0),[i,s]=_.useState([]),[o,l]=_.useState(""),[a,c]=_.useState(!1),{setNavTitle:d}=_.useContext(z);_.useEffect(()=>{var p;d(kf),(p=document.getElementById("search_term"))==null||p.focus()},[d]);async function h(p){p.preventDefault();const f=performance.now(),v=p.currentTarget.search_term.value.trim();v.length>4?(c(!0),t(""),await fetch("https://openlibrary.org/search.json?q="+v+"&mode=everything&limit=30&fields="+"title,author_name,isbn,cover_edition_key,author_key,edition_key,key,first_publish_year,number_of_pages_median,subject").then(w=>w.json()).then(w=>w.docs.filter(g=>g.author_key!==void 0&&g.edition_key!==void 0&&g.key!==void 0&&g.cover_edition_key!==void 0)).then(w=>{r(w.length);for(let g=0;g<w.length;g++)w[g].id=w[g].key.toString().replace("/works/",""),w[g].title_short=w[g].title.slice(0,45).toString(),w[g].cover=tu(w[g].cover_edition_key);return w.length>30?t("Showing only 30 results. Specify a bit more."):t("Showing "+w.length+" results."),l(v),w}).then(w=>{s(w)}).catch(w=>t("error "+w)).finally(()=>c(!1))):v.length===0?t(v):t("keep typing..."),console.log("search performed in:",performance.now()-f)}return u.jsxs(u.Fragment,{children:[u.jsxs("h1",{children:[kf,u.jsx("sub",{children:"Find the book you want to add."})]}),u.jsxs("form",{onSubmit:h,children:[u.jsxs("label",{htmlFor:"search_term",children:[u.jsx("div",{className:"description",children:"Term or title"}),u.jsx("input",{type:"text",id:"search_term"})]}),u.jsx("br",{}),u.jsx("input",{type:"submit",disabled:a,value:a?"Searching...":"Search"})]}),u.jsx("div",{children:u.jsxs("div",{className:o!==""||e!==""?"dblock":"dnone",children:[u.jsxs("h2",{className:"resultsfound",children:[n>30?"Over 30":n," ",n>1||n===0?"books":"book"," found for ",u.jsxs("em",{children:['"',o,'"']}),u.jsx("sub",{className:e!==""?"dblock":"dnone",children:e})]}),u.jsx(In,{books:i,page:PE})]})})]})},IE=e=>e.map((t,n)=>{const r="Nopagesfor"+n+Oc(t);return u.jsx("li",{children:t},r)}),ly=new Date,gu=ly.getFullYear(),OE=new Date(gu,0,0),LE=1e3*60*60*24,Sf=Math.floor((Number(ly)-Number(OE))/LE);let mi=0,ea=[];const AE=e=>{const{userMyBooks:t}=_.useContext(z),[n,r]=_.useState(!1);mi=0,ea=[];const i=(o,l)=>{let a=0,c=0,d=0;const h=o*1e4,p=h+1e4;for(let f=0;f<t.length;f++)t[f].date_finished!==void 0&&Number(t[f].date_finished)>h&&Number(t[f].date_finished)<p&&((l==="books"||l==="daysperbook")&&(c+=1),l!=="books"&&((l==="pages"||l==="pagesperday")&&typeof t[f].number_of_pages_median=="number"?d+=t[f].number_of_pages_median:l==="pages"&&t[f].number_of_pages_median===void 0&&(mi++,ea.push(t[f].title_short))));return l==="books"?a=c:l==="pages"?a=d:l==="daysperbook"?o===gu?a=Math.floor(Sf/c):a=Math.floor(365/c):l==="pagesperday"&&(o===gu?a=Math.floor(d/Sf):a=Math.floor(d/365)),a},s="StatisticsYear"+e;if(i(e,"books")>0)return u.jsxs("div",{children:[u.jsxs("h2",{children:[e,"."]}),"Books finished: ",i(e,"books"),u.jsx("br",{}),"Pages finished: ",i(e,"pages"),mi>0&&u.jsx("small",{children:"*"}),u.jsx("br",{}),"Average days per book: ",i(e,"daysperbook"),u.jsx("br",{}),"Average pages per day: ",i(e,"pagesperday"),mi>0&&u.jsx("small",{children:"*"}),u.jsx("br",{}),mi>0&&u.jsxs("i",{children:[u.jsxs("button",{onClick:()=>r(!n),className:n?"btn-text caret-right-toggle italic diblock wauto active":"btn-text caret-right-toggle italic diblock wauto",children:["* Books without pages defined"," "]}),n&&u.jsx(u.Fragment,{children:IE(ea)})]})]},s)},RE="Mu Statistics",FE=new Date,Rc=FE.getFullYear();let gi=Rc*1e4,jf=Rc;const DE=()=>{const{userMyBooks:e,setNavTitle:t}=_.useContext(z),n=[];_.useEffect(()=>{t(RE)},[t]),gi=(()=>{for(let i=0;i<e.length;i++)Number(e[i].date_finished)>0&&Number(e[i].date_finished)<gi&&(gi=Number(e[i].date_finished));return gi})(),jf=Math.floor(gi/1e4);for(let i=Rc;i>jf-1;i--)n.push(AE(i));return u.jsxs(u.Fragment,{children:[u.jsx("h1",{children:"Mu Statistics"}),n]})},ME=({page:e})=>{const{userMyBooks:t}=_.useContext(z),[n,r]=_.useState(""),[i,s]=_.useState([]),o=new Set;t.map(c=>{c.review_tropes&&c.review_tropes.map(d=>o.add(d))});const l=Array.from(o);function a(c){const d=t.filter(h=>h.review_tropes!==void 0&&h.review_tropes.length>0&&h.review_tropes.includes(c));s(d),r(c)}return u.jsxs(u.Fragment,{children:[u.jsx("h2",{children:"Tropes in my Books."}),u.jsx("ul",{className:"tropes clr",children:l.map((c,d)=>u.jsx("li",{className:"trope_add",children:u.jsx("button",{className:"btn-txt btn-sm mb0",onClick:()=>a(c),children:c})},Lc(c,d)))}),i.length>0&&u.jsxs(u.Fragment,{children:[u.jsxs("h2",{children:["My Books for ",u.jsx("em",{children:n})]}),u.jsx("br",{}),u.jsx(In,{books:i,page:e})]})]})},BE=()=>{const{setNavTitle:e,setPopupNotification:t,userid:n}=_.useContext(z),[r,i]=_.useState(!1),[s,o]=_.useState([]),l=async()=>{const f=await Z.from("user_entries").select("tropes_liked");f.data&&o(f.data[0].tropes_liked)};_.useEffect(()=>{l()},[e]),_.useEffect(()=>{var f;r===!0&&((f=document.getElementById("trope_add_liked"))==null||f.focus())},[r]);async function a(f){f.preventDefault();let v;if(f.currentTarget.trope_add_liked.value!==void 0){v=Cn(f.currentTarget.trope_add_liked.value,!1),o([...s,v]),f.currentTarget.trope_add_liked.value="",f.currentTarget.trope_add_liked.focus();let x;const{error:w}=await Z.from("user_entries").update({tropes_liked:[...s,v],testdata:"updated from tropes: Add liked trope"}).eq("user_id",n).select("*");w?x=w.message:x="Updated liked tropes.",t(x)}}async function c(f){let v;const{error:x}=await Z.from("user_entries").update({tropes_liked:s.filter(w=>w!==f),testdata:"updated from tropes: remove liked trope"}).eq("user_id",n).select("*");x?v=x.message:v="Updated liked tropes.",t(v)}function d(f){o(s.filter(v=>v!==f)),c(f)}const h=()=>{i(!1)},p=({tropes:f})=>u.jsxs("ul",{className:"tropes clr mb0",children:[f.map((v,x)=>u.jsxs("li",{className:"trope badge cgreen",children:[v,u.jsx("button",{className:"btn-x",onClick:()=>d(v),children:"x"})]},Lc(v,x))),u.jsx("li",{className:"trope_add",children:u.jsx("button",{className:r?"btn-sm mb0 active":"btn-sm mb0",onClick:()=>i(!r),children:f.length>0?u.jsx(u.Fragment,{children:"+"}):u.jsx(u.Fragment,{children:"Add tropes"})})})]});return u.jsxs(u.Fragment,{children:[u.jsx("h2",{children:"Like"}),u.jsxs("div",{children:[u.jsx(p,{tropes:s}),r&&u.jsxs(u.Fragment,{children:[u.jsxs("form",{className:"single-small-form clr",onSubmit:a,children:[u.jsx("input",{type:"text",name:"trope_add_liked",id:"trope_add_liked",placeholder:"Add a trope..."}),u.jsx(ir,{})]}),u.jsx("button",{className:"btn-text btn-text-cancel",onClick:()=>h(),children:"Cancel"})]})]})]})},zE=()=>{const{setNavTitle:e,setPopupNotification:t,userid:n}=_.useContext(z),[r,i]=_.useState(!1),[s,o]=_.useState([]),l=async()=>{const f=await Z.from("user_entries").select("tropes_disliked");f.data&&o(f.data[0].tropes_disliked)};_.useEffect(()=>{l()},[e]),_.useEffect(()=>{var f;r===!0&&((f=document.getElementById("trope_add_disliked"))==null||f.focus())},[r]);async function a(f){f.preventDefault();let v;if(f.currentTarget.trope_add_disliked.value!==void 0){v=Cn(f.currentTarget.trope_add_disliked.value,!1),o([...s,v]),f.currentTarget.trope_add_disliked.value="",f.currentTarget.trope_add_disliked.focus();let x;const{error:w}=await Z.from("user_entries").update({tropes_disliked:[...s,v],testdata:"updated from tropes: Add liked trope"}).eq("user_id",n).select("*");w?x=w.message:x="Updated liked tropes.",t(x)}}async function c(f){let v;const{error:x}=await Z.from("user_entries").update({tropes_disliked:s.filter(w=>w!==f),testdata:"updated from tropes: remove disliked trope"}).eq("user_id",n).select("*");x?v=x.message:v="Updated disliked tropes.",t(v)}function d(f){o(s.filter(v=>v!==f)),c(f)}const h=()=>{i(!1)},p=({tropes:f})=>u.jsxs("ul",{className:"tropes clr mb0",children:[f.map((v,x)=>u.jsxs("li",{className:"trope badge cred",children:[v,u.jsx("button",{className:"btn-x",onClick:()=>d(v),children:"x"})]},Lc(v,x))),u.jsx("li",{className:"trope_add",children:u.jsx("button",{className:r?"btn-sm mb0 active":"btn-sm mb0",onClick:()=>i(!r),children:f.length>0?u.jsx(u.Fragment,{children:"+"}):u.jsx(u.Fragment,{children:"Add tropes"})})})]});return u.jsxs(u.Fragment,{children:[u.jsx("h2",{children:"Dislike"}),u.jsxs("div",{children:[u.jsx(p,{tropes:s}),r&&u.jsxs(u.Fragment,{children:[u.jsxs("form",{className:"single-small-form clr",onSubmit:a,children:[u.jsx("input",{type:"text",name:"trope_add_disliked",id:"trope_add_disliked",placeholder:"Add a trope..."}),u.jsx(ir,{})]}),u.jsx("button",{className:"btn-text btn-text-cancel",onClick:()=>h(),children:"Cancel"})]})]})]})},$E="Tropes",UE="tropes",HE=()=>{const{setNavTitle:e}=_.useContext(z),[t,n]=_.useState(!1);return _.useEffect(()=>{e($E)},[e]),u.jsxs(u.Fragment,{children:[u.jsx("h1",{children:"My Tropes"}),u.jsx(BE,{}),u.jsx(zE,{}),u.jsx("br",{}),u.jsx("hr",{}),u.jsx("br",{}),u.jsx("button",{className:t?"btn-text caret-right-toggle active wauto notext":"btn-text caret-right-toggle wauto",onClick:()=>n(!t),children:t?"":"Show more"}),t&&u.jsx(ME,{page:UE})]})},ms=()=>{function e(){var l,a;const s=document.getElementById("card-signup"),o=document.getElementById("card-recover");(l=document.getElementById("cards-draaideur"))==null||l.classList.add("rotate"),s&&(s.style.display="none"),o&&(o.style.display="flex",(a=document.getElementById("recover_email"))==null||a.focus())}function t(){var l,a;const s=document.getElementById("card-recover"),o=document.getElementById("card-signup");(l=document.getElementById("cards-draaideur"))==null||l.classList.add("rotate"),s&&(s.style.display="none"),o&&(o.style.display="flex",(a=document.getElementById("signup_screenname"))==null||a.focus())}function n(){var s,o;(s=document.getElementById("cards-draaideur"))==null||s.classList.remove("rotate"),(o=document.getElementById("login_email"))==null||o.focus()}function r(){var s,o;(s=document.getElementById("cards-draaideur"))==null||s.classList.remove("rotate"),(o=document.getElementById("login_email"))==null||o.focus()}function i(){var s;(s=document.getElementById("cards-draaideur"))==null||s.classList.add("rotate")}return{signup:t,recover:e,login:n,see:r,change:i}},VE=()=>{const e=ut(),{setUserIsLoggedIn:t,setUsername:n,setUsermail:r,formNotification:i,setFormNotification:s}=_.useContext(z),[o,l]=_.useState(""),[a,c]=_.useState(!1),d=async v=>{const{data:x,error:w}=await Z.auth.signInWithPassword({email:v.email,password:v.password});return{error:w,data:x}};async function h(v){v.preventDefault(),c(!0);const x={email:v.currentTarget.login_email.value,password:v.currentTarget.login_password.value};await d(x).then(w=>{var g,m;w.error!==null?(l(w.error.message),t(!1),c(!1)):(l(""),t(!0),s(""),n((g=w.data.user)==null?void 0:g.user_metadata.screenname),r((m=w.data.user)==null?void 0:m.user_metadata.email),e("/loadlibrary"))}).catch(()=>l("Something unexpected happened, try again later."))}const{recover:p,signup:f}=ms();return u.jsx(u.Fragment,{children:u.jsxs("article",{className:"card",id:"card-login",children:[u.jsxs("main",{children:[u.jsx("header",{children:u.jsxs("div",{children:["Log in",u.jsx("sub",{children:"to continue"})]})}),u.jsx("em",{className:"form-notification",children:i}),u.jsxs("form",{onSubmit:h,children:[u.jsxs("label",{htmlFor:"login_email",children:[u.jsx("div",{className:"description",children:"Email address"}),u.jsx("input",{type:"email",id:"login_email",name:"login_email",required:!0})]}),u.jsxs("label",{htmlFor:"login_password",children:[u.jsx("div",{className:"description",children:"Password"}),u.jsx("input",{type:"password",id:"login_password",name:"login_password"})]}),u.jsxs("div",{className:o!==""?"dblock error":"dblock",children:[o," "]}),u.jsx("button",{type:"submit",value:"Log in",disabled:a,children:a?"Logging in...":"Log in"})]})]}),u.jsxs("footer",{children:[u.jsx("button",{className:"btn-text wauto-md nowrap",onClick:p,children:"Forgot password"}),u.jsxs("button",{className:"btn-text ta-right wauto-md nowrap diblock",onClick:f,children:[u.jsx("span",{className:"dnone diblock-md",children:"New here? "}),"Join now"]})]})]})})};async function WE(e){return await Z.auth.signUp(e)}function qE(){const{setUsermail:e}=_.useContext(z),t=ut(),{login:n}=ms(),[r,i]=_.useState("");async function s(o){o.preventDefault();const l={email:o.currentTarget.email.value,screenname:o.currentTarget.screenname.value,password:o.currentTarget.password.value},a=await WE(l);a.error?i(a.error.message):(e(l.email),t(`/account/new?addr=${l.email}`))}return u.jsx(u.Fragment,{children:u.jsxs("article",{className:"card",id:"card-signup",children:[u.jsx("header",{children:"Let's create an account"}),u.jsx("main",{children:u.jsxs("form",{onSubmit:s,children:[u.jsxs("label",{htmlFor:"screenname",children:[u.jsx("div",{className:"description",children:"Screen name"}),u.jsx("input",{type:"text",id:"signup_screenname",name:"screenname"})]}),u.jsxs("label",{htmlFor:"email",children:[u.jsx("div",{className:"description",children:"Email address: *"}),u.jsx("input",{type:"email",id:"signup_email",name:"email",required:!0})]}),u.jsxs("label",{htmlFor:"password",children:[u.jsx("div",{className:"description",children:"Password: *"}),u.jsx("input",{type:"password",id:"signup_password",name:"password",required:!0})]}),u.jsxs("div",{className:r!==""?"dblock error":"dblock",children:[r," "]}),u.jsx("button",{children:"Create account"})]})}),u.jsx("footer",{className:"content-right",children:u.jsx("button",{className:"btn-text",onClick:n,children:"I already have an account"})})]})})}const QE=()=>{const{setUsermail:e,userIsLoggedIn:t}=_.useContext(z),[n,r]=_.useState(""),i=ut(),{login:s}=ms(),[o,l]=_.useState(!1);function a(d){d.preventDefault();const h=d.currentTarget.email.value;c(h)}async function c(d){l(!0);const{error:h}=await Z.auth.resetPasswordForEmail(d);h?r(h.message):(e(d),l(!1),i(t?"/dashboard":"/account/forgotpassword"))}return u.jsx(u.Fragment,{children:u.jsxs("article",{className:"card",id:"card-recover",children:[u.jsxs("header",{children:[u.jsxs("div",{children:["Forgot your password?",u.jsx("sub",{children:"Don't worry. Let's reset it."})]}),u.jsx("img",{src:"/img/recover-icon.png",width:"82",height:"82",alt:"",className:"recover-icon"})]}),u.jsx("main",{children:u.jsxs("form",{onSubmit:a,children:[u.jsxs("label",{htmlFor:"recover_email",children:[u.jsx("div",{className:"description",children:"Email address: *"}),u.jsx("input",{type:"email",id:"recover_email",name:"email",required:!0})]}),u.jsx("p",{children:"We'll send a link to this email address if it matches an existing account."}),u.jsxs("div",{className:n!==""?"dblock error":"dblock",children:[n," "]}),u.jsx("button",{type:"submit",disabled:o,children:o?"Sending...":"Send me a password reset link"})]})}),u.jsx("footer",{children:u.jsx("button",{onClick:s,className:"btn-text",children:"Back to login"})})]})})};function ay(){const e=document.getElementsByClassName("axis")[0],t=document.getElementsByClassName("axis")[0].parentNode,n=e.getElementsByClassName("card");let r=n[0].offsetHeight;for(let i=0;i<n.length;i++)n[i].offsetHeight>r&&(r=n[i].offsetHeight+16);for(let i=0;i<n.length;i++)n[i].style.height=r+"px";t.style.height=r+"px",e.style.height=r+"px"}const KE="Log in";function Cf(){const e=ut(),{userIsLoggedIn:t,setNavTitle:n}=_.useContext(z);return _.useEffect(()=>{n(KE),t&&e("/dashboard")},[n,t,e]),_.useEffect(()=>ay(),[]),u.jsxs(u.Fragment,{children:[u.jsxs("h1",{id:"welcome",children:[u.jsx("img",{id:"welcome-logo-img",src:"img/logo.svg",alt:""})," MuBooks"]}),u.jsx("div",{id:"cards-draaideur",className:"cards-draaideur",children:u.jsxs("div",{className:"axis",children:[u.jsx(VE,{}),u.jsx(qE,{}),u.jsx(QE,{})]})})]})}function JE(){const{setUserIsLoggedIn:e}=_.useContext(z),t=ut();return _.useEffect(()=>{(async()=>{await Z.auth.signOut().then(()=>{localStorage.clear(),e(!1)}).finally(()=>{setTimeout(()=>{t("/account/login")},1e3)})})()},[e,t]),u.jsxs(u.Fragment,{children:[u.jsx("h1",{children:"Logging out."}),u.jsx("p",{children:"Redirecting to login page..."})]})}function GE(){const{change:e}=ms(),{username:t,usermail:n,setUsermail:r}=_.useContext(z);async function i(){if(n!==void 0&&n!=="")return;const{data:{user:s}}=await Z.auth.getUser();s&&r(String(s==null?void 0:s.email))}return i(),u.jsxs("div",{className:"card",children:[u.jsx("header",{children:u.jsxs("div",{children:["My account ",u.jsx("sub",{children:"An overview of my profile"})]})}),u.jsxs("main",{children:[u.jsxs("dl",{children:[u.jsx("dt",{children:"Screen name"}),u.jsx("dd",{children:t||"-"}),u.jsx("dt",{children:"Email address"}),u.jsx("dd",{children:n}),u.jsx("dt",{children:"Password"}),u.jsx("dd",{children:"******"})]}),u.jsx("button",{onClick:e,children:"change"})]}),u.jsx("footer",{children:u.jsx(ee,{to:"/dashboard",children:"Back to dashboard"})})]})}function YE(){const{see:e}=ms(),{username:t,setUsername:n,usermail:r,setUsermail:i}=_.useContext(z);function s(a,c){n(a),i(c),e()}const o=async(a,c,d)=>{if(d!==""){const{error:h}=await Z.auth.updateUser({email:c,password:d,data:{screenname:a}});h?console.log("Error updating user:",h):s(a,c)}else{const{error:h}=await Z.auth.updateUser({email:d,data:{screenname:a}});h?console.log("Error updating user:",h):s(a,c)}};function l(a){a.preventDefault();const c=a.currentTarget.account_screenname.value.trim(),d=a.currentTarget.account_email.value.trim(),h=a.currentTarget.account_password.value.trim();o(c,d,h)}return u.jsx(u.Fragment,{children:u.jsxs("div",{className:"card",children:[u.jsx("header",{children:u.jsxs("div",{children:["Edit my account",u.jsx("sub",{children:"Change your preferences"})]})}),u.jsx("main",{children:u.jsxs("form",{onSubmit:l,children:[u.jsxs("label",{htmlFor:"account_screenname",children:[u.jsx("div",{className:"description",children:"Screen name"}),u.jsx("input",{type:"text",id:"account_screenname",name:"account_screenname",defaultValue:t})]}),u.jsxs("label",{htmlFor:"account_email",children:[u.jsx("div",{className:"description",children:"Email address"}),u.jsx("input",{type:"email",id:"account_email",name:"account_email",defaultValue:r})]}),u.jsxs("label",{htmlFor:"account_password",children:[u.jsx("div",{className:"description",children:"Password (leave empty to keep current)"}),u.jsx("input",{type:"password",id:"account_password",name:"account_password",defaultValue:""})]}),u.jsx("button",{children:"Save and return"})]})}),u.jsx("footer",{children:u.jsx("a",{onClick:e,children:"Return without saving"})})]})})}const XE="Mu Profile",ZE=()=>{const{setNavTitle:e}=_.useContext(z);return _.useEffect(()=>{e(XE)},[e]),_.useEffect(()=>{ay()},[]),u.jsx(u.Fragment,{children:u.jsx("div",{className:"cards-draaideur",id:"cards-draaideur",children:u.jsxs("div",{className:"axis",children:[u.jsx(GE,{}),u.jsx(YE,{})]})})})},Ef="Mu Wishlist",eb="wishlist",tb=()=>{const{userMyBooks:e,setNavTitle:t,localBookFilter:n}=_.useContext(z);_.useEffect(()=>{t(Ef)},[t]);let r=!1,i=[];return localStorage.getItem("MyBooks")!=="undefined"&&(n!==""&&n.length>0?i=e.filter(s=>s.list===1&&s.title_short.toLowerCase().includes(n)):i=e.filter(s=>s.list===1),i!==void 0&&(i.length>0?r=!0:r=!1)),u.jsxs(u.Fragment,{children:[u.jsxs("h1",{children:[Ef,u.jsx("sub",{children:n.length>0&&i.length>0?u.jsxs(u.Fragment,{children:["Results for ",u.jsx("i",{children:n})," : ",i.length]}):n.length>0&&i.length===0?u.jsxs(u.Fragment,{children:["No book titles found for ",u.jsxs("i",{children:[n,"."]})]}):u.jsxs(u.Fragment,{children:[" All the books I will read soon: ",i.length]})})]}),!r&&n===""&&u.jsxs(u.Fragment,{children:[u.jsx("h4",{children:"No books on mu wishlist yet."}),u.jsxs("p",{children:["Want to add a book to your wishlist?",u.jsx("br",{}),u.jsx(ee,{to:"/search",children:"Search"})," or ",u.jsx(ee,{to:"/add-book",children:"Add a book yourself"}),".",u.jsx("br",{}),u.jsx("br",{})]})]}),u.jsx(In,{books:i,page:eb})]})},nb=()=>{const e=ut();localStorage.getItem(un)===null&&e("/account/login");const{setUserMyBooks:t,userid:n}=_.useContext(z),[r,i]=_.useState(!1),s=async()=>{const{error:a}=await Z.from("user_entries").insert([{json:[],user_id:n,testdata:"nieuwe user"}]).select("*");a&&console.log("error after login:",a.message),l()},o=async()=>{await Z.from("user_entries").select("json").eq("user_id",n).then(a=>{a.data&&a.data.length<1?s():l()})},l=async()=>{await Z.from("user_entries").select("json").eq("user_id",n).then(a=>{a.data&&a.data[0].json&&t(a.data[0].json)}).then(()=>i(!0))};return o(),_.useEffect(()=>{r&&e("/dashboard")},[r,e]),u.jsxs(u.Fragment,{children:[u.jsx("h1",{children:"Logging in."}),u.jsx("p",{children:"Loading your library..."})]})},z=_.createContext({}),rb=su(Date.now(),"input"),ib=()=>{let e;localStorage.getItem(un)?e=!0:e=!1;const[t,n]=_.useState(""),[r,i]=_.useState(""),[s,o]=_.useState(""),[l,a]=_.useState([]),[c,d]=_.useState(e),[h,p]=_.useState(""),[f,v]=_.useState(!1),[x,w]=_.useState(""),[g,m]=_.useState(!1),[y,S]=_.useState(""),[E,C]=_.useState(""),T=async()=>{let O;const J=await Z.from("user_entries").select("json");if(J.data)return m(!0),O=J.data[0].json,a(O),O},[P,F]=_.useState(navigator.onLine);_.useEffect(()=>{const O=()=>F(navigator.onLine);return window.addEventListener("online",O),window.addEventListener("offline",O),()=>{window.removeEventListener("online",O),window.removeEventListener("offline",O)}},[P]),_.useEffect(()=>{c===!0&&l.length<1&&T()},[c,g,l.length]),t===""&&localStorage.getItem(un)&&n(JSON.parse(localStorage.getItem(un)).user.user_metadata.screenname),s===""&&localStorage.getItem(un)&&o(JSON.parse(localStorage.getItem(un)).user.id),c?document.getElementsByTagName("html")[0].classList.add("loggedin"):document.getElementsByTagName("html")[0].classList.remove("loggedin");function A(){let O;return h?O=h:O="",setTimeout(()=>p(""),1e3),u.jsx(u.Fragment,{children:O})}const D="main-"+Oc(location.hash,!1);return _.useEffect(()=>{document.title=y},[y]),u.jsx(u.Fragment,{children:u.jsxs(z.Provider,{value:{formNotification:x,navTitle:y,popupNotification:h,popupNotificationShow:f,localBookFilter:E,setFormNotification:w,setLocalBookFilter:C,setNavTitle:S,setPopupNotification:p,setPopupNotificationShow:v,setUserIsLoggedIn:d,setUserMyBooks:a,setUserid:o,setUsermail:i,setUsername:n,todaysDateInput:rb,userIsLoggedIn:c,userMyBooks:l,userid:s,usermail:r,username:t},children:[c&&u.jsx("header",{id:"header",children:u.jsx(xE,{})}),u.jsxs("main",{id:"main",className:D+" textwrapper",children:[!P&&u.jsx("div",{id:"popupNotificationOffline",children:" Offline. Some things won‘t work."}),h!==""&&u.jsx("div",{id:"popupNotification",className:h?"show":"hide",children:h&&u.jsx(u.Fragment,{children:A()})}),u.jsxs(U_,{children:[u.jsx(de,{path:"/*",Component:CE}),u.jsx(de,{path:"/error",Component:fE}),u.jsx(de,{path:"/account/login",Component:Cf}),u.jsx(de,{path:"/account/logout",Component:JE}),u.jsx(de,{path:"/auth/confirm",Component:nk}),!c&&u.jsxs(u.Fragment,{children:[u.jsx(de,{path:"/auth/resetpassword",Component:ik}),u.jsx(de,{path:"/account/forgotpassword",Component:lk})]}),u.jsx(de,{path:"/account/new",Component:sk}),c&&u.jsxs(u.Fragment,{children:[u.jsx(de,{path:"/account/profile",Component:ZE}),u.jsx(de,{path:"/account/*",Component:Cf}),u.jsx(de,{path:"/dashboard",Component:hE}),u.jsx(de,{path:"/search",Component:NE}),u.jsx(de,{path:"/add-book",Component:e_}),u.jsx(de,{path:"/saved-books",Component:TE}),u.jsx(de,{path:"/wishlist",Component:tb}),u.jsx(de,{path:"/reading",Component:jE}),u.jsx(de,{path:"/finished",Component:vE}),u.jsx(de,{path:"/favorites",Component:gE}),u.jsx(de,{path:"/quoted-books",Component:_E}),u.jsx(de,{path:"/tropes",Component:HE}),u.jsx(de,{path:"/statistics",Component:DE}),u.jsx(de,{path:"/clear-my-books",Component:ck}),u.jsx(de,{path:"/loadlibrary",Component:nb})]})]})]})]})})};ta.createRoot(document.getElementById("root")).render(u.jsx(no.StrictMode,{children:u.jsx(G_,{children:u.jsx(ib,{})})}));export{bf as g};
