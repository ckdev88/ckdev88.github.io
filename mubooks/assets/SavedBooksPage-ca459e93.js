import{u as W,r as S,g as M,h as A,o as l,c as a,a as s,t as c,k as u,F as h,m as k,n as w,d as o}from"./index-a7424499.js";const R=s("h1",null,"My Books",-1),$=s("p",null," An overview of my saved books, this includes books that are favorited, read and finished, the wishlist and the book currently reading. ",-1),F={key:0,id:"alert"},N={key:1},V={class:"cover"},T=["src"],z={class:"in-short"},D=s("br",null,null,-1),E=s("br",null,null,-1),L={key:0},P=s("h3",null,"Synopsis:",-1),j={class:"marks"},q={class:"mark"},G=["onClick"],H=s("span",{class:"icon icon-remove"},null,-1),I={class:"mark"},J=["onClick"],K=s("span",{class:"icon icon-reading"},null,-1),O={key:1,class:"marked"},Q=s("span",{class:"icon icon-reading"},null,-1),U={class:"mark"},X=["onClick"],Y=s("span",{class:"icon icon-read"},null,-1),Z={key:1,class:"marked"},b=s("span",{class:"icon icon-read"},null,-1),x={class:"mark"},ss=["onClick"],es=s("span",{class:"icon icon-wishlist"},null,-1),ts=["onClick"],ns=s("span",{class:"icon icon-wishlist"},null,-1),ls=s("hr",null,null,-1),is={__name:"SavedBooksPage",setup(as){const r=W(),m=S(M()),n=A({results:r.getSavedBooks,resultCount:0,isSearched:!1,resultsWarning:null});n.resultsWarning=null;function v(e,i){r.removeMyBook(i),n.results[e].saved=!n.results[e].saved}function f(e,i){n.results[e].saved===!1&&v(e,i),n.results[e].onWishlist=!0,r.addBookWishlist(i)}function g(e,i){console.log("remove from wishlist"),n.results[e].onWishlist=!1,r.removeBookWishlist(i)}function p(e,i){if(n.results[e].saved===!1&&v(e,i),n.results[e].reading===!1){for(let t=0;t<n.results.length;t++)n.results[t].reading=!1;n.results[e].reading=!n.results[e].reading,n.results[e].reading===!0&&(n.results[e].finished=!1)}n.results[e].reading===!0&&r.addBookReading(e)}function y(e,i){n.results[e].finished=!0,n.results[e].reading=!1}function B(e){r.removeMyBook(e),n.results.boeken=r.getSavedBooks}return(e,i)=>(l(),a(h,null,[R,$,m.value.currentAlert?(l(),a("div",F,[s("div",null,c(m.value.currentAlert),1)])):u("",!0),n.resultsWarning?(l(),a("p",N,c(n.resultsWarning),1)):u("",!0),(l(!0),a(h,null,k(n.results,(t,d)=>(l(),a("article",{key:d,class:w(["book-summary",t.reading?"reading":""])},[s("header",null,[s("aside",V,[t.image?(l(),a("img",{key:0,src:t.image,alt:""},null,8,T)):u("",!0)]),s("div",z,[s("h2",null,[o(c(t.title)+" ",1),s("sub",null,[(l(!0),a(h,null,k(t.authors,(_,C)=>(l(),a("span",{key:C},[o(c(_),1),D]))),128))])]),o(" "+c(t.date_published),1),E,o(" "+c(t.pages)+" pages ",1)])]),s("main",null,[t.synopsis?(l(),a("div",L,[P,o(" "+c(t.synopsis.substring(0,180))+" ... ",1)])):u("",!0)]),s("footer",null,[s("div",j,[s("div",q,[s("a",{onClick:_=>B(d)},[H,o("Remove from my books")],8,G)]),s("div",I,[t.reading===!1?(l(),a("a",{key:0,onClick:_=>p(d,t)},[K,o(" Mark as reading ")],8,J)):(l(),a("span",O,[Q,o("Marked as reading...")]))]),s("div",U,[t.reading===!0&&t.finished===!1?(l(),a("a",{key:0,onClick:_=>y(d)},[Y,o("Mark as read ")],8,X)):u("",!0),t.finished===!0?(l(),a("span",Z,[b,o("Marked as read")])):u("",!0)]),s("div",x,[!t.onWishlist||t.saved===!1?(l(),a("a",{key:0,onClick:_=>f(d,t)},[es,o("Add to wishlist ")],8,ss)):t.onWishlist?(l(),a("a",{key:1,onClick:_=>g(d,t)},[ns,o("Remove from Wishlist ")],8,ts)):u("",!0)])]),ls])],2))),128))],64))}};export{is as default};
