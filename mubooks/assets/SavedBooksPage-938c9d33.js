import{u as $,r as v,g as A,h as M,o as a,c as n,l as w,a as s,t as _,k as u,F as f,m as p,n as R,d as l}from"./index-eda8418f.js";const N=s("h1",null,"My Books",-1),T=s("p",null," An overview of my saved books, this includes books that are favorited, read and finished, the wishlist and the book currently reading. ",-1),V={key:0},z=s("h4",null,"No books added yet, find them and add them.",-1),D={key:1},E={key:0,id:"alert"},L={key:1},P={class:"cover"},j=["src"],q={class:"in-short"},G=s("br",null,null,-1),H=s("br",null,null,-1),I={key:0},J=s("h3",null,"Synopsis:",-1),K={class:"marks"},O={class:"mark"},Q=["onClick"],U=s("span",{class:"icon icon-remove"},null,-1),X={class:"mark"},Y=["onClick"],Z=s("span",{class:"icon icon-reading"},null,-1),x={key:1,class:"marked"},ss=s("span",{class:"icon icon-reading"},null,-1),es={class:"mark"},os=["onClick"],ts=s("span",{class:"icon icon-read"},null,-1),as={key:1,class:"marked"},ns=s("span",{class:"icon icon-read"},null,-1),is={class:"mark"},ls=["onClick"],rs=s("span",{class:"icon icon-wishlist"},null,-1),cs=["onClick"],ds=s("span",{class:"icon icon-wishlist"},null,-1),us={class:"mark"},_s=["onClick"],hs=s("span",{class:"icon icon-favorites"},null,-1),ks=["onClick"],vs=s("span",{class:"icon icon-favorites"},null,-1),fs=s("hr",null,null,-1),ps={__name:"SavedBooksPage",setup(ms){const r=$(),m=v(A()),t=M({books:r.getSavedBooks,resultCount:0,isSearched:!1,resultsWarning:null,hasbooks:!1});t.resultsWarning=null;function k(e,i){r.removeMyBook(i),t.books[e].saved=!t.books[e].saved}function y(e,i){t.books[e].saved===!1&&k(e,i),t.books[e].onWishlist=!0,r.addBookWishlist(i)}function B(e,i){t.books[e].saved===!1&&k(e,i),t.books[e].isFavorite=!0,r.addBookFavorites(i)}function C(e,i){console.log("remove from favorites"),t.books[e].isFavorite=!1,r.removeFromFavorites(i)}function b(e,i){if(t.books[e].saved===!1&&k(e,i),t.books[e].reading===!1){for(let o=0;o<t.books.length;o++)t.books[o].reading=!1;t.books[e].reading=!t.books[e].reading,t.books[e].reading===!0&&(t.books[e].finished=!1)}t.books[e].reading===!0&&r.addBookReading(e)}function F(e,i){t.books[e].finished=!0,t.books[e].reading=!1}function S(e){r.removeMyBook(e),t.books.boeken=r.getSavedBooks,t.books.boeken.length===0&&(h=!1),t.books.splice(e,1)}let h=v(!1),g=[];return r.getSavedBooks!==!1&&(g=v(r.getSavedBooks),g.value.length>0?h=!0:h=!1),h.value===void 0&&(t.hasbooks=!1),(e,i)=>(a(),n(f,null,[N,T,w(h)===!1?(a(),n("div",V,[z,s("p",null,[s("button",{onClick:i[0]||(i[0]=o=>e.$router.push({name:"search"})),class:"wauto"},"Search")])])):(a(),n("div",D,[m.value.currentAlert?(a(),n("div",E,[s("div",null,_(m.value.currentAlert),1)])):u("",!0),t.resultsWarning?(a(),n("p",L,_(t.resultsWarning),1)):u("",!0),(a(!0),n(f,null,p(t.books,(o,c)=>(a(),n("article",{key:c,class:R(["book-summary",o.reading?"reading":""])},[s("header",null,[s("aside",P,[o.image?(a(),n("img",{key:0,src:o.image,alt:""},null,8,j)):u("",!0)]),s("div",q,[s("h2",null,[l(_(o.title_short)+" ",1),s("sub",null,[(a(!0),n(f,null,p(o.authors,(d,W)=>(a(),n("span",{key:W},[l(_(d),1),G]))),128))])]),l(" "+_(o.date_published),1),H,l(" "+_(o.pages)+" pages ",1)])]),s("main",null,[o.synopsis?(a(),n("div",I,[J,l(" "+_(o.synopsis.substring(0,180))+" ... ",1)])):u("",!0)]),s("footer",null,[s("div",K,[s("div",O,[s("a",{onClick:d=>S(c)},[U,l("Remove from my books")],8,Q)]),s("div",X,[o.reading===!1?(a(),n("a",{key:0,onClick:d=>b(c,o)},[Z,l(" Mark as reading ")],8,Y)):(a(),n("span",x,[ss,l("Marked as reading")]))]),s("div",es,[o.reading===!0&&o.finished===!1?(a(),n("a",{key:0,onClick:d=>F(c)},[ts,l("Mark as read ")],8,os)):u("",!0),o.finished===!0?(a(),n("span",as,[ns,l("Marked as read")])):u("",!0)]),s("div",is,[!o.onWishlist||o.saved===!1?(a(),n("a",{key:0,onClick:d=>y(c,o)},[rs,l("Add to wishlist ")],8,ls)):o.onWishlist?(a(),n("a",{key:1,onClick:d=>e.removeFromWishlist(c,o)},[ds,l("Remove from Wishlist ")],8,cs)):u("",!0)]),s("div",us,[!o.isFavorite||o.saved===!1?(a(),n("a",{key:0,onClick:d=>B(c,o)},[hs,l("Add to favorites ")],8,_s)):o.isFavorite?(a(),n("a",{key:1,onClick:d=>C(c,o)},[vs,l("Remove from favorites ")],8,ks)):u("",!0)])]),fs])],2))),128))]))],64))}};export{ps as default};
