function my(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Ye=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Cf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function gy(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var Ef={exports:{}},Ro={},bf={exports:{}},q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ns=Symbol.for("react.element"),yy=Symbol.for("react.portal"),vy=Symbol.for("react.fragment"),wy=Symbol.for("react.strict_mode"),xy=Symbol.for("react.profiler"),_y=Symbol.for("react.provider"),ky=Symbol.for("react.context"),Sy=Symbol.for("react.forward_ref"),jy=Symbol.for("react.suspense"),Cy=Symbol.for("react.memo"),Ey=Symbol.for("react.lazy"),zc=Symbol.iterator;function by(e){return e===null||typeof e!="object"?null:(e=zc&&e[zc]||e["@@iterator"],typeof e=="function"?e:null)}var Tf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Pf=Object.assign,Nf={};function qr(e,t,n){this.props=e,this.context=t,this.refs=Nf,this.updater=n||Tf}qr.prototype.isReactComponent={};qr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};qr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function If(){}If.prototype=qr.prototype;function gu(e,t,n){this.props=e,this.context=t,this.refs=Nf,this.updater=n||Tf}var yu=gu.prototype=new If;yu.constructor=gu;Pf(yu,qr.prototype);yu.isPureReactComponent=!0;var $c=Array.isArray,Of=Object.prototype.hasOwnProperty,vu={current:null},Lf={key:!0,ref:!0,__self:!0,__source:!0};function Af(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)Of.call(t,r)&&!Lf.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:ns,type:e,key:s,ref:o,props:i,_owner:vu.current}}function Ty(e,t){return{$$typeof:ns,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function wu(e){return typeof e=="object"&&e!==null&&e.$$typeof===ns}function Py(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Uc=/\/+/g;function ul(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Py(""+e.key):t.toString(36)}function zs(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ns:case yy:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+ul(o,0):r,$c(i)?(n="",e!=null&&(n=e.replace(Uc,"$&/")+"/"),zs(i,t,n,"",function(c){return c})):i!=null&&(wu(i)&&(i=Ty(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Uc,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",$c(e))for(var l=0;l<e.length;l++){s=e[l];var a=r+ul(s,l);o+=zs(s,t,n,a,i)}else if(a=by(e),typeof a=="function")for(e=a.call(e),l=0;!(s=e.next()).done;)s=s.value,a=r+ul(s,l++),o+=zs(s,t,n,a,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function gs(e,t,n){if(e==null)return e;var r=[],i=0;return zs(e,r,"","",function(s){return t.call(n,s,i++)}),r}function Ny(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var $e={current:null},$s={transition:null},Iy={ReactCurrentDispatcher:$e,ReactCurrentBatchConfig:$s,ReactCurrentOwner:vu};function Rf(){throw Error("act(...) is not supported in production builds of React.")}q.Children={map:gs,forEach:function(e,t,n){gs(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return gs(e,function(){t++}),t},toArray:function(e){return gs(e,function(t){return t})||[]},only:function(e){if(!wu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};q.Component=qr;q.Fragment=vy;q.Profiler=xy;q.PureComponent=gu;q.StrictMode=wy;q.Suspense=jy;q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Iy;q.act=Rf;q.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Pf({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=vu.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)Of.call(t,a)&&!Lf.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:ns,type:e.type,key:i,ref:s,props:r,_owner:o}};q.createContext=function(e){return e={$$typeof:ky,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:_y,_context:e},e.Consumer=e};q.createElement=Af;q.createFactory=function(e){var t=Af.bind(null,e);return t.type=e,t};q.createRef=function(){return{current:null}};q.forwardRef=function(e){return{$$typeof:Sy,render:e}};q.isValidElement=wu;q.lazy=function(e){return{$$typeof:Ey,_payload:{_status:-1,_result:e},_init:Ny}};q.memo=function(e,t){return{$$typeof:Cy,type:e,compare:t===void 0?null:t}};q.startTransition=function(e){var t=$s.transition;$s.transition={};try{e()}finally{$s.transition=t}};q.unstable_act=Rf;q.useCallback=function(e,t){return $e.current.useCallback(e,t)};q.useContext=function(e){return $e.current.useContext(e)};q.useDebugValue=function(){};q.useDeferredValue=function(e){return $e.current.useDeferredValue(e)};q.useEffect=function(e,t){return $e.current.useEffect(e,t)};q.useId=function(){return $e.current.useId()};q.useImperativeHandle=function(e,t,n){return $e.current.useImperativeHandle(e,t,n)};q.useInsertionEffect=function(e,t){return $e.current.useInsertionEffect(e,t)};q.useLayoutEffect=function(e,t){return $e.current.useLayoutEffect(e,t)};q.useMemo=function(e,t){return $e.current.useMemo(e,t)};q.useReducer=function(e,t,n){return $e.current.useReducer(e,t,n)};q.useRef=function(e){return $e.current.useRef(e)};q.useState=function(e){return $e.current.useState(e)};q.useSyncExternalStore=function(e,t,n){return $e.current.useSyncExternalStore(e,t,n)};q.useTransition=function(){return $e.current.useTransition()};q.version="18.3.1";bf.exports=q;var _=bf.exports;const to=Cf(_),Oy=my({__proto__:null,default:to},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ly=_,Ay=Symbol.for("react.element"),Ry=Symbol.for("react.fragment"),Fy=Object.prototype.hasOwnProperty,Dy=Ly.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,My={key:!0,ref:!0,__self:!0,__source:!0};function Ff(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Fy.call(t,r)&&!My.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Ay,type:e,key:s,ref:o,props:i,_owner:Dy.current}}Ro.Fragment=Ry;Ro.jsx=Ff;Ro.jsxs=Ff;Ef.exports=Ro;var u=Ef.exports,ea={},Df={exports:{}},lt={},Mf={exports:{}},Bf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,B){var k=L.length;L.push(B);e:for(;0<k;){var G=k-1>>>1,ne=L[G];if(0<i(ne,B))L[G]=B,L[k]=ne,k=G;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var B=L[0],k=L.pop();if(k!==B){L[0]=k;e:for(var G=0,ne=L.length,j=ne>>>1;G<j;){var je=2*(G+1)-1,wt=L[je],ae=je+1,Nt=L[ae];if(0>i(wt,k))ae<ne&&0>i(Nt,wt)?(L[G]=Nt,L[ae]=k,G=ae):(L[G]=wt,L[je]=k,G=je);else if(ae<ne&&0>i(Nt,k))L[G]=Nt,L[ae]=k,G=ae;else break e}}return B}function i(L,B){var k=L.sortIndex-B.sortIndex;return k!==0?k:L.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var a=[],c=[],d=1,h=null,p=3,f=!1,y=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(L){for(var B=n(c);B!==null;){if(B.callback===null)r(c);else if(B.startTime<=L)r(c),B.sortIndex=B.expirationTime,t(a,B);else break;B=n(c)}}function S(L){if(w=!1,v(L),!y)if(n(a)!==null)y=!0,_e(E);else{var B=n(c);B!==null&&we(S,B.startTime-L)}}function E(L,B){y=!1,w&&(w=!1,m(I),I=-1),f=!0;var k=p;try{for(v(B),h=n(a);h!==null&&(!(h.expirationTime>B)||L&&!D());){var G=h.callback;if(typeof G=="function"){h.callback=null,p=h.priorityLevel;var ne=G(h.expirationTime<=B);B=e.unstable_now(),typeof ne=="function"?h.callback=ne:h===n(a)&&r(a),v(B)}else r(a);h=n(a)}if(h!==null)var j=!0;else{var je=n(c);je!==null&&we(S,je.startTime-B),j=!1}return j}finally{h=null,p=k,f=!1}}var C=!1,T=null,I=-1,M=5,R=-1;function D(){return!(e.unstable_now()-R<M)}function A(){if(T!==null){var L=e.unstable_now();R=L;var B=!0;try{B=T(!0,L)}finally{B?J():(C=!1,T=null)}}else C=!1}var J;if(typeof g=="function")J=function(){g(A)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,W=fe.port2;fe.port1.onmessage=A,J=function(){W.postMessage(null)}}else J=function(){x(A,0)};function _e(L){T=L,C||(C=!0,J())}function we(L,B){I=x(function(){L(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){y||f||(y=!0,_e(E))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(L){switch(p){case 1:case 2:case 3:var B=3;break;default:B=p}var k=p;p=B;try{return L()}finally{p=k}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,B){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var k=p;p=L;try{return B()}finally{p=k}},e.unstable_scheduleCallback=function(L,B,k){var G=e.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?G+k:G):k=G,L){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=k+ne,L={id:d++,callback:B,priorityLevel:L,startTime:k,expirationTime:ne,sortIndex:-1},k>G?(L.sortIndex=k,t(c,L),n(a)===null&&L===n(c)&&(w?(m(I),I=-1):w=!0,we(S,k-G))):(L.sortIndex=ne,t(a,L),y||f||(y=!0,_e(E))),L},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(L){var B=p;return function(){var k=p;p=B;try{return L.apply(this,arguments)}finally{p=k}}}})(Bf);Mf.exports=Bf;var By=Mf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zy=_,ot=By;function P(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zf=new Set,Fi={};function Yn(e,t){Ar(e,t),Ar(e+"Capture",t)}function Ar(e,t){for(Fi[e]=t,e=0;e<t.length;e++)zf.add(t[e])}var qt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ta=Object.prototype.hasOwnProperty,$y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Hc={},Vc={};function Uy(e){return ta.call(Vc,e)?!0:ta.call(Hc,e)?!1:$y.test(e)?Vc[e]=!0:(Hc[e]=!0,!1)}function Hy(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Vy(e,t,n,r){if(t===null||typeof t>"u"||Hy(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ue(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Oe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Oe[e]=new Ue(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Oe[t]=new Ue(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Oe[e]=new Ue(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Oe[e]=new Ue(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Oe[e]=new Ue(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Oe[e]=new Ue(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Oe[e]=new Ue(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Oe[e]=new Ue(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Oe[e]=new Ue(e,5,!1,e.toLowerCase(),null,!1,!1)});var xu=/[\-:]([a-z])/g;function _u(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(xu,_u);Oe[t]=new Ue(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(xu,_u);Oe[t]=new Ue(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(xu,_u);Oe[t]=new Ue(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Oe[e]=new Ue(e,1,!1,e.toLowerCase(),null,!1,!1)});Oe.xlinkHref=new Ue("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Oe[e]=new Ue(e,1,!1,e.toLowerCase(),null,!0,!0)});function ku(e,t,n,r){var i=Oe.hasOwnProperty(t)?Oe[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Vy(t,n,i,r)&&(n=null),r||i===null?Uy(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Gt=zy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ys=Symbol.for("react.element"),hr=Symbol.for("react.portal"),fr=Symbol.for("react.fragment"),Su=Symbol.for("react.strict_mode"),na=Symbol.for("react.profiler"),$f=Symbol.for("react.provider"),Uf=Symbol.for("react.context"),ju=Symbol.for("react.forward_ref"),ra=Symbol.for("react.suspense"),ia=Symbol.for("react.suspense_list"),Cu=Symbol.for("react.memo"),tn=Symbol.for("react.lazy"),Hf=Symbol.for("react.offscreen"),qc=Symbol.iterator;function ei(e){return e===null||typeof e!="object"?null:(e=qc&&e[qc]||e["@@iterator"],typeof e=="function"?e:null)}var ge=Object.assign,cl;function gi(e){if(cl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);cl=t&&t[1]||""}return`
`+cl+e}var dl=!1;function hl(e,t){if(!e||dl)return"";dl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var a=`
`+i[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=o&&0<=l);break}}}finally{dl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?gi(e):""}function qy(e){switch(e.tag){case 5:return gi(e.type);case 16:return gi("Lazy");case 13:return gi("Suspense");case 19:return gi("SuspenseList");case 0:case 2:case 15:return e=hl(e.type,!1),e;case 11:return e=hl(e.type.render,!1),e;case 1:return e=hl(e.type,!0),e;default:return""}}function sa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case fr:return"Fragment";case hr:return"Portal";case na:return"Profiler";case Su:return"StrictMode";case ra:return"Suspense";case ia:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Uf:return(e.displayName||"Context")+".Consumer";case $f:return(e._context.displayName||"Context")+".Provider";case ju:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Cu:return t=e.displayName||null,t!==null?t:sa(e.type)||"Memo";case tn:t=e._payload,e=e._init;try{return sa(e(t))}catch{}}return null}function Wy(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return sa(t);case 8:return t===Su?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Sn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Vf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Qy(e){var t=Vf(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function vs(e){e._valueTracker||(e._valueTracker=Qy(e))}function qf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Vf(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function no(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function oa(e,t){var n=t.checked;return ge({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Wc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Sn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Wf(e,t){t=t.checked,t!=null&&ku(e,"checked",t,!1)}function la(e,t){Wf(e,t);var n=Sn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?aa(e,t.type,n):t.hasOwnProperty("defaultValue")&&aa(e,t.type,Sn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Qc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function aa(e,t,n){(t!=="number"||no(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var yi=Array.isArray;function jr(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Sn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function ua(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(P(91));return ge({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Kc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(P(92));if(yi(n)){if(1<n.length)throw Error(P(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Sn(n)}}function Qf(e,t){var n=Sn(t.value),r=Sn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Jc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Kf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ca(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Kf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ws,Jf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ws=ws||document.createElement("div"),ws.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ws.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Di(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var _i={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ky=["Webkit","ms","Moz","O"];Object.keys(_i).forEach(function(e){Ky.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),_i[t]=_i[e]})});function Gf(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||_i.hasOwnProperty(e)&&_i[e]?(""+t).trim():t+"px"}function Yf(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Gf(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Jy=ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function da(e,t){if(t){if(Jy[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(P(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(P(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(P(61))}if(t.style!=null&&typeof t.style!="object")throw Error(P(62))}}function ha(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fa=null;function Eu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var pa=null,Cr=null,Er=null;function Gc(e){if(e=ss(e)){if(typeof pa!="function")throw Error(P(280));var t=e.stateNode;t&&(t=zo(t),pa(e.stateNode,e.type,t))}}function Xf(e){Cr?Er?Er.push(e):Er=[e]:Cr=e}function Zf(){if(Cr){var e=Cr,t=Er;if(Er=Cr=null,Gc(e),t)for(e=0;e<t.length;e++)Gc(t[e])}}function ep(e,t){return e(t)}function tp(){}var fl=!1;function np(e,t,n){if(fl)return e(t,n);fl=!0;try{return ep(e,t,n)}finally{fl=!1,(Cr!==null||Er!==null)&&(tp(),Zf())}}function Mi(e,t){var n=e.stateNode;if(n===null)return null;var r=zo(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(P(231,t,typeof n));return n}var ma=!1;if(qt)try{var ti={};Object.defineProperty(ti,"passive",{get:function(){ma=!0}}),window.addEventListener("test",ti,ti),window.removeEventListener("test",ti,ti)}catch{ma=!1}function Gy(e,t,n,r,i,s,o,l,a){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var ki=!1,ro=null,io=!1,ga=null,Yy={onError:function(e){ki=!0,ro=e}};function Xy(e,t,n,r,i,s,o,l,a){ki=!1,ro=null,Gy.apply(Yy,arguments)}function Zy(e,t,n,r,i,s,o,l,a){if(Xy.apply(this,arguments),ki){if(ki){var c=ro;ki=!1,ro=null}else throw Error(P(198));io||(io=!0,ga=c)}}function Xn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function rp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Yc(e){if(Xn(e)!==e)throw Error(P(188))}function ev(e){var t=e.alternate;if(!t){if(t=Xn(e),t===null)throw Error(P(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Yc(i),e;if(s===r)return Yc(i),t;s=s.sibling}throw Error(P(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(P(189))}}if(n.alternate!==r)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?e:t}function ip(e){return e=ev(e),e!==null?sp(e):null}function sp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=sp(e);if(t!==null)return t;e=e.sibling}return null}var op=ot.unstable_scheduleCallback,Xc=ot.unstable_cancelCallback,tv=ot.unstable_shouldYield,nv=ot.unstable_requestPaint,xe=ot.unstable_now,rv=ot.unstable_getCurrentPriorityLevel,bu=ot.unstable_ImmediatePriority,lp=ot.unstable_UserBlockingPriority,so=ot.unstable_NormalPriority,iv=ot.unstable_LowPriority,ap=ot.unstable_IdlePriority,Fo=null,Ft=null;function sv(e){if(Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(Fo,e,void 0,(e.current.flags&128)===128)}catch{}}var bt=Math.clz32?Math.clz32:av,ov=Math.log,lv=Math.LN2;function av(e){return e>>>=0,e===0?32:31-(ov(e)/lv|0)|0}var xs=64,_s=4194304;function vi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function oo(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=vi(l):(s&=o,s!==0&&(r=vi(s)))}else o=n&~i,o!==0?r=vi(o):s!==0&&(r=vi(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-bt(t),i=1<<n,r|=e[n],t&=~i;return r}function uv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cv(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-bt(s),l=1<<o,a=i[o];a===-1?(!(l&n)||l&r)&&(i[o]=uv(l,t)):a<=t&&(e.expiredLanes|=l),s&=~l}}function ya(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function up(){var e=xs;return xs<<=1,!(xs&4194240)&&(xs=64),e}function pl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function rs(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-bt(t),e[t]=n}function dv(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-bt(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function Tu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-bt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var te=0;function cp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var dp,Pu,hp,fp,pp,va=!1,ks=[],pn=null,mn=null,gn=null,Bi=new Map,zi=new Map,on=[],hv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zc(e,t){switch(e){case"focusin":case"focusout":pn=null;break;case"dragenter":case"dragleave":mn=null;break;case"mouseover":case"mouseout":gn=null;break;case"pointerover":case"pointerout":Bi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zi.delete(t.pointerId)}}function ni(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=ss(t),t!==null&&Pu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function fv(e,t,n,r,i){switch(t){case"focusin":return pn=ni(pn,e,t,n,r,i),!0;case"dragenter":return mn=ni(mn,e,t,n,r,i),!0;case"mouseover":return gn=ni(gn,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Bi.set(s,ni(Bi.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,zi.set(s,ni(zi.get(s)||null,e,t,n,r,i)),!0}return!1}function mp(e){var t=zn(e.target);if(t!==null){var n=Xn(t);if(n!==null){if(t=n.tag,t===13){if(t=rp(n),t!==null){e.blockedOn=t,pp(e.priority,function(){hp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Us(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=wa(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);fa=r,n.target.dispatchEvent(r),fa=null}else return t=ss(n),t!==null&&Pu(t),e.blockedOn=n,!1;t.shift()}return!0}function ed(e,t,n){Us(e)&&n.delete(t)}function pv(){va=!1,pn!==null&&Us(pn)&&(pn=null),mn!==null&&Us(mn)&&(mn=null),gn!==null&&Us(gn)&&(gn=null),Bi.forEach(ed),zi.forEach(ed)}function ri(e,t){e.blockedOn===t&&(e.blockedOn=null,va||(va=!0,ot.unstable_scheduleCallback(ot.unstable_NormalPriority,pv)))}function $i(e){function t(i){return ri(i,e)}if(0<ks.length){ri(ks[0],e);for(var n=1;n<ks.length;n++){var r=ks[n];r.blockedOn===e&&(r.blockedOn=null)}}for(pn!==null&&ri(pn,e),mn!==null&&ri(mn,e),gn!==null&&ri(gn,e),Bi.forEach(t),zi.forEach(t),n=0;n<on.length;n++)r=on[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<on.length&&(n=on[0],n.blockedOn===null);)mp(n),n.blockedOn===null&&on.shift()}var br=Gt.ReactCurrentBatchConfig,lo=!0;function mv(e,t,n,r){var i=te,s=br.transition;br.transition=null;try{te=1,Nu(e,t,n,r)}finally{te=i,br.transition=s}}function gv(e,t,n,r){var i=te,s=br.transition;br.transition=null;try{te=4,Nu(e,t,n,r)}finally{te=i,br.transition=s}}function Nu(e,t,n,r){if(lo){var i=wa(e,t,n,r);if(i===null)jl(e,t,r,ao,n),Zc(e,r);else if(fv(i,e,t,n,r))r.stopPropagation();else if(Zc(e,r),t&4&&-1<hv.indexOf(e)){for(;i!==null;){var s=ss(i);if(s!==null&&dp(s),s=wa(e,t,n,r),s===null&&jl(e,t,r,ao,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else jl(e,t,r,null,n)}}var ao=null;function wa(e,t,n,r){if(ao=null,e=Eu(r),e=zn(e),e!==null)if(t=Xn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=rp(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ao=e,null}function gp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rv()){case bu:return 1;case lp:return 4;case so:case iv:return 16;case ap:return 536870912;default:return 16}default:return 16}}var dn=null,Iu=null,Hs=null;function yp(){if(Hs)return Hs;var e,t=Iu,n=t.length,r,i="value"in dn?dn.value:dn.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Hs=i.slice(e,1<r?1-r:void 0)}function Vs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ss(){return!0}function td(){return!1}function at(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ss:td,this.isPropagationStopped=td,this}return ge(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ss)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ss)},persist:function(){},isPersistent:Ss}),t}var Wr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ou=at(Wr),is=ge({},Wr,{view:0,detail:0}),yv=at(is),ml,gl,ii,Do=ge({},is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ii&&(ii&&e.type==="mousemove"?(ml=e.screenX-ii.screenX,gl=e.screenY-ii.screenY):gl=ml=0,ii=e),ml)},movementY:function(e){return"movementY"in e?e.movementY:gl}}),nd=at(Do),vv=ge({},Do,{dataTransfer:0}),wv=at(vv),xv=ge({},is,{relatedTarget:0}),yl=at(xv),_v=ge({},Wr,{animationName:0,elapsedTime:0,pseudoElement:0}),kv=at(_v),Sv=ge({},Wr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),jv=at(Sv),Cv=ge({},Wr,{data:0}),rd=at(Cv),Ev={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Tv[e])?!!t[e]:!1}function Lu(){return Pv}var Nv=ge({},is,{key:function(e){if(e.key){var t=Ev[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Vs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?bv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lu,charCode:function(e){return e.type==="keypress"?Vs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Vs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Iv=at(Nv),Ov=ge({},Do,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),id=at(Ov),Lv=ge({},is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lu}),Av=at(Lv),Rv=ge({},Wr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fv=at(Rv),Dv=ge({},Do,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mv=at(Dv),Bv=[9,13,27,32],Au=qt&&"CompositionEvent"in window,Si=null;qt&&"documentMode"in document&&(Si=document.documentMode);var zv=qt&&"TextEvent"in window&&!Si,vp=qt&&(!Au||Si&&8<Si&&11>=Si),sd=" ",od=!1;function wp(e,t){switch(e){case"keyup":return Bv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var pr=!1;function $v(e,t){switch(e){case"compositionend":return xp(t);case"keypress":return t.which!==32?null:(od=!0,sd);case"textInput":return e=t.data,e===sd&&od?null:e;default:return null}}function Uv(e,t){if(pr)return e==="compositionend"||!Au&&wp(e,t)?(e=yp(),Hs=Iu=dn=null,pr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return vp&&t.locale!=="ko"?null:t.data;default:return null}}var Hv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ld(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Hv[e.type]:t==="textarea"}function _p(e,t,n,r){Xf(r),t=uo(t,"onChange"),0<t.length&&(n=new Ou("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ji=null,Ui=null;function Vv(e){Op(e,0)}function Mo(e){var t=yr(e);if(qf(t))return e}function qv(e,t){if(e==="change")return t}var kp=!1;if(qt){var vl;if(qt){var wl="oninput"in document;if(!wl){var ad=document.createElement("div");ad.setAttribute("oninput","return;"),wl=typeof ad.oninput=="function"}vl=wl}else vl=!1;kp=vl&&(!document.documentMode||9<document.documentMode)}function ud(){ji&&(ji.detachEvent("onpropertychange",Sp),Ui=ji=null)}function Sp(e){if(e.propertyName==="value"&&Mo(Ui)){var t=[];_p(t,Ui,e,Eu(e)),np(Vv,t)}}function Wv(e,t,n){e==="focusin"?(ud(),ji=t,Ui=n,ji.attachEvent("onpropertychange",Sp)):e==="focusout"&&ud()}function Qv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Mo(Ui)}function Kv(e,t){if(e==="click")return Mo(t)}function Jv(e,t){if(e==="input"||e==="change")return Mo(t)}function Gv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Pt=typeof Object.is=="function"?Object.is:Gv;function Hi(e,t){if(Pt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ta.call(t,i)||!Pt(e[i],t[i]))return!1}return!0}function cd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dd(e,t){var n=cd(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cd(n)}}function jp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?jp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Cp(){for(var e=window,t=no();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=no(e.document)}return t}function Ru(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Yv(e){var t=Cp(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&jp(n.ownerDocument.documentElement,n)){if(r!==null&&Ru(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=dd(n,s);var o=dd(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Xv=qt&&"documentMode"in document&&11>=document.documentMode,mr=null,xa=null,Ci=null,_a=!1;function hd(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_a||mr==null||mr!==no(r)||(r=mr,"selectionStart"in r&&Ru(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ci&&Hi(Ci,r)||(Ci=r,r=uo(xa,"onSelect"),0<r.length&&(t=new Ou("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function js(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var gr={animationend:js("Animation","AnimationEnd"),animationiteration:js("Animation","AnimationIteration"),animationstart:js("Animation","AnimationStart"),transitionend:js("Transition","TransitionEnd")},xl={},Ep={};qt&&(Ep=document.createElement("div").style,"AnimationEvent"in window||(delete gr.animationend.animation,delete gr.animationiteration.animation,delete gr.animationstart.animation),"TransitionEvent"in window||delete gr.transitionend.transition);function Bo(e){if(xl[e])return xl[e];if(!gr[e])return e;var t=gr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ep)return xl[e]=t[n];return e}var bp=Bo("animationend"),Tp=Bo("animationiteration"),Pp=Bo("animationstart"),Np=Bo("transitionend"),Ip=new Map,fd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function En(e,t){Ip.set(e,t),Yn(t,[e])}for(var _l=0;_l<fd.length;_l++){var kl=fd[_l],Zv=kl.toLowerCase(),e0=kl[0].toUpperCase()+kl.slice(1);En(Zv,"on"+e0)}En(bp,"onAnimationEnd");En(Tp,"onAnimationIteration");En(Pp,"onAnimationStart");En("dblclick","onDoubleClick");En("focusin","onFocus");En("focusout","onBlur");En(Np,"onTransitionEnd");Ar("onMouseEnter",["mouseout","mouseover"]);Ar("onMouseLeave",["mouseout","mouseover"]);Ar("onPointerEnter",["pointerout","pointerover"]);Ar("onPointerLeave",["pointerout","pointerover"]);Yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Yn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),t0=new Set("cancel close invalid load scroll toggle".split(" ").concat(wi));function pd(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Zy(r,t,void 0,e),e.currentTarget=null}function Op(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,c=l.currentTarget;if(l=l.listener,a!==s&&i.isPropagationStopped())break e;pd(i,l,c),s=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,c=l.currentTarget,l=l.listener,a!==s&&i.isPropagationStopped())break e;pd(i,l,c),s=a}}}if(io)throw e=ga,io=!1,ga=null,e}function ue(e,t){var n=t[Ea];n===void 0&&(n=t[Ea]=new Set);var r=e+"__bubble";n.has(r)||(Lp(t,e,2,!1),n.add(r))}function Sl(e,t,n){var r=0;t&&(r|=4),Lp(n,e,r,t)}var Cs="_reactListening"+Math.random().toString(36).slice(2);function Vi(e){if(!e[Cs]){e[Cs]=!0,zf.forEach(function(n){n!=="selectionchange"&&(t0.has(n)||Sl(n,!1,e),Sl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Cs]||(t[Cs]=!0,Sl("selectionchange",!1,t))}}function Lp(e,t,n,r){switch(gp(t)){case 1:var i=mv;break;case 4:i=gv;break;default:i=Nu}n=i.bind(null,t,n,e),i=void 0,!ma||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function jl(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;l!==null;){if(o=zn(l),o===null)return;if(a=o.tag,a===5||a===6){r=s=o;continue e}l=l.parentNode}}r=r.return}np(function(){var c=s,d=Eu(n),h=[];e:{var p=Ip.get(e);if(p!==void 0){var f=Ou,y=e;switch(e){case"keypress":if(Vs(n)===0)break e;case"keydown":case"keyup":f=Iv;break;case"focusin":y="focus",f=yl;break;case"focusout":y="blur",f=yl;break;case"beforeblur":case"afterblur":f=yl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=nd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=wv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=Av;break;case bp:case Tp:case Pp:f=kv;break;case Np:f=Fv;break;case"scroll":f=yv;break;case"wheel":f=Mv;break;case"copy":case"cut":case"paste":f=jv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=id}var w=(t&4)!==0,x=!w&&e==="scroll",m=w?p!==null?p+"Capture":null:p;w=[];for(var g=c,v;g!==null;){v=g;var S=v.stateNode;if(v.tag===5&&S!==null&&(v=S,m!==null&&(S=Mi(g,m),S!=null&&w.push(qi(g,S,v)))),x)break;g=g.return}0<w.length&&(p=new f(p,y,null,n,d),h.push({event:p,listeners:w}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",p&&n!==fa&&(y=n.relatedTarget||n.fromElement)&&(zn(y)||y[Wt]))break e;if((f||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,f?(y=n.relatedTarget||n.toElement,f=c,y=y?zn(y):null,y!==null&&(x=Xn(y),y!==x||y.tag!==5&&y.tag!==6)&&(y=null)):(f=null,y=c),f!==y)){if(w=nd,S="onMouseLeave",m="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(w=id,S="onPointerLeave",m="onPointerEnter",g="pointer"),x=f==null?p:yr(f),v=y==null?p:yr(y),p=new w(S,g+"leave",f,n,d),p.target=x,p.relatedTarget=v,S=null,zn(d)===c&&(w=new w(m,g+"enter",y,n,d),w.target=v,w.relatedTarget=x,S=w),x=S,f&&y)t:{for(w=f,m=y,g=0,v=w;v;v=lr(v))g++;for(v=0,S=m;S;S=lr(S))v++;for(;0<g-v;)w=lr(w),g--;for(;0<v-g;)m=lr(m),v--;for(;g--;){if(w===m||m!==null&&w===m.alternate)break t;w=lr(w),m=lr(m)}w=null}else w=null;f!==null&&md(h,p,f,w,!1),y!==null&&x!==null&&md(h,x,y,w,!0)}}e:{if(p=c?yr(c):window,f=p.nodeName&&p.nodeName.toLowerCase(),f==="select"||f==="input"&&p.type==="file")var E=qv;else if(ld(p))if(kp)E=Jv;else{E=Qv;var C=Wv}else(f=p.nodeName)&&f.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(E=Kv);if(E&&(E=E(e,c))){_p(h,E,n,d);break e}C&&C(e,p,c),e==="focusout"&&(C=p._wrapperState)&&C.controlled&&p.type==="number"&&aa(p,"number",p.value)}switch(C=c?yr(c):window,e){case"focusin":(ld(C)||C.contentEditable==="true")&&(mr=C,xa=c,Ci=null);break;case"focusout":Ci=xa=mr=null;break;case"mousedown":_a=!0;break;case"contextmenu":case"mouseup":case"dragend":_a=!1,hd(h,n,d);break;case"selectionchange":if(Xv)break;case"keydown":case"keyup":hd(h,n,d)}var T;if(Au)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else pr?wp(e,n)&&(I="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(vp&&n.locale!=="ko"&&(pr||I!=="onCompositionStart"?I==="onCompositionEnd"&&pr&&(T=yp()):(dn=d,Iu="value"in dn?dn.value:dn.textContent,pr=!0)),C=uo(c,I),0<C.length&&(I=new rd(I,e,null,n,d),h.push({event:I,listeners:C}),T?I.data=T:(T=xp(n),T!==null&&(I.data=T)))),(T=zv?$v(e,n):Uv(e,n))&&(c=uo(c,"onBeforeInput"),0<c.length&&(d=new rd("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=T))}Op(h,t)})}function qi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function uo(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Mi(e,n),s!=null&&r.unshift(qi(e,s,i)),s=Mi(e,t),s!=null&&r.push(qi(e,s,i))),e=e.return}return r}function lr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function md(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,c=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&c!==null&&(l=c,i?(a=Mi(n,s),a!=null&&o.unshift(qi(n,a,l))):i||(a=Mi(n,s),a!=null&&o.push(qi(n,a,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var n0=/\r\n?/g,r0=/\u0000|\uFFFD/g;function gd(e){return(typeof e=="string"?e:""+e).replace(n0,`
`).replace(r0,"")}function Es(e,t,n){if(t=gd(t),gd(e)!==t&&n)throw Error(P(425))}function co(){}var ka=null,Sa=null;function ja(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ca=typeof setTimeout=="function"?setTimeout:void 0,i0=typeof clearTimeout=="function"?clearTimeout:void 0,yd=typeof Promise=="function"?Promise:void 0,s0=typeof queueMicrotask=="function"?queueMicrotask:typeof yd<"u"?function(e){return yd.resolve(null).then(e).catch(o0)}:Ca;function o0(e){setTimeout(function(){throw e})}function Cl(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),$i(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);$i(t)}function yn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function vd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Qr=Math.random().toString(36).slice(2),At="__reactFiber$"+Qr,Wi="__reactProps$"+Qr,Wt="__reactContainer$"+Qr,Ea="__reactEvents$"+Qr,l0="__reactListeners$"+Qr,a0="__reactHandles$"+Qr;function zn(e){var t=e[At];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Wt]||n[At]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=vd(e);e!==null;){if(n=e[At])return n;e=vd(e)}return t}e=n,n=e.parentNode}return null}function ss(e){return e=e[At]||e[Wt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function yr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(P(33))}function zo(e){return e[Wi]||null}var ba=[],vr=-1;function bn(e){return{current:e}}function ce(e){0>vr||(e.current=ba[vr],ba[vr]=null,vr--)}function oe(e,t){vr++,ba[vr]=e.current,e.current=t}var jn={},Fe=bn(jn),Qe=bn(!1),qn=jn;function Rr(e,t){var n=e.type.contextTypes;if(!n)return jn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ke(e){return e=e.childContextTypes,e!=null}function ho(){ce(Qe),ce(Fe)}function wd(e,t,n){if(Fe.current!==jn)throw Error(P(168));oe(Fe,t),oe(Qe,n)}function Ap(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(P(108,Wy(e)||"Unknown",i));return ge({},n,r)}function fo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||jn,qn=Fe.current,oe(Fe,e),oe(Qe,Qe.current),!0}function xd(e,t,n){var r=e.stateNode;if(!r)throw Error(P(169));n?(e=Ap(e,t,qn),r.__reactInternalMemoizedMergedChildContext=e,ce(Qe),ce(Fe),oe(Fe,e)):ce(Qe),oe(Qe,n)}var $t=null,$o=!1,El=!1;function Rp(e){$t===null?$t=[e]:$t.push(e)}function u0(e){$o=!0,Rp(e)}function Tn(){if(!El&&$t!==null){El=!0;var e=0,t=te;try{var n=$t;for(te=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}$t=null,$o=!1}catch(i){throw $t!==null&&($t=$t.slice(e+1)),op(bu,Tn),i}finally{te=t,El=!1}}return null}var wr=[],xr=0,po=null,mo=0,ct=[],dt=0,Wn=null,Ut=1,Ht="";function Rn(e,t){wr[xr++]=mo,wr[xr++]=po,po=e,mo=t}function Fp(e,t,n){ct[dt++]=Ut,ct[dt++]=Ht,ct[dt++]=Wn,Wn=e;var r=Ut;e=Ht;var i=32-bt(r)-1;r&=~(1<<i),n+=1;var s=32-bt(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ut=1<<32-bt(t)+i|n<<i|r,Ht=s+e}else Ut=1<<s|n<<i|r,Ht=e}function Fu(e){e.return!==null&&(Rn(e,1),Fp(e,1,0))}function Du(e){for(;e===po;)po=wr[--xr],wr[xr]=null,mo=wr[--xr],wr[xr]=null;for(;e===Wn;)Wn=ct[--dt],ct[dt]=null,Ht=ct[--dt],ct[dt]=null,Ut=ct[--dt],ct[dt]=null}var st=null,rt=null,he=!1,Et=null;function Dp(e,t){var n=pt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function _d(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,st=e,rt=yn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,st=e,rt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Wn!==null?{id:Ut,overflow:Ht}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=pt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,st=e,rt=null,!0):!1;default:return!1}}function Ta(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Pa(e){if(he){var t=rt;if(t){var n=t;if(!_d(e,t)){if(Ta(e))throw Error(P(418));t=yn(n.nextSibling);var r=st;t&&_d(e,t)?Dp(r,n):(e.flags=e.flags&-4097|2,he=!1,st=e)}}else{if(Ta(e))throw Error(P(418));e.flags=e.flags&-4097|2,he=!1,st=e}}}function kd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;st=e}function bs(e){if(e!==st)return!1;if(!he)return kd(e),he=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ja(e.type,e.memoizedProps)),t&&(t=rt)){if(Ta(e))throw Mp(),Error(P(418));for(;t;)Dp(e,t),t=yn(t.nextSibling)}if(kd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(P(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){rt=yn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}rt=null}}else rt=st?yn(e.stateNode.nextSibling):null;return!0}function Mp(){for(var e=rt;e;)e=yn(e.nextSibling)}function Fr(){rt=st=null,he=!1}function Mu(e){Et===null?Et=[e]:Et.push(e)}var c0=Gt.ReactCurrentBatchConfig;function si(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var r=n.stateNode}if(!r)throw Error(P(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,e))}return e}function Ts(e,t){throw e=Object.prototype.toString.call(t),Error(P(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Sd(e){var t=e._init;return t(e._payload)}function Bp(e){function t(m,g){if(e){var v=m.deletions;v===null?(m.deletions=[g],m.flags|=16):v.push(g)}}function n(m,g){if(!e)return null;for(;g!==null;)t(m,g),g=g.sibling;return null}function r(m,g){for(m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function i(m,g){return m=_n(m,g),m.index=0,m.sibling=null,m}function s(m,g,v){return m.index=v,e?(v=m.alternate,v!==null?(v=v.index,v<g?(m.flags|=2,g):v):(m.flags|=2,g)):(m.flags|=1048576,g)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function l(m,g,v,S){return g===null||g.tag!==6?(g=Ll(v,m.mode,S),g.return=m,g):(g=i(g,v),g.return=m,g)}function a(m,g,v,S){var E=v.type;return E===fr?d(m,g,v.props.children,S,v.key):g!==null&&(g.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===tn&&Sd(E)===g.type)?(S=i(g,v.props),S.ref=si(m,g,v),S.return=m,S):(S=Ys(v.type,v.key,v.props,null,m.mode,S),S.ref=si(m,g,v),S.return=m,S)}function c(m,g,v,S){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=Al(v,m.mode,S),g.return=m,g):(g=i(g,v.children||[]),g.return=m,g)}function d(m,g,v,S,E){return g===null||g.tag!==7?(g=Vn(v,m.mode,S,E),g.return=m,g):(g=i(g,v),g.return=m,g)}function h(m,g,v){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Ll(""+g,m.mode,v),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ys:return v=Ys(g.type,g.key,g.props,null,m.mode,v),v.ref=si(m,null,g),v.return=m,v;case hr:return g=Al(g,m.mode,v),g.return=m,g;case tn:var S=g._init;return h(m,S(g._payload),v)}if(yi(g)||ei(g))return g=Vn(g,m.mode,v,null),g.return=m,g;Ts(m,g)}return null}function p(m,g,v,S){var E=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return E!==null?null:l(m,g,""+v,S);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ys:return v.key===E?a(m,g,v,S):null;case hr:return v.key===E?c(m,g,v,S):null;case tn:return E=v._init,p(m,g,E(v._payload),S)}if(yi(v)||ei(v))return E!==null?null:d(m,g,v,S,null);Ts(m,v)}return null}function f(m,g,v,S,E){if(typeof S=="string"&&S!==""||typeof S=="number")return m=m.get(v)||null,l(g,m,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ys:return m=m.get(S.key===null?v:S.key)||null,a(g,m,S,E);case hr:return m=m.get(S.key===null?v:S.key)||null,c(g,m,S,E);case tn:var C=S._init;return f(m,g,v,C(S._payload),E)}if(yi(S)||ei(S))return m=m.get(v)||null,d(g,m,S,E,null);Ts(g,S)}return null}function y(m,g,v,S){for(var E=null,C=null,T=g,I=g=0,M=null;T!==null&&I<v.length;I++){T.index>I?(M=T,T=null):M=T.sibling;var R=p(m,T,v[I],S);if(R===null){T===null&&(T=M);break}e&&T&&R.alternate===null&&t(m,T),g=s(R,g,I),C===null?E=R:C.sibling=R,C=R,T=M}if(I===v.length)return n(m,T),he&&Rn(m,I),E;if(T===null){for(;I<v.length;I++)T=h(m,v[I],S),T!==null&&(g=s(T,g,I),C===null?E=T:C.sibling=T,C=T);return he&&Rn(m,I),E}for(T=r(m,T);I<v.length;I++)M=f(T,m,I,v[I],S),M!==null&&(e&&M.alternate!==null&&T.delete(M.key===null?I:M.key),g=s(M,g,I),C===null?E=M:C.sibling=M,C=M);return e&&T.forEach(function(D){return t(m,D)}),he&&Rn(m,I),E}function w(m,g,v,S){var E=ei(v);if(typeof E!="function")throw Error(P(150));if(v=E.call(v),v==null)throw Error(P(151));for(var C=E=null,T=g,I=g=0,M=null,R=v.next();T!==null&&!R.done;I++,R=v.next()){T.index>I?(M=T,T=null):M=T.sibling;var D=p(m,T,R.value,S);if(D===null){T===null&&(T=M);break}e&&T&&D.alternate===null&&t(m,T),g=s(D,g,I),C===null?E=D:C.sibling=D,C=D,T=M}if(R.done)return n(m,T),he&&Rn(m,I),E;if(T===null){for(;!R.done;I++,R=v.next())R=h(m,R.value,S),R!==null&&(g=s(R,g,I),C===null?E=R:C.sibling=R,C=R);return he&&Rn(m,I),E}for(T=r(m,T);!R.done;I++,R=v.next())R=f(T,m,I,R.value,S),R!==null&&(e&&R.alternate!==null&&T.delete(R.key===null?I:R.key),g=s(R,g,I),C===null?E=R:C.sibling=R,C=R);return e&&T.forEach(function(A){return t(m,A)}),he&&Rn(m,I),E}function x(m,g,v,S){if(typeof v=="object"&&v!==null&&v.type===fr&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case ys:e:{for(var E=v.key,C=g;C!==null;){if(C.key===E){if(E=v.type,E===fr){if(C.tag===7){n(m,C.sibling),g=i(C,v.props.children),g.return=m,m=g;break e}}else if(C.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===tn&&Sd(E)===C.type){n(m,C.sibling),g=i(C,v.props),g.ref=si(m,C,v),g.return=m,m=g;break e}n(m,C);break}else t(m,C);C=C.sibling}v.type===fr?(g=Vn(v.props.children,m.mode,S,v.key),g.return=m,m=g):(S=Ys(v.type,v.key,v.props,null,m.mode,S),S.ref=si(m,g,v),S.return=m,m=S)}return o(m);case hr:e:{for(C=v.key;g!==null;){if(g.key===C)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){n(m,g.sibling),g=i(g,v.children||[]),g.return=m,m=g;break e}else{n(m,g);break}else t(m,g);g=g.sibling}g=Al(v,m.mode,S),g.return=m,m=g}return o(m);case tn:return C=v._init,x(m,g,C(v._payload),S)}if(yi(v))return y(m,g,v,S);if(ei(v))return w(m,g,v,S);Ts(m,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,g!==null&&g.tag===6?(n(m,g.sibling),g=i(g,v),g.return=m,m=g):(n(m,g),g=Ll(v,m.mode,S),g.return=m,m=g),o(m)):n(m,g)}return x}var Dr=Bp(!0),zp=Bp(!1),go=bn(null),yo=null,_r=null,Bu=null;function zu(){Bu=_r=yo=null}function $u(e){var t=go.current;ce(go),e._currentValue=t}function Na(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Tr(e,t){yo=e,Bu=_r=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(We=!0),e.firstContext=null)}function gt(e){var t=e._currentValue;if(Bu!==e)if(e={context:e,memoizedValue:t,next:null},_r===null){if(yo===null)throw Error(P(308));_r=e,yo.dependencies={lanes:0,firstContext:e}}else _r=_r.next=e;return t}var $n=null;function Uu(e){$n===null?$n=[e]:$n.push(e)}function $p(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Uu(t)):(n.next=i.next,i.next=n),t.interleaved=n,Qt(e,r)}function Qt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var nn=!1;function Hu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Up(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function vn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Y&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Qt(e,n)}return i=r.interleaved,i===null?(t.next=t,Uu(r)):(t.next=i.next,i.next=t),r.interleaved=t,Qt(e,n)}function qs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Tu(e,n)}}function jd(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function vo(e,t,n,r){var i=e.updateQueue;nn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,c=a.next;a.next=null,o===null?s=c:o.next=c,o=a;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=a))}if(s!==null){var h=i.baseState;o=0,d=c=a=null,l=s;do{var p=l.lane,f=l.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,w=l;switch(p=t,f=n,w.tag){case 1:if(y=w.payload,typeof y=="function"){h=y.call(f,h,p);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,p=typeof y=="function"?y.call(f,h,p):y,p==null)break e;h=ge({},h,p);break e;case 2:nn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[l]:p.push(l))}else f={eventTime:f,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=f,a=h):d=d.next=f,o|=p;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;p=l,l=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(d===null&&(a=h),i.baseState=a,i.firstBaseUpdate=c,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Kn|=o,e.lanes=o,e.memoizedState=h}}function Cd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(P(191,i));i.call(r)}}}var os={},Dt=bn(os),Qi=bn(os),Ki=bn(os);function Un(e){if(e===os)throw Error(P(174));return e}function Vu(e,t){switch(oe(Ki,t),oe(Qi,e),oe(Dt,os),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ca(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ca(t,e)}ce(Dt),oe(Dt,t)}function Mr(){ce(Dt),ce(Qi),ce(Ki)}function Hp(e){Un(Ki.current);var t=Un(Dt.current),n=ca(t,e.type);t!==n&&(oe(Qi,e),oe(Dt,n))}function qu(e){Qi.current===e&&(ce(Dt),ce(Qi))}var pe=bn(0);function wo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var bl=[];function Wu(){for(var e=0;e<bl.length;e++)bl[e]._workInProgressVersionPrimary=null;bl.length=0}var Ws=Gt.ReactCurrentDispatcher,Tl=Gt.ReactCurrentBatchConfig,Qn=0,me=null,Ce=null,Te=null,xo=!1,Ei=!1,Ji=0,d0=0;function Le(){throw Error(P(321))}function Qu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Pt(e[n],t[n]))return!1;return!0}function Ku(e,t,n,r,i,s){if(Qn=s,me=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ws.current=e===null||e.memoizedState===null?m0:g0,e=n(r,i),Ei){s=0;do{if(Ei=!1,Ji=0,25<=s)throw Error(P(301));s+=1,Te=Ce=null,t.updateQueue=null,Ws.current=y0,e=n(r,i)}while(Ei)}if(Ws.current=_o,t=Ce!==null&&Ce.next!==null,Qn=0,Te=Ce=me=null,xo=!1,t)throw Error(P(300));return e}function Ju(){var e=Ji!==0;return Ji=0,e}function Ot(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?me.memoizedState=Te=e:Te=Te.next=e,Te}function yt(){if(Ce===null){var e=me.alternate;e=e!==null?e.memoizedState:null}else e=Ce.next;var t=Te===null?me.memoizedState:Te.next;if(t!==null)Te=t,Ce=e;else{if(e===null)throw Error(P(310));Ce=e,e={memoizedState:Ce.memoizedState,baseState:Ce.baseState,baseQueue:Ce.baseQueue,queue:Ce.queue,next:null},Te===null?me.memoizedState=Te=e:Te=Te.next=e}return Te}function Gi(e,t){return typeof t=="function"?t(e):t}function Pl(e){var t=yt(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var r=Ce,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,a=null,c=s;do{var d=c.lane;if((Qn&d)===d)a!==null&&(a=a.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};a===null?(l=a=h,o=r):a=a.next=h,me.lanes|=d,Kn|=d}c=c.next}while(c!==null&&c!==s);a===null?o=r:a.next=l,Pt(r,t.memoizedState)||(We=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,me.lanes|=s,Kn|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Nl(e){var t=yt(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Pt(s,t.memoizedState)||(We=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Vp(){}function qp(e,t){var n=me,r=yt(),i=t(),s=!Pt(r.memoizedState,i);if(s&&(r.memoizedState=i,We=!0),r=r.queue,Gu(Kp.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Te!==null&&Te.memoizedState.tag&1){if(n.flags|=2048,Yi(9,Qp.bind(null,n,r,i,t),void 0,null),Pe===null)throw Error(P(349));Qn&30||Wp(n,t,i)}return i}function Wp(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=me.updateQueue,t===null?(t={lastEffect:null,stores:null},me.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Qp(e,t,n,r){t.value=n,t.getSnapshot=r,Jp(t)&&Gp(e)}function Kp(e,t,n){return n(function(){Jp(t)&&Gp(e)})}function Jp(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Pt(e,n)}catch{return!0}}function Gp(e){var t=Qt(e,1);t!==null&&Tt(t,e,1,-1)}function Ed(e){var t=Ot();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:e},t.queue=e,e=e.dispatch=p0.bind(null,me,e),[t.memoizedState,e]}function Yi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=me.updateQueue,t===null?(t={lastEffect:null,stores:null},me.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Yp(){return yt().memoizedState}function Qs(e,t,n,r){var i=Ot();me.flags|=e,i.memoizedState=Yi(1|t,n,void 0,r===void 0?null:r)}function Uo(e,t,n,r){var i=yt();r=r===void 0?null:r;var s=void 0;if(Ce!==null){var o=Ce.memoizedState;if(s=o.destroy,r!==null&&Qu(r,o.deps)){i.memoizedState=Yi(t,n,s,r);return}}me.flags|=e,i.memoizedState=Yi(1|t,n,s,r)}function bd(e,t){return Qs(8390656,8,e,t)}function Gu(e,t){return Uo(2048,8,e,t)}function Xp(e,t){return Uo(4,2,e,t)}function Zp(e,t){return Uo(4,4,e,t)}function em(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function tm(e,t,n){return n=n!=null?n.concat([e]):null,Uo(4,4,em.bind(null,t,e),n)}function Yu(){}function nm(e,t){var n=yt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Qu(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function rm(e,t){var n=yt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Qu(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function im(e,t,n){return Qn&21?(Pt(n,t)||(n=up(),me.lanes|=n,Kn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,We=!0),e.memoizedState=n)}function h0(e,t){var n=te;te=n!==0&&4>n?n:4,e(!0);var r=Tl.transition;Tl.transition={};try{e(!1),t()}finally{te=n,Tl.transition=r}}function sm(){return yt().memoizedState}function f0(e,t,n){var r=xn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},om(e))lm(t,n);else if(n=$p(e,t,n,r),n!==null){var i=ze();Tt(n,e,r,i),am(n,t,r)}}function p0(e,t,n){var r=xn(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(om(e))lm(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,Pt(l,o)){var a=t.interleaved;a===null?(i.next=i,Uu(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}n=$p(e,t,i,r),n!==null&&(i=ze(),Tt(n,e,r,i),am(n,t,r))}}function om(e){var t=e.alternate;return e===me||t!==null&&t===me}function lm(e,t){Ei=xo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function am(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Tu(e,n)}}var _o={readContext:gt,useCallback:Le,useContext:Le,useEffect:Le,useImperativeHandle:Le,useInsertionEffect:Le,useLayoutEffect:Le,useMemo:Le,useReducer:Le,useRef:Le,useState:Le,useDebugValue:Le,useDeferredValue:Le,useTransition:Le,useMutableSource:Le,useSyncExternalStore:Le,useId:Le,unstable_isNewReconciler:!1},m0={readContext:gt,useCallback:function(e,t){return Ot().memoizedState=[e,t===void 0?null:t],e},useContext:gt,useEffect:bd,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Qs(4194308,4,em.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Qs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Qs(4,2,e,t)},useMemo:function(e,t){var n=Ot();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ot();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=f0.bind(null,me,e),[r.memoizedState,e]},useRef:function(e){var t=Ot();return e={current:e},t.memoizedState=e},useState:Ed,useDebugValue:Yu,useDeferredValue:function(e){return Ot().memoizedState=e},useTransition:function(){var e=Ed(!1),t=e[0];return e=h0.bind(null,e[1]),Ot().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=me,i=Ot();if(he){if(n===void 0)throw Error(P(407));n=n()}else{if(n=t(),Pe===null)throw Error(P(349));Qn&30||Wp(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,bd(Kp.bind(null,r,s,e),[e]),r.flags|=2048,Yi(9,Qp.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Ot(),t=Pe.identifierPrefix;if(he){var n=Ht,r=Ut;n=(r&~(1<<32-bt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ji++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=d0++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},g0={readContext:gt,useCallback:nm,useContext:gt,useEffect:Gu,useImperativeHandle:tm,useInsertionEffect:Xp,useLayoutEffect:Zp,useMemo:rm,useReducer:Pl,useRef:Yp,useState:function(){return Pl(Gi)},useDebugValue:Yu,useDeferredValue:function(e){var t=yt();return im(t,Ce.memoizedState,e)},useTransition:function(){var e=Pl(Gi)[0],t=yt().memoizedState;return[e,t]},useMutableSource:Vp,useSyncExternalStore:qp,useId:sm,unstable_isNewReconciler:!1},y0={readContext:gt,useCallback:nm,useContext:gt,useEffect:Gu,useImperativeHandle:tm,useInsertionEffect:Xp,useLayoutEffect:Zp,useMemo:rm,useReducer:Nl,useRef:Yp,useState:function(){return Nl(Gi)},useDebugValue:Yu,useDeferredValue:function(e){var t=yt();return Ce===null?t.memoizedState=e:im(t,Ce.memoizedState,e)},useTransition:function(){var e=Nl(Gi)[0],t=yt().memoizedState;return[e,t]},useMutableSource:Vp,useSyncExternalStore:qp,useId:sm,unstable_isNewReconciler:!1};function St(e,t){if(e&&e.defaultProps){t=ge({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ia(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ge({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ho={isMounted:function(e){return(e=e._reactInternals)?Xn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ze(),i=xn(e),s=Vt(r,i);s.payload=t,n!=null&&(s.callback=n),t=vn(e,s,i),t!==null&&(Tt(t,e,i,r),qs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ze(),i=xn(e),s=Vt(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=vn(e,s,i),t!==null&&(Tt(t,e,i,r),qs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ze(),r=xn(e),i=Vt(n,r);i.tag=2,t!=null&&(i.callback=t),t=vn(e,i,r),t!==null&&(Tt(t,e,r,n),qs(t,e,r))}};function Td(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Hi(n,r)||!Hi(i,s):!0}function um(e,t,n){var r=!1,i=jn,s=t.contextType;return typeof s=="object"&&s!==null?s=gt(s):(i=Ke(t)?qn:Fe.current,r=t.contextTypes,s=(r=r!=null)?Rr(e,i):jn),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ho,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Pd(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ho.enqueueReplaceState(t,t.state,null)}function Oa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Hu(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=gt(s):(s=Ke(t)?qn:Fe.current,i.context=Rr(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Ia(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Ho.enqueueReplaceState(i,i.state,null),vo(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Br(e,t){try{var n="",r=t;do n+=qy(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Il(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function La(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var v0=typeof WeakMap=="function"?WeakMap:Map;function cm(e,t,n){n=Vt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){So||(So=!0,Ha=r),La(e,t)},n}function dm(e,t,n){n=Vt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){La(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){La(e,t),typeof r!="function"&&(wn===null?wn=new Set([this]):wn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Nd(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new v0;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=O0.bind(null,e,t,n),t.then(e,e))}function Id(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Od(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Vt(-1,1),t.tag=2,vn(n,t,1))),n.lanes|=1),e)}var w0=Gt.ReactCurrentOwner,We=!1;function Be(e,t,n,r){t.child=e===null?zp(t,null,n,r):Dr(t,e.child,n,r)}function Ld(e,t,n,r,i){n=n.render;var s=t.ref;return Tr(t,i),r=Ku(e,t,n,r,s,i),n=Ju(),e!==null&&!We?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Kt(e,t,i)):(he&&n&&Fu(t),t.flags|=1,Be(e,t,r,i),t.child)}function Ad(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!sc(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,hm(e,t,s,r,i)):(e=Ys(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Hi,n(o,r)&&e.ref===t.ref)return Kt(e,t,i)}return t.flags|=1,e=_n(s,r),e.ref=t.ref,e.return=t,t.child=e}function hm(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Hi(s,r)&&e.ref===t.ref)if(We=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(We=!0);else return t.lanes=e.lanes,Kt(e,t,i)}return Aa(e,t,n,r,i)}function fm(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},oe(Sr,tt),tt|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,oe(Sr,tt),tt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,oe(Sr,tt),tt|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,oe(Sr,tt),tt|=r;return Be(e,t,i,n),t.child}function pm(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Aa(e,t,n,r,i){var s=Ke(n)?qn:Fe.current;return s=Rr(t,s),Tr(t,i),n=Ku(e,t,n,r,s,i),r=Ju(),e!==null&&!We?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Kt(e,t,i)):(he&&r&&Fu(t),t.flags|=1,Be(e,t,n,i),t.child)}function Rd(e,t,n,r,i){if(Ke(n)){var s=!0;fo(t)}else s=!1;if(Tr(t,i),t.stateNode===null)Ks(e,t),um(t,n,r),Oa(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var a=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=gt(c):(c=Ke(n)?qn:Fe.current,c=Rr(t,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==c)&&Pd(t,o,r,c),nn=!1;var p=t.memoizedState;o.state=p,vo(t,r,o,i),a=t.memoizedState,l!==r||p!==a||Qe.current||nn?(typeof d=="function"&&(Ia(t,n,d,r),a=t.memoizedState),(l=nn||Td(t,n,l,r,p,a,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),o.props=r,o.state=a,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Up(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:St(t.type,l),o.props=c,h=t.pendingProps,p=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=gt(a):(a=Ke(n)?qn:Fe.current,a=Rr(t,a));var f=n.getDerivedStateFromProps;(d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||p!==a)&&Pd(t,o,r,a),nn=!1,p=t.memoizedState,o.state=p,vo(t,r,o,i);var y=t.memoizedState;l!==h||p!==y||Qe.current||nn?(typeof f=="function"&&(Ia(t,n,f,r),y=t.memoizedState),(c=nn||Td(t,n,c,r,p,y,a)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),o.props=r,o.state=y,o.context=a,r=c):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Ra(e,t,n,r,s,i)}function Ra(e,t,n,r,i,s){pm(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&xd(t,n,!1),Kt(e,t,s);r=t.stateNode,w0.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Dr(t,e.child,null,s),t.child=Dr(t,null,l,s)):Be(e,t,l,s),t.memoizedState=r.state,i&&xd(t,n,!0),t.child}function mm(e){var t=e.stateNode;t.pendingContext?wd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&wd(e,t.context,!1),Vu(e,t.containerInfo)}function Fd(e,t,n,r,i){return Fr(),Mu(i),t.flags|=256,Be(e,t,n,r),t.child}var Fa={dehydrated:null,treeContext:null,retryLane:0};function Da(e){return{baseLanes:e,cachePool:null,transitions:null}}function gm(e,t,n){var r=t.pendingProps,i=pe.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),oe(pe,i&1),e===null)return Pa(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Wo(o,r,0,null),e=Vn(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Da(n),t.memoizedState=Fa,e):Xu(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return x0(e,t,o,r,l,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=_n(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=_n(l,s):(s=Vn(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?Da(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=Fa,r}return s=e.child,e=s.sibling,r=_n(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Xu(e,t){return t=Wo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ps(e,t,n,r){return r!==null&&Mu(r),Dr(t,e.child,null,n),e=Xu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function x0(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=Il(Error(P(422))),Ps(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Wo({mode:"visible",children:r.children},i,0,null),s=Vn(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Dr(t,e.child,null,o),t.child.memoizedState=Da(o),t.memoizedState=Fa,s);if(!(t.mode&1))return Ps(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(P(419)),r=Il(s,r,void 0),Ps(e,t,o,r)}if(l=(o&e.childLanes)!==0,We||l){if(r=Pe,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Qt(e,i),Tt(r,e,i,-1))}return ic(),r=Il(Error(P(421))),Ps(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=L0.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,rt=yn(i.nextSibling),st=t,he=!0,Et=null,e!==null&&(ct[dt++]=Ut,ct[dt++]=Ht,ct[dt++]=Wn,Ut=e.id,Ht=e.overflow,Wn=t),t=Xu(t,r.children),t.flags|=4096,t)}function Dd(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Na(e.return,t,n)}function Ol(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function ym(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Be(e,t,r.children,n),r=pe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Dd(e,n,t);else if(e.tag===19)Dd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(oe(pe,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&wo(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ol(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&wo(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ol(t,!0,n,null,s);break;case"together":Ol(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ks(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Kt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Kn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(P(153));if(t.child!==null){for(e=t.child,n=_n(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=_n(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function _0(e,t,n){switch(t.tag){case 3:mm(t),Fr();break;case 5:Hp(t);break;case 1:Ke(t.type)&&fo(t);break;case 4:Vu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;oe(go,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(oe(pe,pe.current&1),t.flags|=128,null):n&t.child.childLanes?gm(e,t,n):(oe(pe,pe.current&1),e=Kt(e,t,n),e!==null?e.sibling:null);oe(pe,pe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return ym(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),oe(pe,pe.current),r)break;return null;case 22:case 23:return t.lanes=0,fm(e,t,n)}return Kt(e,t,n)}var vm,Ma,wm,xm;vm=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ma=function(){};wm=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Un(Dt.current);var s=null;switch(n){case"input":i=oa(e,i),r=oa(e,r),s=[];break;case"select":i=ge({},i,{value:void 0}),r=ge({},r,{value:void 0}),s=[];break;case"textarea":i=ua(e,i),r=ua(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=co)}da(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var l=i[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Fi.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var a=r[c];if(l=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&a!==l&&(a!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(c,n)),n=a;else c==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(c,a)):c==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(c,""+a):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Fi.hasOwnProperty(c)?(a!=null&&c==="onScroll"&&ue("scroll",e),s||l===a||(s=[])):(s=s||[]).push(c,a))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};xm=function(e,t,n,r){n!==r&&(t.flags|=4)};function oi(e,t){if(!he)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ae(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function k0(e,t,n){var r=t.pendingProps;switch(Du(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ae(t),null;case 1:return Ke(t.type)&&ho(),Ae(t),null;case 3:return r=t.stateNode,Mr(),ce(Qe),ce(Fe),Wu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(bs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Et!==null&&(Wa(Et),Et=null))),Ma(e,t),Ae(t),null;case 5:qu(t);var i=Un(Ki.current);if(n=t.type,e!==null&&t.stateNode!=null)wm(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(P(166));return Ae(t),null}if(e=Un(Dt.current),bs(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[At]=t,r[Wi]=s,e=(t.mode&1)!==0,n){case"dialog":ue("cancel",r),ue("close",r);break;case"iframe":case"object":case"embed":ue("load",r);break;case"video":case"audio":for(i=0;i<wi.length;i++)ue(wi[i],r);break;case"source":ue("error",r);break;case"img":case"image":case"link":ue("error",r),ue("load",r);break;case"details":ue("toggle",r);break;case"input":Wc(r,s),ue("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ue("invalid",r);break;case"textarea":Kc(r,s),ue("invalid",r)}da(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Es(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Es(r.textContent,l,e),i=["children",""+l]):Fi.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ue("scroll",r)}switch(n){case"input":vs(r),Qc(r,s,!0);break;case"textarea":vs(r),Jc(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=co)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Kf(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[At]=t,e[Wi]=r,vm(e,t,!1,!1),t.stateNode=e;e:{switch(o=ha(n,r),n){case"dialog":ue("cancel",e),ue("close",e),i=r;break;case"iframe":case"object":case"embed":ue("load",e),i=r;break;case"video":case"audio":for(i=0;i<wi.length;i++)ue(wi[i],e);i=r;break;case"source":ue("error",e),i=r;break;case"img":case"image":case"link":ue("error",e),ue("load",e),i=r;break;case"details":ue("toggle",e),i=r;break;case"input":Wc(e,r),i=oa(e,r),ue("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ge({},r,{value:void 0}),ue("invalid",e);break;case"textarea":Kc(e,r),i=ua(e,r),ue("invalid",e);break;default:i=r}da(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?Yf(e,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Jf(e,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Di(e,a):typeof a=="number"&&Di(e,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Fi.hasOwnProperty(s)?a!=null&&s==="onScroll"&&ue("scroll",e):a!=null&&ku(e,s,a,o))}switch(n){case"input":vs(e),Qc(e,r,!1);break;case"textarea":vs(e),Jc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Sn(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?jr(e,!!r.multiple,s,!1):r.defaultValue!=null&&jr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=co)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ae(t),null;case 6:if(e&&t.stateNode!=null)xm(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(P(166));if(n=Un(Ki.current),Un(Dt.current),bs(t)){if(r=t.stateNode,n=t.memoizedProps,r[At]=t,(s=r.nodeValue!==n)&&(e=st,e!==null))switch(e.tag){case 3:Es(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Es(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[At]=t,t.stateNode=r}return Ae(t),null;case 13:if(ce(pe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(he&&rt!==null&&t.mode&1&&!(t.flags&128))Mp(),Fr(),t.flags|=98560,s=!1;else if(s=bs(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(P(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(P(317));s[At]=t}else Fr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ae(t),s=!1}else Et!==null&&(Wa(Et),Et=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||pe.current&1?Ee===0&&(Ee=3):ic())),t.updateQueue!==null&&(t.flags|=4),Ae(t),null);case 4:return Mr(),Ma(e,t),e===null&&Vi(t.stateNode.containerInfo),Ae(t),null;case 10:return $u(t.type._context),Ae(t),null;case 17:return Ke(t.type)&&ho(),Ae(t),null;case 19:if(ce(pe),s=t.memoizedState,s===null)return Ae(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)oi(s,!1);else{if(Ee!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=wo(e),o!==null){for(t.flags|=128,oi(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return oe(pe,pe.current&1|2),t.child}e=e.sibling}s.tail!==null&&xe()>zr&&(t.flags|=128,r=!0,oi(s,!1),t.lanes=4194304)}else{if(!r)if(e=wo(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),oi(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!he)return Ae(t),null}else 2*xe()-s.renderingStartTime>zr&&n!==1073741824&&(t.flags|=128,r=!0,oi(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=xe(),t.sibling=null,n=pe.current,oe(pe,r?n&1|2:n&1),t):(Ae(t),null);case 22:case 23:return rc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?tt&1073741824&&(Ae(t),t.subtreeFlags&6&&(t.flags|=8192)):Ae(t),null;case 24:return null;case 25:return null}throw Error(P(156,t.tag))}function S0(e,t){switch(Du(t),t.tag){case 1:return Ke(t.type)&&ho(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Mr(),ce(Qe),ce(Fe),Wu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return qu(t),null;case 13:if(ce(pe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(P(340));Fr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ce(pe),null;case 4:return Mr(),null;case 10:return $u(t.type._context),null;case 22:case 23:return rc(),null;case 24:return null;default:return null}}var Ns=!1,Re=!1,j0=typeof WeakSet=="function"?WeakSet:Set,F=null;function kr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ye(e,t,r)}else n.current=null}function Ba(e,t,n){try{n()}catch(r){ye(e,t,r)}}var Md=!1;function C0(e,t){if(ka=lo,e=Cp(),Ru(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,c=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||i!==0&&h.nodeType!==3||(l=o+i),h!==s||r!==0&&h.nodeType!==3||(a=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++c===i&&(l=o),p===s&&++d===r&&(a=o),(f=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=f}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Sa={focusedElem:e,selectionRange:n},lo=!1,F=t;F!==null;)if(t=F,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,F=e;else for(;F!==null;){t=F;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,x=y.memoizedState,m=t.stateNode,g=m.getSnapshotBeforeUpdate(t.elementType===t.type?w:St(t.type,w),x);m.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(S){ye(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,F=e;break}F=t.return}return y=Md,Md=!1,y}function bi(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Ba(t,n,s)}i=i.next}while(i!==r)}}function Vo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function za(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function _m(e){var t=e.alternate;t!==null&&(e.alternate=null,_m(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[At],delete t[Wi],delete t[Ea],delete t[l0],delete t[a0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function km(e){return e.tag===5||e.tag===3||e.tag===4}function Bd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||km(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $a(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=co));else if(r!==4&&(e=e.child,e!==null))for($a(e,t,n),e=e.sibling;e!==null;)$a(e,t,n),e=e.sibling}function Ua(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ua(e,t,n),e=e.sibling;e!==null;)Ua(e,t,n),e=e.sibling}var Ne=null,jt=!1;function Xt(e,t,n){for(n=n.child;n!==null;)Sm(e,t,n),n=n.sibling}function Sm(e,t,n){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(Fo,n)}catch{}switch(n.tag){case 5:Re||kr(n,t);case 6:var r=Ne,i=jt;Ne=null,Xt(e,t,n),Ne=r,jt=i,Ne!==null&&(jt?(e=Ne,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ne.removeChild(n.stateNode));break;case 18:Ne!==null&&(jt?(e=Ne,n=n.stateNode,e.nodeType===8?Cl(e.parentNode,n):e.nodeType===1&&Cl(e,n),$i(e)):Cl(Ne,n.stateNode));break;case 4:r=Ne,i=jt,Ne=n.stateNode.containerInfo,jt=!0,Xt(e,t,n),Ne=r,jt=i;break;case 0:case 11:case 14:case 15:if(!Re&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Ba(n,t,o),i=i.next}while(i!==r)}Xt(e,t,n);break;case 1:if(!Re&&(kr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ye(n,t,l)}Xt(e,t,n);break;case 21:Xt(e,t,n);break;case 22:n.mode&1?(Re=(r=Re)||n.memoizedState!==null,Xt(e,t,n),Re=r):Xt(e,t,n);break;default:Xt(e,t,n)}}function zd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new j0),t.forEach(function(r){var i=A0.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function _t(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ne=l.stateNode,jt=!1;break e;case 3:Ne=l.stateNode.containerInfo,jt=!0;break e;case 4:Ne=l.stateNode.containerInfo,jt=!0;break e}l=l.return}if(Ne===null)throw Error(P(160));Sm(s,o,i),Ne=null,jt=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(c){ye(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)jm(t,e),t=t.sibling}function jm(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(_t(t,e),It(e),r&4){try{bi(3,e,e.return),Vo(3,e)}catch(w){ye(e,e.return,w)}try{bi(5,e,e.return)}catch(w){ye(e,e.return,w)}}break;case 1:_t(t,e),It(e),r&512&&n!==null&&kr(n,n.return);break;case 5:if(_t(t,e),It(e),r&512&&n!==null&&kr(n,n.return),e.flags&32){var i=e.stateNode;try{Di(i,"")}catch(w){ye(e,e.return,w)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Wf(i,s),ha(l,o);var c=ha(l,s);for(o=0;o<a.length;o+=2){var d=a[o],h=a[o+1];d==="style"?Yf(i,h):d==="dangerouslySetInnerHTML"?Jf(i,h):d==="children"?Di(i,h):ku(i,d,h,c)}switch(l){case"input":la(i,s);break;case"textarea":Qf(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?jr(i,!!s.multiple,f,!1):p!==!!s.multiple&&(s.defaultValue!=null?jr(i,!!s.multiple,s.defaultValue,!0):jr(i,!!s.multiple,s.multiple?[]:"",!1))}i[Wi]=s}catch(w){ye(e,e.return,w)}}break;case 6:if(_t(t,e),It(e),r&4){if(e.stateNode===null)throw Error(P(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(w){ye(e,e.return,w)}}break;case 3:if(_t(t,e),It(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{$i(t.containerInfo)}catch(w){ye(e,e.return,w)}break;case 4:_t(t,e),It(e);break;case 13:_t(t,e),It(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(tc=xe())),r&4&&zd(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Re=(c=Re)||d,_t(t,e),Re=c):_t(t,e),It(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(F=e,d=e.child;d!==null;){for(h=F=d;F!==null;){switch(p=F,f=p.child,p.tag){case 0:case 11:case 14:case 15:bi(4,p,p.return);break;case 1:kr(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(w){ye(r,n,w)}}break;case 5:kr(p,p.return);break;case 22:if(p.memoizedState!==null){Ud(h);continue}}f!==null?(f.return=p,F=f):Ud(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=h.stateNode,a=h.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Gf("display",o))}catch(w){ye(e,e.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(w){ye(e,e.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:_t(t,e),It(e),r&4&&zd(e);break;case 21:break;default:_t(t,e),It(e)}}function It(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(km(n)){var r=n;break e}n=n.return}throw Error(P(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Di(i,""),r.flags&=-33);var s=Bd(e);Ua(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Bd(e);$a(e,l,o);break;default:throw Error(P(161))}}catch(a){ye(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function E0(e,t,n){F=e,Cm(e)}function Cm(e,t,n){for(var r=(e.mode&1)!==0;F!==null;){var i=F,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ns;if(!o){var l=i.alternate,a=l!==null&&l.memoizedState!==null||Re;l=Ns;var c=Re;if(Ns=o,(Re=a)&&!c)for(F=i;F!==null;)o=F,a=o.child,o.tag===22&&o.memoizedState!==null?Hd(i):a!==null?(a.return=o,F=a):Hd(i);for(;s!==null;)F=s,Cm(s),s=s.sibling;F=i,Ns=l,Re=c}$d(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,F=s):$d(e)}}function $d(e){for(;F!==null;){var t=F;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Re||Vo(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Re)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:St(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Cd(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Cd(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&$i(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}Re||t.flags&512&&za(t)}catch(p){ye(t,t.return,p)}}if(t===e){F=null;break}if(n=t.sibling,n!==null){n.return=t.return,F=n;break}F=t.return}}function Ud(e){for(;F!==null;){var t=F;if(t===e){F=null;break}var n=t.sibling;if(n!==null){n.return=t.return,F=n;break}F=t.return}}function Hd(e){for(;F!==null;){var t=F;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Vo(4,t)}catch(a){ye(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(a){ye(t,i,a)}}var s=t.return;try{za(t)}catch(a){ye(t,s,a)}break;case 5:var o=t.return;try{za(t)}catch(a){ye(t,o,a)}}}catch(a){ye(t,t.return,a)}if(t===e){F=null;break}var l=t.sibling;if(l!==null){l.return=t.return,F=l;break}F=t.return}}var b0=Math.ceil,ko=Gt.ReactCurrentDispatcher,Zu=Gt.ReactCurrentOwner,mt=Gt.ReactCurrentBatchConfig,Y=0,Pe=null,Se=null,Ie=0,tt=0,Sr=bn(0),Ee=0,Xi=null,Kn=0,qo=0,ec=0,Ti=null,qe=null,tc=0,zr=1/0,zt=null,So=!1,Ha=null,wn=null,Is=!1,hn=null,jo=0,Pi=0,Va=null,Js=-1,Gs=0;function ze(){return Y&6?xe():Js!==-1?Js:Js=xe()}function xn(e){return e.mode&1?Y&2&&Ie!==0?Ie&-Ie:c0.transition!==null?(Gs===0&&(Gs=up()),Gs):(e=te,e!==0||(e=window.event,e=e===void 0?16:gp(e.type)),e):1}function Tt(e,t,n,r){if(50<Pi)throw Pi=0,Va=null,Error(P(185));rs(e,n,r),(!(Y&2)||e!==Pe)&&(e===Pe&&(!(Y&2)&&(qo|=n),Ee===4&&ln(e,Ie)),Je(e,r),n===1&&Y===0&&!(t.mode&1)&&(zr=xe()+500,$o&&Tn()))}function Je(e,t){var n=e.callbackNode;cv(e,t);var r=oo(e,e===Pe?Ie:0);if(r===0)n!==null&&Xc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Xc(n),t===1)e.tag===0?u0(Vd.bind(null,e)):Rp(Vd.bind(null,e)),s0(function(){!(Y&6)&&Tn()}),n=null;else{switch(cp(r)){case 1:n=bu;break;case 4:n=lp;break;case 16:n=so;break;case 536870912:n=ap;break;default:n=so}n=Lm(n,Em.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Em(e,t){if(Js=-1,Gs=0,Y&6)throw Error(P(327));var n=e.callbackNode;if(Pr()&&e.callbackNode!==n)return null;var r=oo(e,e===Pe?Ie:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Co(e,r);else{t=r;var i=Y;Y|=2;var s=Tm();(Pe!==e||Ie!==t)&&(zt=null,zr=xe()+500,Hn(e,t));do try{N0();break}catch(l){bm(e,l)}while(!0);zu(),ko.current=s,Y=i,Se!==null?t=0:(Pe=null,Ie=0,t=Ee)}if(t!==0){if(t===2&&(i=ya(e),i!==0&&(r=i,t=qa(e,i))),t===1)throw n=Xi,Hn(e,0),ln(e,r),Je(e,xe()),n;if(t===6)ln(e,r);else{if(i=e.current.alternate,!(r&30)&&!T0(i)&&(t=Co(e,r),t===2&&(s=ya(e),s!==0&&(r=s,t=qa(e,s))),t===1))throw n=Xi,Hn(e,0),ln(e,r),Je(e,xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(P(345));case 2:Fn(e,qe,zt);break;case 3:if(ln(e,r),(r&130023424)===r&&(t=tc+500-xe(),10<t)){if(oo(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){ze(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Ca(Fn.bind(null,e,qe,zt),t);break}Fn(e,qe,zt);break;case 4:if(ln(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-bt(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=xe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*b0(r/1960))-r,10<r){e.timeoutHandle=Ca(Fn.bind(null,e,qe,zt),r);break}Fn(e,qe,zt);break;case 5:Fn(e,qe,zt);break;default:throw Error(P(329))}}}return Je(e,xe()),e.callbackNode===n?Em.bind(null,e):null}function qa(e,t){var n=Ti;return e.current.memoizedState.isDehydrated&&(Hn(e,t).flags|=256),e=Co(e,t),e!==2&&(t=qe,qe=n,t!==null&&Wa(t)),e}function Wa(e){qe===null?qe=e:qe.push.apply(qe,e)}function T0(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Pt(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ln(e,t){for(t&=~ec,t&=~qo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-bt(t),r=1<<n;e[n]=-1,t&=~r}}function Vd(e){if(Y&6)throw Error(P(327));Pr();var t=oo(e,0);if(!(t&1))return Je(e,xe()),null;var n=Co(e,t);if(e.tag!==0&&n===2){var r=ya(e);r!==0&&(t=r,n=qa(e,r))}if(n===1)throw n=Xi,Hn(e,0),ln(e,t),Je(e,xe()),n;if(n===6)throw Error(P(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Fn(e,qe,zt),Je(e,xe()),null}function nc(e,t){var n=Y;Y|=1;try{return e(t)}finally{Y=n,Y===0&&(zr=xe()+500,$o&&Tn())}}function Jn(e){hn!==null&&hn.tag===0&&!(Y&6)&&Pr();var t=Y;Y|=1;var n=mt.transition,r=te;try{if(mt.transition=null,te=1,e)return e()}finally{te=r,mt.transition=n,Y=t,!(Y&6)&&Tn()}}function rc(){tt=Sr.current,ce(Sr)}function Hn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,i0(n)),Se!==null)for(n=Se.return;n!==null;){var r=n;switch(Du(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ho();break;case 3:Mr(),ce(Qe),ce(Fe),Wu();break;case 5:qu(r);break;case 4:Mr();break;case 13:ce(pe);break;case 19:ce(pe);break;case 10:$u(r.type._context);break;case 22:case 23:rc()}n=n.return}if(Pe=e,Se=e=_n(e.current,null),Ie=tt=t,Ee=0,Xi=null,ec=qo=Kn=0,qe=Ti=null,$n!==null){for(t=0;t<$n.length;t++)if(n=$n[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}$n=null}return e}function bm(e,t){do{var n=Se;try{if(zu(),Ws.current=_o,xo){for(var r=me.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}xo=!1}if(Qn=0,Te=Ce=me=null,Ei=!1,Ji=0,Zu.current=null,n===null||n.return===null){Ee=1,Xi=t,Se=null;break}e:{var s=e,o=n.return,l=n,a=t;if(t=Ie,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var c=a,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=Id(o);if(f!==null){f.flags&=-257,Od(f,o,l,s,t),f.mode&1&&Nd(s,c,t),t=f,a=c;var y=t.updateQueue;if(y===null){var w=new Set;w.add(a),t.updateQueue=w}else y.add(a);break e}else{if(!(t&1)){Nd(s,c,t),ic();break e}a=Error(P(426))}}else if(he&&l.mode&1){var x=Id(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Od(x,o,l,s,t),Mu(Br(a,l));break e}}s=a=Br(a,l),Ee!==4&&(Ee=2),Ti===null?Ti=[s]:Ti.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var m=cm(s,a,t);jd(s,m);break e;case 1:l=a;var g=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(wn===null||!wn.has(v)))){s.flags|=65536,t&=-t,s.lanes|=t;var S=dm(s,l,t);jd(s,S);break e}}s=s.return}while(s!==null)}Nm(n)}catch(E){t=E,Se===n&&n!==null&&(Se=n=n.return);continue}break}while(!0)}function Tm(){var e=ko.current;return ko.current=_o,e===null?_o:e}function ic(){(Ee===0||Ee===3||Ee===2)&&(Ee=4),Pe===null||!(Kn&268435455)&&!(qo&268435455)||ln(Pe,Ie)}function Co(e,t){var n=Y;Y|=2;var r=Tm();(Pe!==e||Ie!==t)&&(zt=null,Hn(e,t));do try{P0();break}catch(i){bm(e,i)}while(!0);if(zu(),Y=n,ko.current=r,Se!==null)throw Error(P(261));return Pe=null,Ie=0,Ee}function P0(){for(;Se!==null;)Pm(Se)}function N0(){for(;Se!==null&&!tv();)Pm(Se)}function Pm(e){var t=Om(e.alternate,e,tt);e.memoizedProps=e.pendingProps,t===null?Nm(e):Se=t,Zu.current=null}function Nm(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=S0(n,t),n!==null){n.flags&=32767,Se=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ee=6,Se=null;return}}else if(n=k0(n,t,tt),n!==null){Se=n;return}if(t=t.sibling,t!==null){Se=t;return}Se=t=e}while(t!==null);Ee===0&&(Ee=5)}function Fn(e,t,n){var r=te,i=mt.transition;try{mt.transition=null,te=1,I0(e,t,n,r)}finally{mt.transition=i,te=r}return null}function I0(e,t,n,r){do Pr();while(hn!==null);if(Y&6)throw Error(P(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(P(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(dv(e,s),e===Pe&&(Se=Pe=null,Ie=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Is||(Is=!0,Lm(so,function(){return Pr(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=mt.transition,mt.transition=null;var o=te;te=1;var l=Y;Y|=4,Zu.current=null,C0(e,n),jm(n,e),Yv(Sa),lo=!!ka,Sa=ka=null,e.current=n,E0(n),nv(),Y=l,te=o,mt.transition=s}else e.current=n;if(Is&&(Is=!1,hn=e,jo=i),s=e.pendingLanes,s===0&&(wn=null),sv(n.stateNode),Je(e,xe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(So)throw So=!1,e=Ha,Ha=null,e;return jo&1&&e.tag!==0&&Pr(),s=e.pendingLanes,s&1?e===Va?Pi++:(Pi=0,Va=e):Pi=0,Tn(),null}function Pr(){if(hn!==null){var e=cp(jo),t=mt.transition,n=te;try{if(mt.transition=null,te=16>e?16:e,hn===null)var r=!1;else{if(e=hn,hn=null,jo=0,Y&6)throw Error(P(331));var i=Y;for(Y|=4,F=e.current;F!==null;){var s=F,o=s.child;if(F.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var c=l[a];for(F=c;F!==null;){var d=F;switch(d.tag){case 0:case 11:case 15:bi(8,d,s)}var h=d.child;if(h!==null)h.return=d,F=h;else for(;F!==null;){d=F;var p=d.sibling,f=d.return;if(_m(d),d===c){F=null;break}if(p!==null){p.return=f,F=p;break}F=f}}}var y=s.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var x=w.sibling;w.sibling=null,w=x}while(w!==null)}}F=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,F=o;else e:for(;F!==null;){if(s=F,s.flags&2048)switch(s.tag){case 0:case 11:case 15:bi(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,F=m;break e}F=s.return}}var g=e.current;for(F=g;F!==null;){o=F;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,F=v;else e:for(o=g;F!==null;){if(l=F,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Vo(9,l)}}catch(E){ye(l,l.return,E)}if(l===o){F=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,F=S;break e}F=l.return}}if(Y=i,Tn(),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(Fo,e)}catch{}r=!0}return r}finally{te=n,mt.transition=t}}return!1}function qd(e,t,n){t=Br(n,t),t=cm(e,t,1),e=vn(e,t,1),t=ze(),e!==null&&(rs(e,1,t),Je(e,t))}function ye(e,t,n){if(e.tag===3)qd(e,e,n);else for(;t!==null;){if(t.tag===3){qd(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(wn===null||!wn.has(r))){e=Br(n,e),e=dm(t,e,1),t=vn(t,e,1),e=ze(),t!==null&&(rs(t,1,e),Je(t,e));break}}t=t.return}}function O0(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ze(),e.pingedLanes|=e.suspendedLanes&n,Pe===e&&(Ie&n)===n&&(Ee===4||Ee===3&&(Ie&130023424)===Ie&&500>xe()-tc?Hn(e,0):ec|=n),Je(e,t)}function Im(e,t){t===0&&(e.mode&1?(t=_s,_s<<=1,!(_s&130023424)&&(_s=4194304)):t=1);var n=ze();e=Qt(e,t),e!==null&&(rs(e,t,n),Je(e,n))}function L0(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Im(e,n)}function A0(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(P(314))}r!==null&&r.delete(t),Im(e,n)}var Om;Om=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Qe.current)We=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return We=!1,_0(e,t,n);We=!!(e.flags&131072)}else We=!1,he&&t.flags&1048576&&Fp(t,mo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ks(e,t),e=t.pendingProps;var i=Rr(t,Fe.current);Tr(t,n),i=Ku(null,t,r,e,i,n);var s=Ju();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ke(r)?(s=!0,fo(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Hu(t),i.updater=Ho,t.stateNode=i,i._reactInternals=t,Oa(t,r,e,n),t=Ra(null,t,r,!0,s,n)):(t.tag=0,he&&s&&Fu(t),Be(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ks(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=F0(r),e=St(r,e),i){case 0:t=Aa(null,t,r,e,n);break e;case 1:t=Rd(null,t,r,e,n);break e;case 11:t=Ld(null,t,r,e,n);break e;case 14:t=Ad(null,t,r,St(r.type,e),n);break e}throw Error(P(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:St(r,i),Aa(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:St(r,i),Rd(e,t,r,i,n);case 3:e:{if(mm(t),e===null)throw Error(P(387));r=t.pendingProps,s=t.memoizedState,i=s.element,Up(e,t),vo(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Br(Error(P(423)),t),t=Fd(e,t,r,n,i);break e}else if(r!==i){i=Br(Error(P(424)),t),t=Fd(e,t,r,n,i);break e}else for(rt=yn(t.stateNode.containerInfo.firstChild),st=t,he=!0,Et=null,n=zp(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Fr(),r===i){t=Kt(e,t,n);break e}Be(e,t,r,n)}t=t.child}return t;case 5:return Hp(t),e===null&&Pa(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,ja(r,i)?o=null:s!==null&&ja(r,s)&&(t.flags|=32),pm(e,t),Be(e,t,o,n),t.child;case 6:return e===null&&Pa(t),null;case 13:return gm(e,t,n);case 4:return Vu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Dr(t,null,r,n):Be(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:St(r,i),Ld(e,t,r,i,n);case 7:return Be(e,t,t.pendingProps,n),t.child;case 8:return Be(e,t,t.pendingProps.children,n),t.child;case 12:return Be(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,oe(go,r._currentValue),r._currentValue=o,s!==null)if(Pt(s.value,o)){if(s.children===i.children&&!Qe.current){t=Kt(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=Vt(-1,n&-n),a.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?a.next=a:(a.next=d.next,d.next=a),c.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Na(s.return,n,t),l.lanes|=n;break}a=a.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(P(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Na(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Be(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Tr(t,n),i=gt(i),r=r(i),t.flags|=1,Be(e,t,r,n),t.child;case 14:return r=t.type,i=St(r,t.pendingProps),i=St(r.type,i),Ad(e,t,r,i,n);case 15:return hm(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:St(r,i),Ks(e,t),t.tag=1,Ke(r)?(e=!0,fo(t)):e=!1,Tr(t,n),um(t,r,i),Oa(t,r,i,n),Ra(null,t,r,!0,e,n);case 19:return ym(e,t,n);case 22:return fm(e,t,n)}throw Error(P(156,t.tag))};function Lm(e,t){return op(e,t)}function R0(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pt(e,t,n,r){return new R0(e,t,n,r)}function sc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function F0(e){if(typeof e=="function")return sc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ju)return 11;if(e===Cu)return 14}return 2}function _n(e,t){var n=e.alternate;return n===null?(n=pt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ys(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")sc(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case fr:return Vn(n.children,i,s,t);case Su:o=8,i|=8;break;case na:return e=pt(12,n,t,i|2),e.elementType=na,e.lanes=s,e;case ra:return e=pt(13,n,t,i),e.elementType=ra,e.lanes=s,e;case ia:return e=pt(19,n,t,i),e.elementType=ia,e.lanes=s,e;case Hf:return Wo(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $f:o=10;break e;case Uf:o=9;break e;case ju:o=11;break e;case Cu:o=14;break e;case tn:o=16,r=null;break e}throw Error(P(130,e==null?e:typeof e,""))}return t=pt(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Vn(e,t,n,r){return e=pt(7,e,r,t),e.lanes=n,e}function Wo(e,t,n,r){return e=pt(22,e,r,t),e.elementType=Hf,e.lanes=n,e.stateNode={isHidden:!1},e}function Ll(e,t,n){return e=pt(6,e,null,t),e.lanes=n,e}function Al(e,t,n){return t=pt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function D0(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pl(0),this.expirationTimes=pl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pl(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function oc(e,t,n,r,i,s,o,l,a){return e=new D0(e,t,n,l,a),t===1?(t=1,s===!0&&(t|=8)):t=0,s=pt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hu(s),e}function M0(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:hr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Am(e){if(!e)return jn;e=e._reactInternals;e:{if(Xn(e)!==e||e.tag!==1)throw Error(P(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ke(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(P(171))}if(e.tag===1){var n=e.type;if(Ke(n))return Ap(e,n,t)}return t}function Rm(e,t,n,r,i,s,o,l,a){return e=oc(n,r,!0,e,i,s,o,l,a),e.context=Am(null),n=e.current,r=ze(),i=xn(n),s=Vt(r,i),s.callback=t??null,vn(n,s,i),e.current.lanes=i,rs(e,i,r),Je(e,r),e}function Qo(e,t,n,r){var i=t.current,s=ze(),o=xn(i);return n=Am(n),t.context===null?t.context=n:t.pendingContext=n,t=Vt(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=vn(i,t,o),e!==null&&(Tt(e,i,o,s),qs(e,i,o)),o}function Eo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Wd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function lc(e,t){Wd(e,t),(e=e.alternate)&&Wd(e,t)}function B0(){return null}var Fm=typeof reportError=="function"?reportError:function(e){console.error(e)};function ac(e){this._internalRoot=e}Ko.prototype.render=ac.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(P(409));Qo(e,t,null,null)};Ko.prototype.unmount=ac.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Jn(function(){Qo(null,e,null,null)}),t[Wt]=null}};function Ko(e){this._internalRoot=e}Ko.prototype.unstable_scheduleHydration=function(e){if(e){var t=fp();e={blockedOn:null,target:e,priority:t};for(var n=0;n<on.length&&t!==0&&t<on[n].priority;n++);on.splice(n,0,e),n===0&&mp(e)}};function uc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Jo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Qd(){}function z0(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Eo(o);s.call(c)}}var o=Rm(t,r,e,0,null,!1,!1,"",Qd);return e._reactRootContainer=o,e[Wt]=o.current,Vi(e.nodeType===8?e.parentNode:e),Jn(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var c=Eo(a);l.call(c)}}var a=oc(e,0,!1,null,null,!1,!1,"",Qd);return e._reactRootContainer=a,e[Wt]=a.current,Vi(e.nodeType===8?e.parentNode:e),Jn(function(){Qo(t,a,n,r)}),a}function Go(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var a=Eo(o);l.call(a)}}Qo(t,o,e,i)}else o=z0(n,t,e,i,r);return Eo(o)}dp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=vi(t.pendingLanes);n!==0&&(Tu(t,n|1),Je(t,xe()),!(Y&6)&&(zr=xe()+500,Tn()))}break;case 13:Jn(function(){var r=Qt(e,1);if(r!==null){var i=ze();Tt(r,e,1,i)}}),lc(e,1)}};Pu=function(e){if(e.tag===13){var t=Qt(e,134217728);if(t!==null){var n=ze();Tt(t,e,134217728,n)}lc(e,134217728)}};hp=function(e){if(e.tag===13){var t=xn(e),n=Qt(e,t);if(n!==null){var r=ze();Tt(n,e,t,r)}lc(e,t)}};fp=function(){return te};pp=function(e,t){var n=te;try{return te=e,t()}finally{te=n}};pa=function(e,t,n){switch(t){case"input":if(la(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=zo(r);if(!i)throw Error(P(90));qf(r),la(r,i)}}}break;case"textarea":Qf(e,n);break;case"select":t=n.value,t!=null&&jr(e,!!n.multiple,t,!1)}};ep=nc;tp=Jn;var $0={usingClientEntryPoint:!1,Events:[ss,yr,zo,Xf,Zf,nc]},li={findFiberByHostInstance:zn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},U0={bundleType:li.bundleType,version:li.version,rendererPackageName:li.rendererPackageName,rendererConfig:li.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ip(e),e===null?null:e.stateNode},findFiberByHostInstance:li.findFiberByHostInstance||B0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Os=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Os.isDisabled&&Os.supportsFiber)try{Fo=Os.inject(U0),Ft=Os}catch{}}lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$0;lt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!uc(t))throw Error(P(200));return M0(e,t,null,n)};lt.createRoot=function(e,t){if(!uc(e))throw Error(P(299));var n=!1,r="",i=Fm;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=oc(e,1,!1,null,null,n,!1,r,i),e[Wt]=t.current,Vi(e.nodeType===8?e.parentNode:e),new ac(t)};lt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(P(188)):(e=Object.keys(e).join(","),Error(P(268,e)));return e=ip(t),e=e===null?null:e.stateNode,e};lt.flushSync=function(e){return Jn(e)};lt.hydrate=function(e,t,n){if(!Jo(t))throw Error(P(200));return Go(null,e,t,!0,n)};lt.hydrateRoot=function(e,t,n){if(!uc(e))throw Error(P(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Fm;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Rm(t,null,e,1,n??null,i,!1,s,o),e[Wt]=t.current,Vi(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Ko(t)};lt.render=function(e,t,n){if(!Jo(t))throw Error(P(200));return Go(null,e,t,!1,n)};lt.unmountComponentAtNode=function(e){if(!Jo(e))throw Error(P(40));return e._reactRootContainer?(Jn(function(){Go(null,null,e,!1,function(){e._reactRootContainer=null,e[Wt]=null})}),!0):!1};lt.unstable_batchedUpdates=nc;lt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jo(n))throw Error(P(200));if(e==null||e._reactInternals===void 0)throw Error(P(38));return Go(e,t,n,!1,r)};lt.version="18.3.1-next-f1338f8080-20240426";function Dm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Dm)}catch(e){console.error(e)}}Dm(),Df.exports=lt;var H0=Df.exports,Kd=H0;ea.createRoot=Kd.createRoot,ea.hydrateRoot=Kd.hydrateRoot;const V0="modulepreload",q0=function(e){return"https://ckdev88.github.io/mubooks/"+e},Jd={},$r=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.all(n.map(l=>{if(l=q0(l),l in Jd)return;Jd[l]=!0;const a=l.endsWith(".css"),c=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const d=document.createElement("link");if(d.rel=a?"stylesheet":V0,a||(d.as="script",d.crossOrigin=""),d.href=l,o&&d.setAttribute("nonce",o),document.head.appendChild(d),a)return new Promise((h,p)=>{d.addEventListener("load",h),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}return i.then(()=>t()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})},W0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>$r(async()=>{const{default:r}=await Promise.resolve().then(()=>Kr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class cc extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class Q0 extends cc{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class K0 extends cc{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class J0 extends cc{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Qa;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Qa||(Qa={}));var G0=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?s(d.value):i(d.value).then(l,a)}c((r=r.apply(e,t||[])).next())})};class Y0{constructor(t,{headers:n={},customFetch:r,region:i=Qa.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=W0(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return G0(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=n;let l={},{region:a}=n;a||(a=this.region),a&&a!=="any"&&(l["x-region"]=a);let c;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(l["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(l["Content-Type"]="application/json",c=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:c}).catch(y=>{throw new Q0(y)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new K0(d);if(!d.ok)throw new J0(d);let p=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),f;return p==="application/json"?f=yield d.json():p==="application/octet-stream"?f=yield d.blob():p==="text/event-stream"?f=d:p==="multipart/form-data"?f=yield d.formData():f=yield d.text(),{data:f,error:null}}catch(i){return{data:null,error:i}}})}}var ft={},dc={},Yo={},ls={},Xo={},Zo={},X0=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ur=X0();const Z0=Ur.fetch,Mm=Ur.fetch.bind(Ur),Bm=Ur.Headers,ew=Ur.Request,tw=Ur.Response,Kr=Object.freeze(Object.defineProperty({__proto__:null,Headers:Bm,Request:ew,Response:tw,default:Mm,fetch:Z0},Symbol.toStringTag,{value:"Module"})),nw=gy(Kr);var hc={};Object.defineProperty(hc,"__esModule",{value:!0});class rw extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}hc.default=rw;var zm=Ye&&Ye.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zo,"__esModule",{value:!0});const iw=zm(nw),sw=zm(hc);let ow=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=iw.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var o,l,a;let c=null,d=null,h=null,p=s.status,f=s.statusText;if(s.ok){if(this.method!=="HEAD"){const m=await s.text();m===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=m:d=JSON.parse(m))}const w=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),x=(l=s.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");w&&x&&x.length>1&&(h=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,p=406,f="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const w=await s.text();try{c=JSON.parse(w),Array.isArray(c)&&s.status===404&&(d=[],c=null,p=200,f="OK")}catch{s.status===404&&w===""?(p=204,f="No Content"):c={message:w}}if(c&&this.isMaybeSingle&&(!((a=c==null?void 0:c.details)===null||a===void 0)&&a.includes("0 rows"))&&(c=null,p=200,f="OK"),c&&this.shouldThrowOnError)throw new sw.default(c)}return{error:c,data:d,count:h,status:p,statusText:f}});return this.shouldThrowOnError||(i=i.catch(s=>{var o,l,a;return{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(l=s==null?void 0:s.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(a=s==null?void 0:s.code)!==null&&a!==void 0?a:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,n)}};Zo.default=ow;var lw=Ye&&Ye.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xo,"__esModule",{value:!0});const aw=lw(Zo);let uw=class extends aw.default{select(t){let n=!1;const r=(t??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:s=i}={}){const o=s?`${s}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:i=r}={}){const s=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:s=!1,format:o="text"}={}){var l;const a=[t?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${a};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Xo.default=uw;var cw=Ye&&Ye.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ls,"__esModule",{value:!0});const dw=cw(Xo);let hw=class extends dw.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${s}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};ls.default=hw;var fw=Ye&&Ye.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Yo,"__esModule",{value:!0});const ai=fw(ls);let pw=class{constructor(t,{headers:n={},schema:r,fetch:i}){this.url=t,this.headers=n,this.schema=r,this.fetch=i}select(t,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let s=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new ai.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),r||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(t)){const o=t.reduce((l,a)=>l.concat(Object.keys(a)),[]);if(o.length>0){const l=[...new Set(o)].map(a=>`"${a}"`);this.url.searchParams.set("columns",l.join(","))}}return new ai.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:s=!0}={}){const o="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),s||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const a=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(a.length>0){const c=[...new Set(a)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new ai.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new ai.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new ai.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Yo.default=pw;var el={},tl={};Object.defineProperty(tl,"__esModule",{value:!0});tl.version=void 0;tl.version="0.0.0-automated";Object.defineProperty(el,"__esModule",{value:!0});el.DEFAULT_HEADERS=void 0;const mw=tl;el.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${mw.version}`};var $m=Ye&&Ye.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(dc,"__esModule",{value:!0});const gw=$m(Yo),yw=$m(ls),vw=el;let ww=class Um{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},vw.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=i}from(t){const n=new URL(`${this.url}/${t}`);return new gw.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Um(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:s}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let a;r||i?(o=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(o="POST",a=n);const c=Object.assign({},this.headers);return s&&(c.Prefer=`count=${s}`),new yw.default({method:o,url:l,headers:c,schema:this.schemaName,body:a,fetch:this.fetch,allowEmpty:!1})}};dc.default=ww;var as=Ye&&Ye.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ft,"__esModule",{value:!0});ft.PostgrestBuilder=ft.PostgrestTransformBuilder=ft.PostgrestFilterBuilder=ft.PostgrestQueryBuilder=ft.PostgrestClient=void 0;const Hm=as(dc);ft.PostgrestClient=Hm.default;const Vm=as(Yo);ft.PostgrestQueryBuilder=Vm.default;const qm=as(ls);ft.PostgrestFilterBuilder=qm.default;const Wm=as(Xo);ft.PostgrestTransformBuilder=Wm.default;const Qm=as(Zo);ft.PostgrestBuilder=Qm.default;var xw=ft.default={PostgrestClient:Hm.default,PostgrestQueryBuilder:Vm.default,PostgrestFilterBuilder:qm.default,PostgrestTransformBuilder:Wm.default,PostgrestBuilder:Qm.default};const{PostgrestClient:_w,PostgrestQueryBuilder:ib,PostgrestFilterBuilder:sb,PostgrestTransformBuilder:ob,PostgrestBuilder:lb}=xw,kw="2.10.2",Sw={"X-Client-Info":`realtime-js/${kw}`},jw="1.0.0",Km=1e4,Cw=1e3;var Nr;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Nr||(Nr={}));var et;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(et||(et={}));var Ct;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ct||(Ct={}));var Ka;(function(e){e.websocket="websocket"})(Ka||(Ka={}));var Mn;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Mn||(Mn={}));class Ew{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),s=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(t.slice(o,o+i));o=o+i;const a=r.decode(t.slice(o,o+s));o=o+s;const c=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:a,payload:c}}}class Jm{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ie;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ie||(ie={}));const Gd=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((s,o)=>(s[o]=bw(o,e,t,i),s),{})},bw=(e,t,n,r)=>{const i=t.find(l=>l.name===e),s=i==null?void 0:i.type,o=n[e];return s&&!r.includes(s)?Gm(s,o):Ja(o)},Gm=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return Iw(t,n)}switch(e){case ie.bool:return Tw(t);case ie.float4:case ie.float8:case ie.int2:case ie.int4:case ie.int8:case ie.numeric:case ie.oid:return Pw(t);case ie.json:case ie.jsonb:return Nw(t);case ie.timestamp:return Ow(t);case ie.abstime:case ie.date:case ie.daterange:case ie.int4range:case ie.int8range:case ie.money:case ie.reltime:case ie.text:case ie.time:case ie.timestamptz:case ie.timetz:case ie.tsrange:case ie.tstzrange:return Ja(t);default:return Ja(t)}},Ja=e=>e,Tw=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Pw=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Nw=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Iw=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let s;const o=e.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(l=>Gm(t,l))}return e},Ow=e=>typeof e=="string"?e.replace(" ","T"):e,Ym=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Rl{constructor(t,n,r={},i=Km){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Yd;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Yd||(Yd={}));class Ni{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ni.syncState(this.state,i,s,o),this.pendingDiffs.forEach(a=>{this.state=Ni.syncDiff(this.state,a,s,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Ni.syncDiff(this.state,i,s,o),l())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const s=this.cloneDeep(t),o=this.transformState(n),l={},a={};return this.map(s,(c,d)=>{o[c]||(a[c]=d)}),this.map(o,(c,d)=>{const h=s[c];if(h){const p=d.map(x=>x.presence_ref),f=h.map(x=>x.presence_ref),y=d.filter(x=>f.indexOf(x.presence_ref)<0),w=h.filter(x=>p.indexOf(x.presence_ref)<0);y.length>0&&(l[c]=y),w.length>0&&(a[c]=w)}else l[c]=d}),this.syncDiff(s,{joins:l,leaves:a},r,i)}static syncDiff(t,n,r,i){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(l,a)=>{var c;const d=(c=t[l])!==null&&c!==void 0?c:[];if(t[l]=this.cloneDeep(a),d.length>0){const h=t[l].map(f=>f.presence_ref),p=d.filter(f=>h.indexOf(f.presence_ref)<0);t[l].unshift(...p)}r(l,d,a)}),this.map(o,(l,a)=>{let c=t[l];if(!c)return;const d=a.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=c,i(l,c,a),c.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Xd;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Xd||(Xd={}));var Zd;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes"})(Zd||(Zd={}));var eh;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(eh||(eh={}));class fc{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=et.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Rl(this,Ct.join,this.params,this.timeout),this.rejoinTimer=new Jm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=et.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=et.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ct.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new Ni(this),this.broadcastEndpointURL=Ym(this.socket.endPoint)+"/api/broadcast"}subscribe(t,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:o,private:l}}=this.params;this._onError(d=>t&&t("CHANNEL_ERROR",d)),this._onClose(()=>t&&t("CLOSED"));const a={},c={broadcast:s,presence:o,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&i!==void 0?i:[],private:l};this.socket.accessToken&&(a.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:c},a)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",({postgres_changes:d})=>{var h;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),d===void 0){t&&t("SUBSCRIBED");return}else{const p=this.bindings.postgres_changes,f=(h=p==null?void 0:p.length)!==null&&h!==void 0?h:0,y=[];for(let w=0;w<f;w++){const x=p[w],{filter:{event:m,schema:g,table:v,filter:S}}=x,E=d&&d[w];if(E&&E.event===m&&E.schema===g&&E.table===v&&E.filter===S)y.push(Object.assign(Object.assign({},x),{id:E.id}));else{this.unsubscribe(),t&&t("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t("SUBSCRIBED");return}}).receive("error",d=>{t&&t("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t&&t("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessToken?`Bearer ${this.socket.accessToken}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o}]})};try{const a=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=a.body)===null||i===void 0?void 0:i.cancel()),a.ok?"ok":"error"}catch(a){return a.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,l,a;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((a=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||a===void 0)&&a.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=et.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ct.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const i=new Rl(this,Ct.leave,{},t);i.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(t,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Rl(this,t,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,s;const o=t.toLocaleLowerCase(),{close:l,error:a,leave:c,join:d}=Ct;if(r&&[l,a,c,d].indexOf(o)>=0&&r!==this._joinRef())return;let p=this._onMessage(o,n,r);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var y,w,x;return((y=f.filter)===null||y===void 0?void 0:y.event)==="*"||((x=(w=f.filter)===null||w===void 0?void 0:w.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(f=>f.callback(p,r)):(s=this.bindings[o])===null||s===void 0||s.filter(f=>{var y,w,x,m,g,v;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const S=f.id,E=(y=f.filter)===null||y===void 0?void 0:y.event;return S&&((w=n.ids)===null||w===void 0?void 0:w.includes(S))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const S=(g=(m=f==null?void 0:f.filter)===null||m===void 0?void 0:m.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return S==="*"||S===((v=n==null?void 0:n.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof p=="object"&&"ids"in p){const y=p.data,{schema:w,table:x,commit_timestamp:m,type:g,errors:v}=y;p=Object.assign(Object.assign({},{schema:w,table:x,commit_timestamp:m,eventType:g,new:{},old:{},errors:v}),this._getPayloadRecords(y))}f.callback(p,r)})}_isClosed(){return this.state===et.closed}_isJoined(){return this.state===et.joined}_isJoining(){return this.state===et.joining}_isLeaving(){return this.state===et.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&fc.isEqual(i.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ct.close,{},t)}_onError(t){this._on(Ct.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=et.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Gd(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Gd(t.columns,t.old_record)),n}}const Lw=()=>{},Aw=typeof WebSocket<"u";class Rw{constructor(t,n){var r;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Sw,this.params={},this.timeout=Km,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Lw,this.conn=null,this.sendBuffer=[],this.serializer=new Ew,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...l)=>$r(async()=>{const{default:a}=await Promise.resolve().then(()=>Kr);return{default:a}},void 0).then(({default:a})=>a(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${Ka.websocket}`,this.httpEndpoint=Ym(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;i&&(this.accessToken=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(s,o)=>o(JSON.stringify(s)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Jm(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(Aw){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new Fw(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),$r(async()=>{const{default:t}=await import("./browser-wutSHzci.js").then(n=>n.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Nr.connecting:return Mn.Connecting;case Nr.open:return Mn.Open;case Nr.closing:return Mn.Closing;default:return Mn.Closed}}isConnected(){return this.connectionState()===Mn.Open}channel(t,n={config:{}}){const r=new fc(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){const{topic:n,event:r,payload:i,ref:s}=t,o=()=>{this.encode(t,l=>{var a;(a=this.conn)===null||a===void 0||a.send(l)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}setAuth(t){this.accessToken=t,this.channels.forEach(n=>{t&&n.updateJoinPayload({access_token:t}),n.joinedOnce&&n._isJoined()&&n._push(Ct.access_token,{access_token:t})})}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:jw}))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:i,payload:s,ref:o}=n;(o&&o===this.pendingHeartbeatRef||i===(s==null?void 0:s.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${i} ${o&&"("+o+")"||""}`,s),this.channels.filter(l=>l._isMember(r)).forEach(l=>l._trigger(i,s,o)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ct.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(Cw,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class Fw{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Nr.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class pc extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function be(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Dw extends pc{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ga extends pc{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var Mw=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?s(d.value):i(d.value).then(l,a)}c((r=r.apply(e,t||[])).next())})};const Xm=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>$r(async()=>{const{default:r}=await Promise.resolve().then(()=>Kr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Bw=()=>Mw(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield $r(()=>Promise.resolve().then(()=>Kr),void 0)).Response:Response}),Ya=e=>{if(Array.isArray(e))return e.map(n=>Ya(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=Ya(r)}),t};var Zn=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?s(d.value):i(d.value).then(l,a)}c((r=r.apply(e,t||[])).next())})};const Fl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),zw=(e,t,n)=>Zn(void 0,void 0,void 0,function*(){const r=yield Bw();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{t(new Dw(Fl(i),e.status||500))}).catch(i=>{t(new Ga(Fl(i),i))}):t(new Ga(Fl(e),e))}),$w=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),n))};function us(e,t,n,r,i,s){return Zn(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,$w(t,r,i,s)).then(a=>{if(!a.ok)throw a;return r!=null&&r.noResolveJson?a:a.json()}).then(a=>o(a)).catch(a=>zw(a,l,r))})})}function bo(e,t,n,r){return Zn(this,void 0,void 0,function*(){return us(e,"GET",t,n,r)})}function rn(e,t,n,r,i){return Zn(this,void 0,void 0,function*(){return us(e,"POST",t,r,i,n)})}function Uw(e,t,n,r,i){return Zn(this,void 0,void 0,function*(){return us(e,"PUT",t,r,i,n)})}function Hw(e,t,n,r){return Zn(this,void 0,void 0,function*(){return us(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Zm(e,t,n,r,i){return Zn(this,void 0,void 0,function*(){return us(e,"DELETE",t,r,i,n)})}var He=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?s(d.value):i(d.value).then(l,a)}c((r=r.apply(e,t||[])).next())})};const Vw={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},th={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class qw{constructor(t,n={},r,i){this.url=t,this.headers=n,this.bucketId=r,this.fetch=Xm(i)}uploadOrUpdate(t,n,r,i){return He(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},th),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const a=o.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),s.append("",r),a&&s.append("metadata",this.encodeMetadata(a))):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",o.cacheControl),a&&s.append("metadata",this.encodeMetadata(a))):(s=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,a&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(a)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const c=this._removeEmptyFolders(n),d=this._getFinalPath(c),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:s,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),p=yield h.json();return h.ok?{data:{path:c,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(s){if(be(s))return{data:null,error:s};throw s}})}upload(t,n,r){return He(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return He(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),o=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let a;const c=Object.assign({upsert:th.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",c.cacheControl),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",c.cacheControl)):(a=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:a,headers:d}),p=yield h.json();return h.ok?{data:{path:s,fullPath:p.Key},error:null}:{data:null,error:p}}catch(a){if(be(a))return{data:null,error:a};throw a}})}createSignedUploadUrl(t,n){return He(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield rn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+s.url),l=o.searchParams.get("token");if(!l)throw new pc("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}})}update(t,n,r){return He(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return He(this,void 0,void 0,function*(){try{return{data:yield rn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(be(i))return{data:null,error:i};throw i}})}copy(t,n,r){return He(this,void 0,void 0,function*(){try{return{data:{path:(yield rn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(be(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return He(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield rn(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(be(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return He(this,void 0,void 0,function*(){try{const i=yield rn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(be(i))return{data:null,error:i};throw i}})}download(t,n){return He(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=s?`?${s}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield bo(this.fetch,`${this.url}/${i}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(be(l))return{data:null,error:l};throw l}})}info(t){return He(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield bo(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Ya(r),error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}})}exists(t){return He(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield Hw(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(be(r)&&r instanceof Ga){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});a!==""&&i.push(a);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${c}`)}}}remove(t){return He(this,void 0,void 0,function*(){try{return{data:yield Zm(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}})}list(t,n,r){return He(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},Vw),n),{prefix:t||""});return{data:yield rn(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(be(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const Ww="2.7.0",Qw={"X-Client-Info":`storage-js/${Ww}`};var ar=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?s(d.value):i(d.value).then(l,a)}c((r=r.apply(e,t||[])).next())})};class Kw{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},Qw),n),this.fetch=Xm(r)}listBuckets(){return ar(this,void 0,void 0,function*(){try{return{data:yield bo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(be(t))return{data:null,error:t};throw t}})}getBucket(t){return ar(this,void 0,void 0,function*(){try{return{data:yield bo(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return ar(this,void 0,void 0,function*(){try{return{data:yield rn(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return ar(this,void 0,void 0,function*(){try{return{data:yield Uw(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}})}emptyBucket(t){return ar(this,void 0,void 0,function*(){try{return{data:yield rn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}})}deleteBucket(t){return ar(this,void 0,void 0,function*(){try{return{data:yield Zm(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}})}}class Jw extends Kw{constructor(t,n={},r){super(t,n,r)}from(t){return new qw(this.url,this.headers,t,this.fetch)}}const Gw="2.45.2";let xi="";typeof Deno<"u"?xi="deno":typeof document<"u"?xi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?xi="react-native":xi="node";const Yw={"X-Client-Info":`supabase-js-${xi}/${Gw}`},Xw={headers:Yw},Zw={schema:"public"},ex={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},tx={};var nx=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?s(d.value):i(d.value).then(l,a)}c((r=r.apply(e,t||[])).next())})};const rx=e=>{let t;return e?t=e:typeof fetch>"u"?t=Mm:t=fetch,(...n)=>t(...n)},ix=()=>typeof Headers>"u"?Bm:Headers,sx=(e,t,n)=>{const r=rx(n),i=ix();return(s,o)=>nx(void 0,void 0,void 0,function*(){var l;const a=(l=yield t())!==null&&l!==void 0?l:e;let c=new i(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${a}`),r(s,Object.assign(Object.assign({},o),{headers:c}))})};var ox=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?s(d.value):i(d.value).then(l,a)}c((r=r.apply(e,t||[])).next())})};function lx(e){return e.replace(/\/$/,"")}function ax(e,t){const{db:n,auth:r,realtime:i,global:s}=e,{db:o,auth:l,realtime:a,global:c}=t,d={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},l),r),realtime:Object.assign(Object.assign({},a),i),global:Object.assign(Object.assign({},c),s),accessToken:()=>ox(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const eg="2.64.4",ux="http://localhost:9999",cx="supabase.auth.token",dx={"X-Client-Info":`gotrue-js/${eg}`},nh=10,Xa="X-Supabase-Api-Version",tg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function hx(e){return Math.round(Date.now()/1e3)+e}function fx(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const kt=()=>typeof document<"u",Ln={tested:!1,writable:!1},Ii=()=>{if(!kt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ln.tested)return Ln.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ln.tested=!0,Ln.writable=!0}catch{Ln.tested=!0,Ln.writable=!1}return Ln.writable};function Dl(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const ng=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>$r(async()=>{const{default:r}=await Promise.resolve().then(()=>Kr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},px=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",rg=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Ls=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ml=async(e,t)=>{await e.removeItem(t)};function mx(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,i,s,o,l,a,c,d=0;for(e=e.replace("-","+").replace("_","/");d<e.length;)o=t.indexOf(e.charAt(d++)),l=t.indexOf(e.charAt(d++)),a=t.indexOf(e.charAt(d++)),c=t.indexOf(e.charAt(d++)),r=o<<2|l>>4,i=(l&15)<<4|a>>2,s=(a&3)<<6|c,n=n+String.fromCharCode(r),a!=64&&i!=0&&(n=n+String.fromCharCode(i)),c!=64&&s!=0&&(n=n+String.fromCharCode(s));return n}class nl{constructor(){this.promise=new nl.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}nl.promiseConstructor=Promise;function rh(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=e.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(mx(r))}async function gx(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function yx(e,t){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await e(s);if(!t(s,null,o)){r(o);return}}catch(o){if(!t(s,o)){i(o);return}}})()})}function vx(e){return("0"+e.toString(16)).substr(-2)}function wx(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,vx).join("")}async function xx(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}function _x(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function kx(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await xx(e);return _x(n)}async function ur(e,t,n=!1){const r=wx();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await rg(e,`${t}-code-verifier`,i);const s=await kx(r);return[s,r===s?"plain":"s256"]}const Sx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function jx(e){const t=e.headers.get(Xa);if(!t||!t.match(Sx))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class mc extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function V(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Cx extends mc{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Ex(e){return V(e)&&e.name==="AuthApiError"}class ig extends mc{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class er extends mc{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class An extends er{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class Bl extends er{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class As extends er{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Rs extends er{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ih extends er{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Za extends er{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function zl(e){return V(e)&&e.name==="AuthRetryableFetchError"}class sh extends er{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var bx=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Dn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Tx=[502,503,504];async function oh(e){var t;if(!px(e))throw new Za(Dn(e),0);if(Tx.includes(e.status))throw new Za(Dn(e),e.status);let n;try{n=await e.json()}catch(s){throw new ig(Dn(s),s)}let r;const i=jx(e);if(i&&i.getTime()>=tg["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new sh(Dn(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[])}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new sh(Dn(n),e.status,n.weak_password.reasons);throw new Cx(Dn(n),e.status||500,r)}const Px=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function K(e,t,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[Xa]||(s[Xa]=tg["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",a=await Nx(e,t,n+l,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(a):{data:Object.assign({},a),error:null}}async function Nx(e,t,n,r,i,s){const o=Px(t,r,i,s);let l;try{l=await e(n,Object.assign({},o))}catch(a){throw console.error(a),new Za(Dn(a),0)}if(l.ok||await oh(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(a){await oh(a)}}function en(e){var t;let n=null;Ax(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=hx(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function lh(e){const t=en(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function an(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Ix(e){return{data:e,error:null}}function Ox(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=e,o=bx(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},a=Object.assign({},o);return{data:{properties:l,user:a},error:null}}function Lx(e){return e}function Ax(e){return e.access_token&&e.refresh_token&&e.expires_in}var Rx=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class Fx{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=ng(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await K(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(V(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await K(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:an})}catch(r){if(V(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Rx(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await K(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Ox,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(V(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await K(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:an})}catch(n){if(V(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,s,o,l,a;try{const c={nextPage:null,lastPage:0,total:0},d=await K(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Lx});if(d.error)throw d.error;const h=await d.json(),p=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(a=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&a!==void 0?a:[];return f.length>0&&(f.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(y.split(";")[1].split("=")[1]);c[`${x}Page`]=w}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(V(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){try{return await K(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:an})}catch(n){if(V(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await K(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:an})}catch(r){if(V(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await K(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:an})}catch(r){if(V(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await K(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(V(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await K(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(V(n))return{data:null,error:n};throw n}}}const Dx={getItem:e=>Ii()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Ii()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Ii()&&globalThis.localStorage.removeItem(e)}};function ah(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function Mx(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const cr={debug:!!(globalThis&&Ii()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class sg extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Bx extends sg{}async function zx(e,t,n){cr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),cr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){cr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{cr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw cr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Bx(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(cr.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}})}Mx();const $x={url:ux,storageKey:cx,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:dx,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},ui=30*1e3,uh=3;async function ch(e,t,n){return await n()}class Zi{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Zi.nextInstanceID,Zi.nextInstanceID+=1,this.instanceID>0&&kt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},$x),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Fx({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=ng(i.fetch),this.lock=i.lock||ch,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:kt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=zx:this.lock=ch,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:Ii()?this.storage=Dx:(this.memoryStorage={},this.storage=ah(this.memoryStorage)):(this.memoryStorage={},this.storage=ah(this.memoryStorage)),kt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${eg}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const t=kt()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",t),t||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:n,error:r}=await this._getSessionFromURL(t);if(r)return this._debug("#_initialize()","error detecting session from URL",r),(r==null?void 0:r.message)==="Identity is already linked"||(r==null?void 0:r.message)==="Identity is already linked to another user"?{error:r}:(await this._removeSession(),{error:r});const{session:i,redirectType:s}=n;return this._debug("#_initialize()","detected session in URL",i,"redirect type",s),await this._saveSession(i),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return V(t)?{error:t}:{error:new ig("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const s=await K(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:en}),{data:o,error:l}=s;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(s){if(V(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var n,r,i;try{let s;if("email"in t){const{email:d,password:h,options:p}=t;let f=null,y=null;this.flowType==="pkce"&&([f,y]=await ur(this.storage,this.storageKey)),s=await K(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:f,code_challenge_method:y},xform:en})}else if("phone"in t){const{phone:d,password:h,options:p}=t;s=await K(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(i=p==null?void 0:p.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:en})}else throw new As("You must provide either an email or phone number and a password");const{data:o,error:l}=s;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(s){if(V(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let n;if("email"in t){const{email:s,password:o,options:l}=t;n=await K(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:lh})}else if("phone"in t){const{phone:s,password:o,options:l}=t;n=await K(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:lh})}else throw new As("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Bl}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(V(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await Ls(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/"),{data:s,error:o}=await K(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:en});return await Ml(this.storage,`${this.storageKey}-code-verifier`),o?{data:{user:null,session:null,redirectType:null},error:o}:!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Bl}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:s,nonce:o}=t,l=await K(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:en}),{data:a,error:c}=l;return c?{data:{user:null,session:null},error:c}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new Bl}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:c})}catch(n){if(V(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,s,o;try{if("email"in t){const{email:l,options:a}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await ur(this.storage,this.storageKey));const{error:h}=await K(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=a==null?void 0:a.data)!==null&&n!==void 0?n:{},create_user:(r=a==null?void 0:a.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:a}=t,{data:c,error:d}=await K(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=a==null?void 0:a.data)!==null&&i!==void 0?i:{},create_user:(s=a==null?void 0:a.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},channel:(o=a==null?void 0:a.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new As("You must provide either an email or phone number.")}catch(l){if(V(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,r;try{let i,s;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,s=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await K(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:en});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const a=o.session,c=o.user;return a!=null&&a.access_token&&(await this._saveSession(a),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(i){if(V(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await ur(this.storage,this.storageKey)),await K(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:Ix})}catch(s){if(V(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new An;const{error:i}=await K(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(V(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:s}=t,{error:o}=await K(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:i,options:s}=t,{data:o,error:l}=await K(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new As("You must provide either an email or phone number and a type")}catch(n){if(V(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Ls(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(a,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(a,c,d))})}return{data:{session:t},error:null}}const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await K(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:an}):await this._useSession(async n=>{var r,i,s;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new An}:await K(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:an})})}catch(n){if(V(n))return{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new An;const o=i.session;let l=null,a=null;this.flowType==="pkce"&&t.email!=null&&([l,a]=await ur(this.storage,this.storageKey));const{data:c,error:d}=await K(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:a}),jwt:o.access_token,xform:an});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(V(r))return{data:{user:null},error:r};throw r}}_decodeJWT(t){return rh(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new An;const n=Date.now()/1e3;let r=n,i=!0,s=null;const o=rh(t.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{session:l,error:a}=await this._callRefreshToken(t.refresh_token);if(a)return{data:{user:null,session:null},error:a};if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:a}=await this._getUser(t.access_token);if(a)throw a;s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(V(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new An;const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(V(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t){try{if(!kt())throw new Rs("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new Rs("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!t)throw new ih("Not a valid PKCE flow url.");const n=Dl(window.location.href);if(t){if(!n.code)throw new ih("No code detected.");const{data:g,error:v}=await this._exchangeCodeForSession(n.code);if(v)throw v;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:g.session,redirectType:null},error:null}}if(n.error||n.error_description||n.error_code)throw new Rs(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:l,expires_at:a,token_type:c}=n;if(!s||!l||!o||!c)throw new Rs("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let p=d+h;a&&(p=parseInt(a));const f=p-d;f*1e3<=ui&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const y=p-h;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,p,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",y,p,d);const{data:w,error:x}=await this._getUser(s);if(x)throw x;const m={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:h,expires_at:p,refresh_token:o,token_type:c,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:n.type},error:null}}catch(n){if(V(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantFlow(){const t=Dl(window.location.href);return!!(kt()&&(t.access_token||t.error_description))}async _isPKCEFlow(){const t=Dl(window.location.href),n=await Ls(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(Ex(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Ml(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(t){const n=fx(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await ur(this.storage,this.storageKey,!0));try{return await K(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(V(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(V(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var o,l,a,c,d;const{data:h,error:p}=s;if(p)throw p;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:!0});return await K(this.fetch,"GET",f,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return kt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(V(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)throw o;return await K(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(V(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await yx(async i=>(i>0&&await gx(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await K(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:en})),(i,s)=>{const o=200*Math.pow(2,i);return s&&zl(s)&&Date.now()+o-r<ui})}catch(r){if(this._debug(n,"error",r),V(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),kt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Ls(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const i=Math.round(Date.now()/1e3),s=((t=r.expires_at)!==null&&t!==void 0?t:1/0)<i+nh;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${nh}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),zl(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new An;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new nl;const{data:s,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!s.session)throw new An;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(i,"error",s),V(s)){const o={session:null,error:s};return zl(s)||(await this._removeSession(),await this._notifyAllSubscribers("SIGNED_OUT",null)),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(a){s.push(a)}});if(await Promise.all(o),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await rg(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Ml(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&kt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ui);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/ui);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${ui}ms, refresh threshold is ${uh} ticks`),i<=uh&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof sg)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!kt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,o]=await ur(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(l.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await K(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(V(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)return{data:null,error:o};const{data:l,error:a}=await K(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:t.friendlyName,factor_type:t.factorType,issuer:t.issuer},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(V(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const{data:o,error:l}=await K(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(V(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await K(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(V(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],i=r.filter(s=>s.factor_type==="totp"&&s.status==="verified");return{data:{all:r,totp:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(i.access_token);let l=null;o.aal&&(l=o.aal);let a=l;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:a,currentAuthenticationMethods:d},error:null}}))}}Zi.nextInstanceID=0;const Ux=Zi;class Hx extends Ux{constructor(t){super(t)}}var Vx=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?s(d.value):i(d.value).then(l,a)}c((r=r.apply(e,t||[])).next())})};class qx{constructor(t,n,r){var i,s,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=lx(t);this.realtimeUrl=`${l}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${l}/auth/v1`,this.storageUrl=`${l}/storage/v1`,this.functionsUrl=`${l}/functions/v1`;const a=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:Zw,realtime:tx,auth:Object.assign(Object.assign({},ex),{storageKey:a}),global:Xw},d=ax(r??{},c);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=d.global.headers)!==null&&s!==void 0?s:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=sx(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},d.realtime)),this.rest=new _w(`${l}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new Y0(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Jw(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return Vx(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:s,flowType:o,lock:l,debug:a},c,d){var h;const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Hx({url:this.authUrl,headers:Object.assign(Object.assign({},p),c),storageKey:s,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,flowType:o,lock:l,debug:a,fetch:d,hasCustomAuthorizationHeader:(h="Authorization"in this.headers)!==null&&h!==void 0?h:!1})}_initRealtimeClient(t){return new Rw(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):t==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Wx=(e,t,n)=>new qx(e,t,n),og="https://ysuqkwlvbkjhfrqelfzb.supabase.co",Qx="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlzdXFrd2x2YmtqaGZycWVsZnpiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MDQ4NTI1OTcsImV4cCI6MjAyMDQyODU5N30.aqmgb8fSy638Ccdmq_wCAI6h0pADFjn3vszD3bgiYs0",Z=Wx(og,Qx),un=og.replace("https://","sb-").replace(".supabase.co","-auth-token");location.hostname==="localhost"&&addEventListener("keydown",e=>{var t,n;e.ctrlKey&&e.key==="k"&&(e.preventDefault(),location.pathname!=="/mubooks"&&(location.pathname="/mubooks"),location.hash.split("/").pop()!=="search"&&(location.hash="#/search")),e.key==="j"?window.scrollBy(0,64):e.key==="k"?window.scrollBy(0,-64):e.key==="/"&&(e.preventDefault(),(t=document.getElementById("search_term"))==null||t.setAttribute("value","harry potter"),(n=document.getElementById("search_term"))==null||n.focus())});function Kx(e){return e.slice(0,8)==="https://"}function eu(e,t=void 0){let n="";return t&&(n="-"+t),e.slice(0,2)==="OL"?"https://covers.openlibrary.org/b/olid/"+e+n+".jpg":"https://covers.openlibrary.org/b/isbn/"+e+n+".jpg"}function Gn(e,t){let n="";return t?(n="-"+t,e.replace(".jpg",n+".jpg")):e}async function Jx(e){return await fetch("https://openlibrary.org/search.json?q=/works/"+e+"&mode=number_of_pages_median&fields=number_of_pages_median&limit=1").then(n=>n.json()).then(n=>n.docs[0].number_of_pages_median)}function dh(e,t){let n;return function(){const r=this||window;clearTimeout(n),n=setTimeout(()=>e.apply(r),t)}}function hh(e){const t=document.getElementById(e);try{t.showPicker()}catch(n){t.classList.remove("calendar-hidden"),t.focus(),console.error(n)}}function Gx(e){let t=e.length;for(;t>0;){const n=Math.floor(Math.random()*t);t--,[e[t],e[n]]=[e[n],e[t]]}}function nt(e,t,n=!1){let r;n?r=e.split(/['#','?','&']/):r=e.split(/['?','&']/);for(let i=0;i<r.length;i++)if(r[i].slice(0,t.length)===t)return r[i].split("=")[1];return""}const fh="Add a book",Yx=()=>{const{setNavTitle:e}=_.useContext(z);_.useEffect(()=>{e(fh)},[e]);const[t,n]=_.useState("/img/coverless.png"),[r,i]=_.useState([]),[s,o]=_.useState(""),[l,a]=_.useState(""),[c,d]=_.useState(!1);async function h(w){w.preventDefault();const x=w.currentTarget.search_term.value.trim();x.length>4?(d(!0),o(""),await(await fetch("https://openlibrary.org/search.json?q="+x+"&mode=everything&limit=8&fields="+"title,author_name,isbn,cover_edition_key,author_key,edition_key,key,first_publish_year,number_of_pages_median")).json().then(v=>v.docs.filter(S=>S.author_key!==void 0&&S.edition_key!==void 0&&S.isbn!==void 0&&S.cover_edition_key!==void 0)).then(v=>{for(let S=0;S<v.length;S++)v[S].id=v[S].edition_key.slice(0,1).toString(),v[S].title_short=v[S].title.slice(0,45).toString(),v[S].cover=eu(v[S].cover_edition_key);return v.length>30?a("Showing only 30 results. Specify a bit more."):a("Showing "+v.length+" results for "+x+"."),v}).then(v=>i(v)),d(!1)):x.length===0?o(x.length):o("keep typing...")}function p(w){w.preventDefault(),n(w.currentTarget.abCover.value.trim())}const f=u.jsx(u.Fragment,{children:u.jsx("img",{src:t,style:{width:"50%"}})});function y(w){const x=w.currentTarget.value;Kx(x)&&n(w.currentTarget.value.trim())}return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"booksearch",children:[u.jsx("h1",{children:"Search book"}),u.jsxs("form",{onSubmit:h,children:[u.jsx("input",{type:"text",id:"search_term",name:"search_term"}),u.jsx("div",{className:l!==""?"dblock":"dnone",children:l}),u.jsx("div",{className:s!==""?"dblock":"dnone",children:s}),u.jsx("button",{disabled:c,children:c?"Searching...":"Search"})]})]}),u.jsx("div",{className:"booksearchresults",children:r.map((w,x)=>{if(w.id!==void 0){let m;w.title.length>55?m=w.title.slice(0,55)+"...":m=w.title;const g=w.author_name.map((v,S)=>u.jsxs("span",{children:[v,S<w.author_name.length-1&&", "]},"author"+x+S));return u.jsxs("div",{className:"result",children:[u.jsxs("div",{className:"wrapper",children:[u.jsx("img",{src:"img/loep.svg",className:"loep"}),u.jsxs("div",{className:"text",children:[m," ",u.jsxs("em",{className:"sf",children:[" (",w.first_publish_year,")"]}),u.jsx("br",{}),u.jsx("em",{className:"sf cl",children:g})]})]}),u.jsx("img",{src:eu(w.id,"S"),className:"thumbnail"})]},"result"+x)}})}),u.jsx("h1",{children:fh}),u.jsx("form",{onSubmit:p,children:u.jsxs("fieldset",{children:[u.jsx("label",{htmlFor:"abIsbn",children:"ISBN"}),u.jsx("input",{type:"text",id:"abIsbn",name:"abIsbn",required:!0}),u.jsx("label",{htmlFor:"abTitle",children:"Title"}),u.jsx("input",{type:"text",id:"abTitle",name:"abTitle",required:!0}),u.jsxs("label",{htmlFor:"abAuthors",children:["Author(s) ",u.jsx("em",{className:"sf",children:"1 author per line"})]}),u.jsx("textarea",{name:"abAuthors",id:"abAuthors"}),u.jsxs("label",{htmlFor:"abCover",children:["Cover URL ",u.jsx("em",{className:"sf",children:"starts with https://"})]}),u.jsx("input",{type:"url",name:"abCover",id:"abCover",onChange:y}),f,u.jsx("br",{}),u.jsx("br",{}),u.jsx("label",{htmlFor:"abYearPublished",children:"Year published"}),u.jsx("input",{type:"number",name:"abYearPublished",id:"abYearPublished"}),u.jsx("label",{htmlFor:"abPages",children:"Pages"}),u.jsx("input",{type:"number",name:"abPages",id:"abPages"}),u.jsxs("label",{htmlFor:"abTropes",children:["Tropes ",u.jsx("em",{className:"sf",children:"one trope per line"})]}),u.jsx("textarea",{name:"abTropes",id:"abTropes"}),u.jsx("button",{children:"Add book to wishlist"})]})})]})};/**
 * @remix-run/router v1.19.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hr(){return Hr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hr.apply(this,arguments)}var fn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(fn||(fn={}));const ph="popstate";function Xx(e){e===void 0&&(e={});function t(i,s){let{pathname:o="/",search:l="",hash:a=""}=tr(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),tu("",{pathname:o,search:l,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let a=i.location.href,c=a.indexOf("#");l=c===-1?a:a.slice(0,c)}return l+"#"+(typeof s=="string"?s:To(s))}function r(i,s){gc(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return e_(t,n,r,e)}function ve(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function gc(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Zx(){return Math.random().toString(36).substr(2,8)}function mh(e,t){return{usr:e.state,key:e.key,idx:t}}function tu(e,t,n,r){return n===void 0&&(n=null),Hr({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?tr(t):t,{state:n,key:t&&t.key||r||Zx()})}function To(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function tr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function e_(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=fn.Pop,a=null,c=d();c==null&&(c=0,o.replaceState(Hr({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=fn.Pop;let x=d(),m=x==null?null:x-c;c=x,a&&a({action:l,location:w.location,delta:m})}function p(x,m){l=fn.Push;let g=tu(w.location,x,m);n&&n(g,x),c=d()+1;let v=mh(g,c),S=w.createHref(g);try{o.pushState(v,"",S)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(S)}s&&a&&a({action:l,location:w.location,delta:1})}function f(x,m){l=fn.Replace;let g=tu(w.location,x,m);n&&n(g,x),c=d();let v=mh(g,c),S=w.createHref(g);o.replaceState(v,"",S),s&&a&&a({action:l,location:w.location,delta:0})}function y(x){let m=i.location.origin!=="null"?i.location.origin:i.location.href,g=typeof x=="string"?x:To(x);return g=g.replace(/ $/,"%20"),ve(m,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,m)}let w={get action(){return l},get location(){return e(i,o)},listen(x){if(a)throw new Error("A history only accepts one active listener");return i.addEventListener(ph,h),a=x,()=>{i.removeEventListener(ph,h),a=null}},createHref(x){return t(i,x)},createURL:y,encodeLocation(x){let m=y(x);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:p,replace:f,go(x){return o.go(x)}};return w}var gh;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(gh||(gh={}));function t_(e,t,n){return n===void 0&&(n="/"),n_(e,t,n,!1)}function n_(e,t,n,r){let i=typeof t=="string"?tr(t):t,s=Vr(i.pathname||"/",n);if(s==null)return null;let o=lg(e);r_(o);let l=null;for(let a=0;l==null&&a<o.length;++a){let c=p_(s);l=h_(o[a],c,r)}return l}function lg(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let a={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};a.relativePath.startsWith("/")&&(ve(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(r.length));let c=kn([r,a.relativePath]),d=n.concat(a);s.children&&s.children.length>0&&(ve(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),lg(s.children,t,d,c)),!(s.path==null&&!s.index)&&t.push({path:c,score:c_(c,s.index),routesMeta:d})};return e.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let a of ag(s.path))i(s,o,a)}),t}function ag(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=ag(r.join("/")),l=[];return l.push(...o.map(a=>a===""?s:[s,a].join("/"))),i&&l.push(...o),l.map(a=>e.startsWith("/")&&a===""?"/":a)}function r_(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:d_(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const i_=/^:[\w-]+$/,s_=3,o_=2,l_=1,a_=10,u_=-2,yh=e=>e==="*";function c_(e,t){let n=e.split("/"),r=n.length;return n.some(yh)&&(r+=u_),t&&(r+=o_),n.filter(i=>!yh(i)).reduce((i,s)=>i+(i_.test(s)?s_:s===""?l_:a_),r)}function d_(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function h_(e,t,n){let{routesMeta:r}=e,i={},s="/",o=[];for(let l=0;l<r.length;++l){let a=r[l],c=l===r.length-1,d=s==="/"?t:t.slice(s.length)||"/",h=Po({path:a.relativePath,caseSensitive:a.caseSensitive,end:c},d),p=a.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=Po({path:a.relativePath,caseSensitive:a.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:kn([s,h.pathname]),pathnameBase:v_(kn([s,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(s=kn([s,h.pathnameBase]))}return o}function Po(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=f_(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((c,d,h)=>{let{paramName:p,isOptional:f}=d;if(p==="*"){let w=l[h]||"";o=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const y=l[h];return f&&!y?c[p]=void 0:c[p]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:e}}function f_(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),gc(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,a)=>(r.push({paramName:l,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function p_(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return gc(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Vr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function m_(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?tr(e):e;return{pathname:n?n.startsWith("/")?n:g_(n,t):t,search:w_(r),hash:x_(i)}}function g_(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function $l(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function y_(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function ug(e,t){let n=y_(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function cg(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=tr(e):(i=Hr({},e),ve(!i.pathname||!i.pathname.includes("?"),$l("?","pathname","search",i)),ve(!i.pathname||!i.pathname.includes("#"),$l("#","pathname","hash",i)),ve(!i.search||!i.search.includes("#"),$l("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let h=t.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}l=h>=0?t[h]:"/"}let a=m_(i,l),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(c||d)&&(a.pathname+="/"),a}const kn=e=>e.join("/").replace(/\/\/+/g,"/"),v_=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),w_=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,x_=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,__=function(t,n){n===void 0&&(n=302);let r=n;typeof r=="number"?r={status:r}:typeof r.status>"u"&&(r.status=302);let i=new Headers(r.headers);return i.set("Location",t),new Response(null,Hr({},r,{headers:i}))};function k_(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const dg=["post","put","patch","delete"];new Set(dg);const S_=["get",...dg];new Set(S_);/**
 * React Router v6.26.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function es(){return es=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},es.apply(this,arguments)}const rl=_.createContext(null),hg=_.createContext(null),Pn=_.createContext(null),il=_.createContext(null),nr=_.createContext({outlet:null,matches:[],isDataRoute:!1}),fg=_.createContext(null);function j_(e,t){let{relative:n}=t===void 0?{}:t;cs()||ve(!1);let{basename:r,navigator:i}=_.useContext(Pn),{hash:s,pathname:o,search:l}=sl(e,{relative:n}),a=o;return r!=="/"&&(a=o==="/"?r:kn([r,o])),i.createHref({pathname:a,search:l,hash:s})}function cs(){return _.useContext(il)!=null}function ds(){return cs()||ve(!1),_.useContext(il).location}function pg(e){_.useContext(Pn).static||_.useLayoutEffect(e)}function ut(){let{isDataRoute:e}=_.useContext(nr);return e?D_():C_()}function C_(){cs()||ve(!1);let e=_.useContext(rl),{basename:t,future:n,navigator:r}=_.useContext(Pn),{matches:i}=_.useContext(nr),{pathname:s}=ds(),o=JSON.stringify(ug(i,n.v7_relativeSplatPath)),l=_.useRef(!1);return pg(()=>{l.current=!0}),_.useCallback(function(c,d){if(d===void 0&&(d={}),!l.current)return;if(typeof c=="number"){r.go(c);return}let h=cg(c,JSON.parse(o),s,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:kn([t,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[t,r,o,s,e])}function sl(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=_.useContext(Pn),{matches:i}=_.useContext(nr),{pathname:s}=ds(),o=JSON.stringify(ug(i,r.v7_relativeSplatPath));return _.useMemo(()=>cg(e,JSON.parse(o),s,n==="path"),[e,o,s,n])}function E_(e,t){return b_(e,t)}function b_(e,t,n,r){cs()||ve(!1);let{navigator:i}=_.useContext(Pn),{matches:s}=_.useContext(nr),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let c=ds(),d;if(t){var h;let x=typeof t=="string"?tr(t):t;a==="/"||(h=x.pathname)!=null&&h.startsWith(a)||ve(!1),d=x}else d=c;let p=d.pathname||"/",f=p;if(a!=="/"){let x=a.replace(/^\//,"").split("/");f="/"+p.replace(/^\//,"").split("/").slice(x.length).join("/")}let y=t_(e,{pathname:f}),w=O_(y&&y.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:kn([a,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?a:kn([a,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,n,r);return t&&w?_.createElement(il.Provider,{value:{location:es({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:fn.Pop}},w):w}function T_(){let e=F_(),t=k_(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),n?_.createElement("pre",{style:i},n):null,null)}const P_=_.createElement(T_,null);class N_ extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?_.createElement(nr.Provider,{value:this.props.routeContext},_.createElement(fg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function I_(e){let{routeContext:t,match:n,children:r}=e,i=_.useContext(rl);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),_.createElement(nr.Provider,{value:t},r)}function O_(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(i=n)==null?void 0:i.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||ve(!1),o=o.slice(0,Math.min(o.length,d+1))}let a=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:p,errors:f}=n,y=h.route.loader&&p[h.route.id]===void 0&&(!f||f[h.route.id]===void 0);if(h.route.lazy||y){a=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,h,p)=>{let f,y=!1,w=null,x=null;n&&(f=l&&h.route.id?l[h.route.id]:void 0,w=h.route.errorElement||P_,a&&(c<0&&p===0?(y=!0,x=null):c===p&&(y=!0,x=h.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,p+1)),g=()=>{let v;return f?v=w:y?v=x:h.route.Component?v=_.createElement(h.route.Component,null):h.route.element?v=h.route.element:v=d,_.createElement(I_,{match:h,routeContext:{outlet:d,matches:m,isDataRoute:n!=null},children:v})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?_.createElement(N_,{location:n.location,revalidation:n.revalidation,component:w,error:f,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}var mg=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(mg||{}),No=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(No||{});function L_(e){let t=_.useContext(rl);return t||ve(!1),t}function A_(e){let t=_.useContext(hg);return t||ve(!1),t}function R_(e){let t=_.useContext(nr);return t||ve(!1),t}function gg(e){let t=R_(),n=t.matches[t.matches.length-1];return n.route.id||ve(!1),n.route.id}function F_(){var e;let t=_.useContext(fg),n=A_(No.UseRouteError),r=gg(No.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function D_(){let{router:e}=L_(mg.UseNavigateStable),t=gg(No.UseNavigateStable),n=_.useRef(!1);return pg(()=>{n.current=!0}),_.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,es({fromRouteId:t},s)))},[e,t])}function de(e){ve(!1)}function M_(e){let{basename:t="/",children:n=null,location:r,navigationType:i=fn.Pop,navigator:s,static:o=!1,future:l}=e;cs()&&ve(!1);let a=t.replace(/^\/*/,"/"),c=_.useMemo(()=>({basename:a,navigator:s,static:o,future:es({v7_relativeSplatPath:!1},l)}),[a,l,s,o]);typeof r=="string"&&(r=tr(r));let{pathname:d="/",search:h="",hash:p="",state:f=null,key:y="default"}=r,w=_.useMemo(()=>{let x=Vr(d,a);return x==null?null:{location:{pathname:x,search:h,hash:p,state:f,key:y},navigationType:i}},[a,d,h,p,f,y,i]);return w==null?null:_.createElement(Pn.Provider,{value:c},_.createElement(il.Provider,{children:n,value:w}))}function B_(e){let{children:t,location:n}=e;return E_(nu(t),n)}new Promise(()=>{});function nu(e,t){t===void 0&&(t=[]);let n=[];return _.Children.forEach(e,(r,i)=>{if(!_.isValidElement(r))return;let s=[...t,i];if(r.type===_.Fragment){n.push.apply(n,nu(r.props.children,s));return}r.type!==de&&ve(!1),!r.props.index||!r.props.children||ve(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=nu(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.26.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Io(){return Io=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Io.apply(this,arguments)}function yg(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function z_(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function $_(e,t){return e.button===0&&(!t||t==="_self")&&!z_(e)}const U_=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],H_=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],V_="6";try{window.__reactRouterVersion=V_}catch{}const q_=_.createContext({isTransitioning:!1}),W_="startTransition",vh=Oy[W_];function Q_(e){let{basename:t,children:n,future:r,window:i}=e,s=_.useRef();s.current==null&&(s.current=Xx({window:i,v5Compat:!0}));let o=s.current,[l,a]=_.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=_.useCallback(h=>{c&&vh?vh(()=>a(h)):a(h)},[a,c]);return _.useLayoutEffect(()=>o.listen(d),[o,d]),_.createElement(M_,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const K_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",J_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ee=_.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:a,to:c,preventScrollReset:d,unstable_viewTransition:h}=t,p=yg(t,U_),{basename:f}=_.useContext(Pn),y,w=!1;if(typeof c=="string"&&J_.test(c)&&(y=c,K_))try{let v=new URL(window.location.href),S=c.startsWith("//")?new URL(v.protocol+c):new URL(c),E=Vr(S.pathname,f);S.origin===v.origin&&E!=null?c=E+S.search+S.hash:w=!0}catch{}let x=j_(c,{relative:i}),m=Y_(c,{replace:o,state:l,target:a,preventScrollReset:d,relative:i,unstable_viewTransition:h});function g(v){r&&r(v),v.defaultPrevented||m(v)}return _.createElement("a",Io({},p,{href:y||x,onClick:w||s?r:g,ref:n,target:a}))}),Me=_.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:l,to:a,unstable_viewTransition:c,children:d}=t,h=yg(t,H_),p=sl(a,{relative:h.relative}),f=ds(),y=_.useContext(hg),{navigator:w,basename:x}=_.useContext(Pn),m=y!=null&&X_(p)&&c===!0,g=w.encodeLocation?w.encodeLocation(p).pathname:p.pathname,v=f.pathname,S=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;i||(v=v.toLowerCase(),S=S?S.toLowerCase():null,g=g.toLowerCase()),S&&x&&(S=Vr(S,x)||S);const E=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let C=v===g||!o&&v.startsWith(g)&&v.charAt(E)==="/",T=S!=null&&(S===g||!o&&S.startsWith(g)&&S.charAt(g.length)==="/"),I={isActive:C,isPending:T,isTransitioning:m},M=C?r:void 0,R;typeof s=="function"?R=s(I):R=[s,C?"active":null,T?"pending":null,m?"transitioning":null].filter(Boolean).join(" ");let D=typeof l=="function"?l(I):l;return _.createElement(ee,Io({},h,{"aria-current":M,className:R,ref:n,style:D,to:a,unstable_viewTransition:c}),typeof d=="function"?d(I):d)});var ru;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(ru||(ru={}));var wh;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(wh||(wh={}));function G_(e){let t=_.useContext(rl);return t||ve(!1),t}function Y_(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:l}=t===void 0?{}:t,a=ut(),c=ds(),d=sl(e,{relative:o});return _.useCallback(h=>{if($_(h,n)){h.preventDefault();let p=r!==void 0?r:To(c)===To(d);a(e,{replace:p,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:l})}},[c,a,d,r,i,n,e,s,o,l])}function X_(e,t){t===void 0&&(t={});let n=_.useContext(q_);n==null&&ve(!1);let{basename:r}=G_(ru.useViewTransitionState),i=sl(e,{relative:t.relative});if(!n.isTransitioning)return!1;let s=Vr(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Vr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Po(i.pathname,o)!=null||Po(i.pathname,s)!=null}const Z_=()=>{const e=ut();return setTimeout(()=>{e("/account/login")},2e3),u.jsxs(u.Fragment,{children:[u.jsxs("h1",{children:["Your account is confirmed ",u.jsx("sub",{children:"You can now log in."})]}),u.jsx("p",{children:"Redirecting to the login screen..."})]})},ek="Reset password page",tk=()=>{const{userIsLoggedIn:e,setPopupNotification:t,setPopupNotificationShow:n,setNavTitle:r}=_.useContext(z);_.useEffect(()=>{r(ek)},[r]);const i=ut(),[s,o]=_.useState("");e&&i("/dashboard");const[l,a]=_.useState(!0);async function c(){const f=nt(window.location.href,"token"),y=nt(window.location.href,"type"),w=nt(window.location.href,"email");if(y==="recovery"&&f!==null){const{data:x,error:m}=await Z.auth.verifyOtp({email:w,token:f,type:"email"});m?o(m.message):localStorage.setItem("supabaseSession",JSON.stringify(x.session)),a(!1)}}_.useEffect(()=>{l&&(c(),a(!1))},[l]);function d(){setTimeout(()=>i("/dashboard"),1e3)}const h=async f=>{const{error:y}=await Z.auth.updateUser({password:f});y?o(y.message):(t("Password updated..."),n(!0),setTimeout(()=>d(),800))};function p(f){if(f.preventDefault(),f.currentTarget.account_password.value===f.currentTarget.account_password_again.value){const y=f.currentTarget.account_password.value.trim();h(y)}else o("Passwords do not match, try again")}return l?u.jsx("p",{children:"Loading..."}):u.jsxs(u.Fragment,{children:[u.jsxs("h1",{id:"welcome",children:[u.jsx("img",{id:"welcome-logo-img",src:"img/logo.svg",alt:""})," MuBooks"]}),u.jsx("div",{children:u.jsxs("div",{className:"card",children:[u.jsxs("header",{children:["Reset your password",u.jsx("sub",{children:"Fill in your new password twice and submit to activate it"})]}),u.jsx("main",{children:u.jsxs("form",{onSubmit:p,children:[u.jsxs("label",{htmlFor:"account_password",children:[u.jsx("div",{className:"description",children:"New password"}),u.jsx("input",{type:"password",id:"account_password",name:"account_password",defaultValue:"",required:!0})]}),u.jsxs("label",{htmlFor:"account_password",children:[u.jsx("div",{className:"description",children:"New password again"}),u.jsx("input",{type:"password",id:"account_password_again",name:"account_password_again",defaultValue:"",required:!0})]}),u.jsxs("div",{className:s!==""?"dblock error":"dblock",children:[s," "]}),u.jsx("button",{children:"Save new password and login"})]})}),u.jsx("footer",{children:u.jsx(ee,{to:"/account/login",children:"Login without changing password."})})]})})]})},nk=()=>{const{usermail:e}=_.useContext(z),t=e;return u.jsxs(u.Fragment,{children:[u.jsx("h1",{children:"Check your email"}),u.jsxs("p",{children:["You should receive an email on ",u.jsx("strong",{children:u.jsx("u",{children:t})})," containing a link to confirm your account, click it."]})]})},rk="Check Mail Password Page",ik=()=>{const{usermail:e,userIsLoggedIn:t,setNavTitle:n}=_.useContext(z),r=e;return _.useEffect(()=>{n(rk),t&&__("/dashboard")},[n,t]),e!==""&&!t?u.jsxs(u.Fragment,{children:[u.jsx("h1",{children:"Check your email"}),u.jsxs("p",{children:[u.jsx("span",{children:"You should receive an email on"})," ",u.jsx("strong",{children:u.jsx("u",{children:r})}),u.jsx("span",{children:" containing a link to reset your password, click it."})]})]}):t?u.jsxs(u.Fragment,{children:[u.jsx("h1",{children:"Not so fast!"}),u.jsxs("p",{children:["You're already logged in, do you want to ",u.jsx(ee,{to:"/dashboard",children:"return to your dashboard"})," or see ",u.jsx(ee,{to:"/account/profile",children:"your profile here"}),"?"]})]}):u.jsxs(u.Fragment,{children:[u.jsx("h1",{children:"New here?"}),u.jsxs("p",{children:["Are you trying to reset your password or log in?",u.jsx("br",{}),u.jsx(ee,{to:"/account/login",children:"Click here to go to the login screen"}),"."]})]})};async function sk(e){const{setUserMyBooks:t,setPopupNotification:n,userid:r}=_.useContext(z);let i;t(e);const{error:s}=await Z.from("user_entries").update({json:e}).eq("user_id",r).select();s?(i="Error, data was not changed",console.log("error:",s)):i="Updated Mu Books.",n(i)}const ok="Clear all saved books",lk=()=>{const{setUserMyBooks:e,setNavTitle:t}=_.useContext(z);_.useEffect(()=>{t(ok)},[t]);function n(){sk([]),e([])}return u.jsx(u.Fragment,{children:u.jsx("button",{onClick:n,children:"Clear my books"})})},ak=()=>{const{userMyBooks:e}=_.useContext(z),t=e.filter(l=>l.review_fav_quote&&l.review_fav_quote.length>4&&l.author_name&&l.title),[n,r]=_.useState(!1),i=Math.floor(Math.random()*t.length),[s,o]=_.useState();return _.useEffect(()=>{t[i]&&n===!1&&(o({title:t[i].title,quote:t[i].review_fav_quote,authors:t[i].author_name.join(",")}),r(!0))},[i,t,n]),u.jsx(u.Fragment,{children:s&&u.jsxs("article",{className:"quote",children:[u.jsx("main",{children:s.quote&&s.quote}),u.jsxs("footer",{children:[s.title,", ",s.authors]})]})})},Oi=e=>e===1?"wishlist":e===2?"reading":e===3?"finished":e===4?"favorite":(console.error("No list name? There must be something wrong..."),"none");function cn(e,t){const n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];let r,i=0,s="",o=0,l=0;typeof e=="number"&&e<22221100?(r=e.toString().split(""),i=+(r[4]+""+r[5]),o=+(r[0]+""+r[1]+r[2]+r[3]),l=+(r[6]+""+r[7]),s=n[i-1]):typeof e=="number"&&e>22221100?(r=new Date(e),i=r.getMonth()+1,o=r.getFullYear(),l=r.getDate(),s=n[i]):typeof e=="string"&&(r=e.split("-"),i=Number(r[1]),o=Number(r[0]),l=Number(r[2]),s=n[i-1]);let a=l,c=i;switch(Number(a)<10&&(a="0"+l.toString()),Number(c)<10&&(c="0"+i.toString()),t){case"human":return l+" "+s+" "+o;case"digit":return o+""+c+a;case"input":return o+"-"+c+"-"+a}}function iu(e,t){if(e!==void 0){const n=new Date(e),r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],i=n.getFullYear(),s=n.getMonth()+1,o=r[s],l=n.getDate();let a=l,c=s;switch(a<9&&(a="0"+l.toString()),c<9&&(c="0"+s.toString()),t){case"input":return i+"-"+c+"-"+a;case"human":return l+" "+o+" "+i;case"digit":return i+""+c+a}}return""}const ci=(e,t,n=!1)=>{const{userid:r,userMyBooks:i,setUserMyBooks:s,setPopupNotification:o}=_.useContext(z);function l(p,f=p.list){p.title.length>55?p.title_short=p.title.slice(0,55)+"...":p.title_short=p.title;let y=i;const w=Number(cn(Date.now(),"digit"));let x=0;t>1&&(x=w);let m=0;return t>2&&(m=w),y===null&&(y=[]),y.push({author_key:p.author_key,author_name:p.author_name,cover:p.cover,cover_edition_key:p.cover_edition_key,date_finished:m,date_reading:x,first_publish_year:p.first_publish_year,id:p.id,img:p.img,list:f,number_of_pages_median:p.number_of_pages_median,rate_spice:0,rate_stars:0,review_fav_quote:"",review_text:"",review_tropes:[],title:p.title,title_short:p.title_short}),y}async function a(p){let f;s(p);const{error:y}=await Z.from("user_entries").update({json:p,testdata:"updated from AddBookToXButton"}).eq("user_id",r).select("*");y?f=y.message:f="Added "+e.title_short+" to "+Oi(t),o(f)}function c(p,f){let y;i===void 0?y=[]:y=i;let w=!1;for(let m=0;m<y.length;m++)y[m].id===p.id&&(w=!0,y[m].list=f,f===2&&(y[m].date_reading=Number(iu(Date.now(),"digit"))),f===3&&(y[m].date_finished=Number(iu(Date.now(),"digit"))));let x;return w===!1?x=l(p,f):x=y,a(x),x}function d(){const p=c(e,t);s(p)}const h="icon icon-"+Oi(t);return n&&t===4?u.jsx("span",{className:"icon-heart inactive",onClick:d}):u.jsx("div",{className:"mark",children:u.jsxs("button",{className:"btn-text",onClick:d,children:[u.jsx("span",{className:h}),"Add to ",Oi(t)]})})};function uk(e){return e.author_name.map((t,n)=>{const r=e.id+"-"+n;return u.jsxs("span",{id:r,children:[t,u.jsx("br",{})]},r)})}const ck=({date_started:e,date_finished:t,bookid:n,list:r})=>{const{userMyBooks:i,setUserMyBooks:s,setPopupNotification:o,userid:l,todaysDateInput:a}=_.useContext(z),[c,d]=_.useState(e),[h,p]=_.useState(t);async function f(x){let m;s(x);const{error:g}=await Z.from("user_entries").update({json:x}).eq("user_id",l).select();g?(m="Error, date was not changed",console.log("error:",g)):m="Changed the date.",o(m)}function y(x,m){x==="date_reading"?d(m):x==="date_finished"&&p(m);let g;i===void 0?g=[]:g=i;for(let S=0;S<g.length;S++)g[S].id===n&&(x==="date_reading"&&(g[S].date_reading=m),x==="date_finished"&&(g[S].date_finished=m,g[S].date_finished===null&&g[S].list>2&&(g[S].list=2)));f(g)}function w(x){if(document.getElementById(x+n)===null)return;const m=x+n,g=document.getElementById(m).value.split("-"),v=parseInt(g[0]+g[1]+g[2],10);y(x,v)}return _.useEffect(()=>{c&&(document.getElementById("date_reading"+n).value=cn(c,"input")),h&&(document.getElementById("date_finished"+n).value=cn(h,"input"))},[c,h,n]),u.jsx("div",{className:"book-started-finished",children:u.jsxs("div",{children:[u.jsxs("em",{className:"btn-text",children:[u.jsx("span",{className:"icon icon-reading"}),u.jsx("button",{className:"btn-calendar btn-text",onClick:()=>hh("date_reading"+n),children:c&&cn(c,"human")})]}),u.jsx("input",{tabIndex:-1,id:"date_reading"+n,name:"date_reading"+n,type:"date",max:a,className:"calendar-hidden",onChange:dh(()=>w("date_reading"),100)}),r>2&&u.jsxs(u.Fragment,{children:[u.jsxs("em",{className:"btn-text",children:[u.jsx("span",{className:"icon icon-finished"}),u.jsx("button",{className:"btn-calendar btn-text",onClick:()=>hh("date_finished"+n),children:h&&cn(h,"human")})]}),u.jsx("input",{tabIndex:-1,id:"date_finished"+n,name:"date_finished"+n,type:"date",min:e&&cn(e,"input"),max:a,className:"calendar-hidden",onChange:dh(()=>w("date_finished"),1e3)})]})]})})};function dk(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const hk=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,fk=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,pk={};function xh(e,t){return(pk.jsx?fk:hk).test(e)}const mk=/[ \t\n\f\r]/g;function gk(e){return typeof e=="object"?e.type==="text"?_h(e.value):!1:_h(e)}function _h(e){return e.replace(mk,"")===""}class hs{constructor(t,n,r){this.property=t,this.normal=n,r&&(this.space=r)}}hs.prototype.property={};hs.prototype.normal={};hs.prototype.space=null;function vg(e,t){const n={},r={};let i=-1;for(;++i<e.length;)Object.assign(n,e[i].property),Object.assign(r,e[i].normal);return new hs(n,r,t)}function su(e){return e.toLowerCase()}class vt{constructor(t,n){this.property=t,this.attribute=n}}vt.prototype.space=null;vt.prototype.boolean=!1;vt.prototype.booleanish=!1;vt.prototype.overloadedBoolean=!1;vt.prototype.number=!1;vt.prototype.commaSeparated=!1;vt.prototype.spaceSeparated=!1;vt.prototype.commaOrSpaceSeparated=!1;vt.prototype.mustUseProperty=!1;vt.prototype.defined=!1;let yk=0;const H=rr(),ke=rr(),wg=rr(),N=rr(),se=rr(),Ir=rr(),Ze=rr();function rr(){return 2**++yk}const ou=Object.freeze(Object.defineProperty({__proto__:null,boolean:H,booleanish:ke,commaOrSpaceSeparated:Ze,commaSeparated:Ir,number:N,overloadedBoolean:wg,spaceSeparated:se},Symbol.toStringTag,{value:"Module"})),Ul=Object.keys(ou);class yc extends vt{constructor(t,n,r,i){let s=-1;if(super(t,n),kh(this,"space",i),typeof r=="number")for(;++s<Ul.length;){const o=Ul[s];kh(this,Ul[s],(r&ou[o])===ou[o])}}}yc.prototype.defined=!0;function kh(e,t,n){n&&(e[t]=n)}const vk={}.hasOwnProperty;function Jr(e){const t={},n={};let r;for(r in e.properties)if(vk.call(e.properties,r)){const i=e.properties[r],s=new yc(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[su(r)]=r,n[su(s.attribute)]=r}return new hs(t,n,e.space)}const xg=Jr({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),_g=Jr({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function kg(e,t){return t in e?e[t]:t}function Sg(e,t){return kg(e,t.toLowerCase())}const jg=Jr({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:Sg,properties:{xmlns:null,xmlnsXLink:null}}),Cg=Jr({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:ke,ariaAutoComplete:null,ariaBusy:ke,ariaChecked:ke,ariaColCount:N,ariaColIndex:N,ariaColSpan:N,ariaControls:se,ariaCurrent:null,ariaDescribedBy:se,ariaDetails:null,ariaDisabled:ke,ariaDropEffect:se,ariaErrorMessage:null,ariaExpanded:ke,ariaFlowTo:se,ariaGrabbed:ke,ariaHasPopup:null,ariaHidden:ke,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:se,ariaLevel:N,ariaLive:null,ariaModal:ke,ariaMultiLine:ke,ariaMultiSelectable:ke,ariaOrientation:null,ariaOwns:se,ariaPlaceholder:null,ariaPosInSet:N,ariaPressed:ke,ariaReadOnly:ke,ariaRelevant:null,ariaRequired:ke,ariaRoleDescription:se,ariaRowCount:N,ariaRowIndex:N,ariaRowSpan:N,ariaSelected:ke,ariaSetSize:N,ariaSort:null,ariaValueMax:N,ariaValueMin:N,ariaValueNow:N,ariaValueText:null,role:null}}),wk=Jr({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:Sg,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Ir,acceptCharset:se,accessKey:se,action:null,allow:null,allowFullScreen:H,allowPaymentRequest:H,allowUserMedia:H,alt:null,as:null,async:H,autoCapitalize:null,autoComplete:se,autoFocus:H,autoPlay:H,blocking:se,capture:null,charSet:null,checked:H,cite:null,className:se,cols:N,colSpan:null,content:null,contentEditable:ke,controls:H,controlsList:se,coords:N|Ir,crossOrigin:null,data:null,dateTime:null,decoding:null,default:H,defer:H,dir:null,dirName:null,disabled:H,download:wg,draggable:ke,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:H,formTarget:null,headers:se,height:N,hidden:H,high:N,href:null,hrefLang:null,htmlFor:se,httpEquiv:se,id:null,imageSizes:null,imageSrcSet:null,inert:H,inputMode:null,integrity:null,is:null,isMap:H,itemId:null,itemProp:se,itemRef:se,itemScope:H,itemType:se,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:H,low:N,manifest:null,max:null,maxLength:N,media:null,method:null,min:null,minLength:N,multiple:H,muted:H,name:null,nonce:null,noModule:H,noValidate:H,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:H,optimum:N,pattern:null,ping:se,placeholder:null,playsInline:H,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:H,referrerPolicy:null,rel:se,required:H,reversed:H,rows:N,rowSpan:N,sandbox:se,scope:null,scoped:H,seamless:H,selected:H,shadowRootClonable:H,shadowRootDelegatesFocus:H,shadowRootMode:null,shape:null,size:N,sizes:null,slot:null,span:N,spellCheck:ke,src:null,srcDoc:null,srcLang:null,srcSet:null,start:N,step:null,style:null,tabIndex:N,target:null,title:null,translate:null,type:null,typeMustMatch:H,useMap:null,value:ke,width:N,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:se,axis:null,background:null,bgColor:null,border:N,borderColor:null,bottomMargin:N,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:H,declare:H,event:null,face:null,frame:null,frameBorder:null,hSpace:N,leftMargin:N,link:null,longDesc:null,lowSrc:null,marginHeight:N,marginWidth:N,noResize:H,noHref:H,noShade:H,noWrap:H,object:null,profile:null,prompt:null,rev:null,rightMargin:N,rules:null,scheme:null,scrolling:ke,standby:null,summary:null,text:null,topMargin:N,valueType:null,version:null,vAlign:null,vLink:null,vSpace:N,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:H,disableRemotePlayback:H,prefix:null,property:null,results:N,security:null,unselectable:null}}),xk=Jr({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:kg,properties:{about:Ze,accentHeight:N,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:N,amplitude:N,arabicForm:null,ascent:N,attributeName:null,attributeType:null,azimuth:N,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:N,by:null,calcMode:null,capHeight:N,className:se,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:N,diffuseConstant:N,direction:null,display:null,dur:null,divisor:N,dominantBaseline:null,download:H,dx:null,dy:null,edgeMode:null,editable:null,elevation:N,enableBackground:null,end:null,event:null,exponent:N,externalResourcesRequired:null,fill:null,fillOpacity:N,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Ir,g2:Ir,glyphName:Ir,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:N,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:N,horizOriginX:N,horizOriginY:N,id:null,ideographic:N,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:N,k:N,k1:N,k2:N,k3:N,k4:N,kernelMatrix:Ze,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:N,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:N,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:N,overlineThickness:N,paintOrder:null,panose1:null,path:null,pathLength:N,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:se,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:N,pointsAtY:N,pointsAtZ:N,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Ze,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Ze,rev:Ze,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Ze,requiredFeatures:Ze,requiredFonts:Ze,requiredFormats:Ze,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:N,specularExponent:N,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:N,strikethroughThickness:N,string:null,stroke:null,strokeDashArray:Ze,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:N,strokeOpacity:N,strokeWidth:null,style:null,surfaceScale:N,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Ze,tabIndex:N,tableValues:null,target:null,targetX:N,targetY:N,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Ze,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:N,underlineThickness:N,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:N,values:null,vAlphabetic:N,vMathematical:N,vectorEffect:null,vHanging:N,vIdeographic:N,version:null,vertAdvY:N,vertOriginX:N,vertOriginY:N,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:N,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),_k=/^data[-\w.:]+$/i,Sh=/-[a-z]/g,kk=/[A-Z]/g;function Sk(e,t){const n=su(t);let r=t,i=vt;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&_k.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(Sh,Ck);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!Sh.test(s)){let o=s.replace(kk,jk);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=yc}return new i(r,t)}function jk(e){return"-"+e.toLowerCase()}function Ck(e){return e.charAt(1).toUpperCase()}const Ek={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},bk=vg([_g,xg,jg,Cg,wk],"html"),vc=vg([_g,xg,jg,Cg,xk],"svg");function Tk(e){return e.join(" ").trim()}var Eg={},jh=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,Pk=/\n/g,Nk=/^\s*/,Ik=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,Ok=/^:\s*/,Lk=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Ak=/^[;\s]*/,Rk=/^\s+|\s+$/g,Fk=`
`,Ch="/",Eh="*",Bn="",Dk="comment",Mk="declaration",Bk=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(y){var w=y.match(Pk);w&&(n+=w.length);var x=y.lastIndexOf(Fk);r=~x?y.length-x:r+y.length}function s(){var y={line:n,column:r};return function(w){return w.position=new o(y),c(),w}}function o(y){this.start=y,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function l(y){var w=new Error(t.source+":"+n+":"+r+": "+y);if(w.reason=y,w.filename=t.source,w.line=n,w.column=r,w.source=e,!t.silent)throw w}function a(y){var w=y.exec(e);if(w){var x=w[0];return i(x),e=e.slice(x.length),w}}function c(){a(Nk)}function d(y){var w;for(y=y||[];w=h();)w!==!1&&y.push(w);return y}function h(){var y=s();if(!(Ch!=e.charAt(0)||Eh!=e.charAt(1))){for(var w=2;Bn!=e.charAt(w)&&(Eh!=e.charAt(w)||Ch!=e.charAt(w+1));)++w;if(w+=2,Bn===e.charAt(w-1))return l("End of comment missing");var x=e.slice(2,w-2);return r+=2,i(x),e=e.slice(w),r+=2,y({type:Dk,comment:x})}}function p(){var y=s(),w=a(Ik);if(w){if(h(),!a(Ok))return l("property missing ':'");var x=a(Lk),m=y({type:Mk,property:bh(w[0].replace(jh,Bn)),value:x?bh(x[0].replace(jh,Bn)):Bn});return a(Ak),m}}function f(){var y=[];d(y);for(var w;w=p();)w!==!1&&(y.push(w),d(y));return y}return c(),f()};function bh(e){return e?e.replace(Rk,Bn):Bn}var zk=Ye&&Ye.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Eg,"__esModule",{value:!0});var $k=zk(Bk);function Uk(e,t){var n=null;if(!e||typeof e!="string")return n;var r=(0,$k.default)(e),i=typeof t=="function";return r.forEach(function(s){if(s.type==="declaration"){var o=s.property,l=s.value;i?t(o,l,s):l&&(n=n||{},n[o]=l)}}),n}var Th=Eg.default=Uk;const Hk=Th.default||Th,bg=Tg("end"),wc=Tg("start");function Tg(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Vk(e){const t=wc(e),n=bg(e);if(t&&n)return{start:t,end:n}}function Li(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Ph(e.position):"start"in e||"end"in e?Ph(e):"line"in e||"column"in e?lu(e):""}function lu(e){return Nh(e&&e.line)+":"+Nh(e&&e.column)}function Ph(e){return lu(e&&e.start)+"-"+lu(e&&e.end)}function Nh(e){return e&&typeof e=="number"?e:1}class De extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof t=="string"?i=t:!s.cause&&t&&(o=!0,i=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof r=="string"){const a=r.indexOf(":");a===-1?s.ruleId=r:(s.source=r.slice(0,a),s.ruleId=r.slice(a+1))}if(!s.place&&s.ancestors&&s.ancestors){const a=s.ancestors[s.ancestors.length-1];a&&(s.place=a.position)}const l=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=l?l.line:void 0,this.name=Li(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual,this.expected,this.note,this.url}}De.prototype.file="";De.prototype.name="";De.prototype.reason="";De.prototype.message="";De.prototype.stack="";De.prototype.column=void 0;De.prototype.line=void 0;De.prototype.ancestors=void 0;De.prototype.cause=void 0;De.prototype.fatal=void 0;De.prototype.place=void 0;De.prototype.ruleId=void 0;De.prototype.source=void 0;const xc={}.hasOwnProperty,qk=new Map,Wk=/[A-Z]/g,Qk=/-([a-z])/g,Kk=new Set(["table","tbody","thead","tfoot","tr"]),Jk=new Set(["td","th"]),Pg="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Gk(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=i1(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=r1(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?vc:bk,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=Ng(i,e,void 0);return s&&typeof s!="string"?s:i.create(e,i.Fragment,{children:s||void 0},void 0)}function Ng(e,t,n){if(t.type==="element")return Yk(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return Xk(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return e1(e,t,n);if(t.type==="mdxjsEsm")return Zk(e,t);if(t.type==="root")return t1(e,t,n);if(t.type==="text")return n1(e,t)}function Yk(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=vc,e.schema=i),e.ancestors.push(t);const s=Og(e,t.tagName,!1),o=s1(e,t);let l=kc(e,t);return Kk.has(t.tagName)&&(l=l.filter(function(a){return typeof a=="string"?!gk(a):!0})),Ig(e,o,s,t),_c(o,l),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}function Xk(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}ts(e,t.position)}function Zk(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);ts(e,t.position)}function e1(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=vc,e.schema=i),e.ancestors.push(t);const s=t.name===null?e.Fragment:Og(e,t.name,!0),o=o1(e,t),l=kc(e,t);return Ig(e,o,s,t),_c(o,l),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}function t1(e,t,n){const r={};return _c(r,kc(e,t)),e.create(t,e.Fragment,r,n)}function n1(e,t){return t.value}function Ig(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function _c(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function r1(e,t,n){return r;function r(i,s,o,l){const c=Array.isArray(o.children)?n:t;return l?c(s,o,l):c(s,o)}}function i1(e,t){return n;function n(r,i,s,o){const l=Array.isArray(s.children),a=wc(r);return t(i,s,o,l,{columnNumber:a?a.column-1:void 0,fileName:e,lineNumber:a?a.line:void 0},void 0)}}function s1(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&xc.call(t.properties,i)){const s=l1(e,i,t.properties[i]);if(s){const[o,l]=s;e.tableCellAlignToStyle&&o==="align"&&typeof l=="string"&&Jk.has(t.tagName)?r=l:n[o]=l}}if(r){const s=n.style||(n.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function o1(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const s=r.data.estree.body[0];s.type;const o=s.expression;o.type;const l=o.properties[0];l.type,Object.assign(n,e.evaluater.evaluateExpression(l.argument))}else ts(e,t.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const l=r.value.data.estree.body[0];l.type,s=e.evaluater.evaluateExpression(l.expression)}else ts(e,t.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function kc(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:qk;for(;++r<t.children.length;){const s=t.children[r];let o;if(e.passKeys){const a=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(a){const c=i.get(a)||0;o=a+"-"+c,i.set(a,c+1)}}const l=Ng(e,s,o);l!==void 0&&n.push(l)}return n}function l1(e,t,n){const r=Sk(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?dk(n):Tk(n)),r.property==="style"){let i=typeof n=="object"?n:a1(e,String(n));return e.stylePropertyNameCase==="css"&&(i=u1(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?Ek[r.property]||r.property:r.attribute,n]}}function a1(e,t){const n={};try{Hk(t,r)}catch(i){if(!e.ignoreInvalidStyle){const s=i,o=new De("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:s,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw o.file=e.filePath||void 0,o.url=Pg+"#cannot-parse-style-attribute",o}}return n;function r(i,s){let o=i;o.slice(0,2)!=="--"&&(o.slice(0,4)==="-ms-"&&(o="ms-"+o.slice(4)),o=o.replace(Qk,d1)),n[o]=s}}function Og(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let s=-1,o;for(;++s<i.length;){const l=xh(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};o=o?{type:"MemberExpression",object:o,property:l,computed:!!(s&&l.type==="Literal"),optional:!1}:l}r=o}else r=xh(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return xc.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);ts(e)}function ts(e,t){const n=new De("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=Pg+"#cannot-handle-mdx-estrees-without-createevaluater",n}function u1(e){const t={};let n;for(n in e)xc.call(e,n)&&(t[c1(n)]=e[n]);return t}function c1(e){let t=e.replace(Wk,h1);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function d1(e,t){return t.toUpperCase()}function h1(e){return"-"+e.toLowerCase()}const Hl={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},f1={};function p1(e,t){const n=f1,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Lg(e,r,i)}function Lg(e,t,n){if(m1(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Ih(e.children,t,n)}return Array.isArray(e)?Ih(e,t,n):""}function Ih(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=Lg(e[i],t,n);return r.join("")}function m1(e){return!!(e&&typeof e=="object")}const Oh=document.createElement("i");function Sc(e){const t="&"+e+";";Oh.innerHTML=t;const n=Oh.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Jt(e,t,n,r){const i=e.length;let s=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(t,0),e.splice(...o),s+=1e4,t+=1e4}function ht(e,t){return e.length>0?(Jt(e,e.length,0,t),e):t}const Lh={}.hasOwnProperty;function g1(e){const t={};let n=-1;for(;++n<e.length;)y1(t,e[n]);return t}function y1(e,t){let n;for(n in t){const i=(Lh.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let o;if(s)for(o in s){Lh.call(i,o)||(i[o]=[]);const l=s[o];v1(i[o],Array.isArray(l)?l:l?[l]:[])}}}function v1(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Jt(e,0,0,r)}function Ag(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function Or(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Rt=Nn(/[A-Za-z]/),it=Nn(/[\dA-Za-z]/),w1=Nn(/[#-'*+\--9=?A-Z^-~]/);function au(e){return e!==null&&(e<32||e===127)}const uu=Nn(/\d/),x1=Nn(/[\dA-Fa-f]/),_1=Nn(/[!-/:-@[-`{-~]/);function $(e){return e!==null&&e<-2}function Ge(e){return e!==null&&(e<0||e===32)}function X(e){return e===-2||e===-1||e===32}const k1=Nn(new RegExp("\\p{P}|\\p{S}","u")),S1=Nn(/\s/);function Nn(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Gr(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let o="";if(s===37&&it(e.charCodeAt(n+1))&&it(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const l=e.charCodeAt(n+1);s<56320&&l>56319&&l<57344?(o=String.fromCharCode(s,l),i=1):o="�"}else o=String.fromCharCode(s);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function le(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(a){return X(a)?(e.enter(n),l(a)):t(a)}function l(a){return X(a)&&s++<i?(e.consume(a),l):(e.exit(n),t(a))}}const j1={tokenize:C1};function C1(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),le(e,t,"linePrefix")}function i(l){return e.enter("paragraph"),s(l)}function s(l){const a=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=a),n=a,o(l)}function o(l){if(l===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(l);return}return $(l)?(e.consume(l),e.exit("chunkText"),s):(e.consume(l),o)}}const E1={tokenize:b1},Ah={tokenize:T1};function b1(e){const t=this,n=[];let r=0,i,s,o;return l;function l(v){if(r<n.length){const S=n[r];return t.containerState=S[1],e.attempt(S[0].continuation,a,c)(v)}return c(v)}function a(v){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&g();const S=t.events.length;let E=S,C;for(;E--;)if(t.events[E][0]==="exit"&&t.events[E][1].type==="chunkFlow"){C=t.events[E][1].end;break}m(r);let T=S;for(;T<t.events.length;)t.events[T][1].end=Object.assign({},C),T++;return Jt(t.events,E+1,0,t.events.slice(S)),t.events.length=T,c(v)}return l(v)}function c(v){if(r===n.length){if(!i)return p(v);if(i.currentConstruct&&i.currentConstruct.concrete)return y(v);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Ah,d,h)(v)}function d(v){return i&&g(),m(r),p(v)}function h(v){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,y(v)}function p(v){return t.containerState={},e.attempt(Ah,f,y)(v)}function f(v){return r++,n.push([t.currentConstruct,t.containerState]),p(v)}function y(v){if(v===null){i&&g(),m(0),e.consume(v);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:s,_tokenizer:i}),w(v)}function w(v){if(v===null){x(e.exit("chunkFlow"),!0),m(0),e.consume(v);return}return $(v)?(e.consume(v),x(e.exit("chunkFlow")),r=0,t.interrupt=void 0,l):(e.consume(v),w)}function x(v,S){const E=t.sliceStream(v);if(S&&E.push(null),v.previous=s,s&&(s.next=v),s=v,i.defineSkip(v.start),i.write(E),t.parser.lazy[v.start.line]){let C=i.events.length;for(;C--;)if(i.events[C][1].start.offset<o&&(!i.events[C][1].end||i.events[C][1].end.offset>o))return;const T=t.events.length;let I=T,M,R;for(;I--;)if(t.events[I][0]==="exit"&&t.events[I][1].type==="chunkFlow"){if(M){R=t.events[I][1].end;break}M=!0}for(m(r),C=T;C<t.events.length;)t.events[C][1].end=Object.assign({},R),C++;Jt(t.events,I+1,0,t.events.slice(T)),t.events.length=C}}function m(v){let S=n.length;for(;S-- >v;){const E=n[S];t.containerState=E[1],E[0].exit.call(t,e)}n.length=v}function g(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function T1(e,t,n){return le(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Rh(e){if(e===null||Ge(e)||S1(e))return 1;if(k1(e))return 2}function jc(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const cu={name:"attention",tokenize:N1,resolveAll:P1};function P1(e,t){let n=-1,r,i,s,o,l,a,c,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;a=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const h=Object.assign({},e[r][1].end),p=Object.assign({},e[n][1].start);Fh(h,-a),Fh(p,a),o={type:a>1?"strongSequence":"emphasisSequence",start:h,end:Object.assign({},e[r][1].end)},l={type:a>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[n][1].start),end:p},s={type:a>1?"strongText":"emphasisText",start:Object.assign({},e[r][1].end),end:Object.assign({},e[n][1].start)},i={type:a>1?"strong":"emphasis",start:Object.assign({},o.start),end:Object.assign({},l.end)},e[r][1].end=Object.assign({},o.start),e[n][1].start=Object.assign({},l.end),c=[],e[r][1].end.offset-e[r][1].start.offset&&(c=ht(c,[["enter",e[r][1],t],["exit",e[r][1],t]])),c=ht(c,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",s,t]]),c=ht(c,jc(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),c=ht(c,[["exit",s,t],["enter",l,t],["exit",l,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,c=ht(c,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,Jt(e,r-1,n-r+3,c),n=r+c.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function N1(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Rh(r);let s;return o;function o(a){return s=a,e.enter("attentionSequence"),l(a)}function l(a){if(a===s)return e.consume(a),l;const c=e.exit("attentionSequence"),d=Rh(a),h=!d||d===2&&i||n.includes(a),p=!i||i===2&&d||n.includes(r);return c._open=!!(s===42?h:h&&(i||!p)),c._close=!!(s===42?p:p&&(d||!h)),t(a)}}function Fh(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const I1={name:"autolink",tokenize:O1};function O1(e,t,n){let r=0;return i;function i(f){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(f){return Rt(f)?(e.consume(f),o):f===64?n(f):c(f)}function o(f){return f===43||f===45||f===46||it(f)?(r=1,l(f)):c(f)}function l(f){return f===58?(e.consume(f),r=0,a):(f===43||f===45||f===46||it(f))&&r++<32?(e.consume(f),l):(r=0,c(f))}function a(f){return f===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.exit("autolink"),t):f===null||f===32||f===60||au(f)?n(f):(e.consume(f),a)}function c(f){return f===64?(e.consume(f),d):w1(f)?(e.consume(f),c):n(f)}function d(f){return it(f)?h(f):n(f)}function h(f){return f===46?(e.consume(f),r=0,d):f===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.exit("autolink"),t):p(f)}function p(f){if((f===45||it(f))&&r++<63){const y=f===45?p:h;return e.consume(f),y}return n(f)}}const ol={tokenize:L1,partial:!0};function L1(e,t,n){return r;function r(s){return X(s)?le(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||$(s)?t(s):n(s)}}const Rg={name:"blockQuote",tokenize:A1,continuation:{tokenize:R1},exit:F1};function A1(e,t,n){const r=this;return i;function i(o){if(o===62){const l=r.containerState;return l.open||(e.enter("blockQuote",{_container:!0}),l.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),s}return n(o)}function s(o){return X(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function R1(e,t,n){const r=this;return i;function i(o){return X(o)?le(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return e.attempt(Rg,t,n)(o)}}function F1(e){e.exit("blockQuote")}const Fg={name:"characterEscape",tokenize:D1};function D1(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return _1(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const Dg={name:"characterReference",tokenize:M1};function M1(e,t,n){const r=this;let i=0,s,o;return l;function l(h){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),a}function a(h){return h===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(h),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),s=31,o=it,d(h))}function c(h){return h===88||h===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(h),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,o=x1,d):(e.enter("characterReferenceValue"),s=7,o=uu,d(h))}function d(h){if(h===59&&i){const p=e.exit("characterReferenceValue");return o===it&&!Sc(r.sliceSerialize(p))?n(h):(e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(h)&&i++<s?(e.consume(h),d):n(h)}}const Dh={tokenize:z1,partial:!0},Mh={name:"codeFenced",tokenize:B1,concrete:!0};function B1(e,t,n){const r=this,i={tokenize:E,partial:!0};let s=0,o=0,l;return a;function a(C){return c(C)}function c(C){const T=r.events[r.events.length-1];return s=T&&T[1].type==="linePrefix"?T[2].sliceSerialize(T[1],!0).length:0,l=C,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(C)}function d(C){return C===l?(o++,e.consume(C),d):o<3?n(C):(e.exit("codeFencedFenceSequence"),X(C)?le(e,h,"whitespace")(C):h(C))}function h(C){return C===null||$(C)?(e.exit("codeFencedFence"),r.interrupt?t(C):e.check(Dh,w,S)(C)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),p(C))}function p(C){return C===null||$(C)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),h(C)):X(C)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),le(e,f,"whitespace")(C)):C===96&&C===l?n(C):(e.consume(C),p)}function f(C){return C===null||$(C)?h(C):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),y(C))}function y(C){return C===null||$(C)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),h(C)):C===96&&C===l?n(C):(e.consume(C),y)}function w(C){return e.attempt(i,S,x)(C)}function x(C){return e.enter("lineEnding"),e.consume(C),e.exit("lineEnding"),m}function m(C){return s>0&&X(C)?le(e,g,"linePrefix",s+1)(C):g(C)}function g(C){return C===null||$(C)?e.check(Dh,w,S)(C):(e.enter("codeFlowValue"),v(C))}function v(C){return C===null||$(C)?(e.exit("codeFlowValue"),g(C)):(e.consume(C),v)}function S(C){return e.exit("codeFenced"),t(C)}function E(C,T,I){let M=0;return R;function R(W){return C.enter("lineEnding"),C.consume(W),C.exit("lineEnding"),D}function D(W){return C.enter("codeFencedFence"),X(W)?le(C,A,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(W):A(W)}function A(W){return W===l?(C.enter("codeFencedFenceSequence"),J(W)):I(W)}function J(W){return W===l?(M++,C.consume(W),J):M>=o?(C.exit("codeFencedFenceSequence"),X(W)?le(C,fe,"whitespace")(W):fe(W)):I(W)}function fe(W){return W===null||$(W)?(C.exit("codeFencedFence"),T(W)):I(W)}}}function z1(e,t,n){const r=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const Vl={name:"codeIndented",tokenize:U1},$1={tokenize:H1,partial:!0};function U1(e,t,n){const r=this;return i;function i(c){return e.enter("codeIndented"),le(e,s,"linePrefix",5)(c)}function s(c){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?o(c):n(c)}function o(c){return c===null?a(c):$(c)?e.attempt($1,o,a)(c):(e.enter("codeFlowValue"),l(c))}function l(c){return c===null||$(c)?(e.exit("codeFlowValue"),o(c)):(e.consume(c),l)}function a(c){return e.exit("codeIndented"),t(c)}}function H1(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):$(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):le(e,s,"linePrefix",5)(o)}function s(o){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(o):$(o)?i(o):n(o)}}const V1={name:"codeText",tokenize:Q1,resolve:q1,previous:W1};function q1(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function W1(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Q1(e,t,n){let r=0,i,s;return o;function o(h){return e.enter("codeText"),e.enter("codeTextSequence"),l(h)}function l(h){return h===96?(e.consume(h),r++,l):(e.exit("codeTextSequence"),a(h))}function a(h){return h===null?n(h):h===32?(e.enter("space"),e.consume(h),e.exit("space"),a):h===96?(s=e.enter("codeTextSequence"),i=0,d(h)):$(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),a):(e.enter("codeTextData"),c(h))}function c(h){return h===null||h===32||h===96||$(h)?(e.exit("codeTextData"),a(h)):(e.consume(h),c)}function d(h){return h===96?(e.consume(h),i++,d):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(h)):(s.type="codeTextData",c(h))}}class K1{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&di(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),di(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),di(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);di(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);di(this.left,n.reverse())}}}function di(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function Mg(e){const t={};let n=-1,r,i,s,o,l,a,c;const d=new K1(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(a=r[1]._tokenizer.events,s=0,s<a.length&&a[s][1].type==="lineEndingBlank"&&(s+=2),s<a.length&&a[s][1].type==="content"))for(;++s<a.length&&a[s][1].type!=="content";)a[s][1].type==="chunkText"&&(a[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,J1(d,n)),n=t[n],c=!0);else if(r[1]._container){for(s=n,i=void 0;s--&&(o=d.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank");)o[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);i&&(r[1].end=Object.assign({},d.get(i)[1].start),l=d.slice(i,n),l.unshift(r),d.splice(i,n-i+1,l))}}return Jt(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!c}function J1(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const s=[],o=n._tokenizer||r.parser[n.contentType](n.start),l=o.events,a=[],c={};let d,h,p=-1,f=n,y=0,w=0;const x=[w];for(;f;){for(;e.get(++i)[1]!==f;);s.push(i),f._tokenizer||(d=r.sliceStream(f),f.next||d.push(null),h&&o.defineSkip(f.start),f._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(d),f._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),h=f,f=f.next}for(f=n;++p<l.length;)l[p][0]==="exit"&&l[p-1][0]==="enter"&&l[p][1].type===l[p-1][1].type&&l[p][1].start.line!==l[p][1].end.line&&(w=p+1,x.push(w),f._tokenizer=void 0,f.previous=void 0,f=f.next);for(o.events=[],f?(f._tokenizer=void 0,f.previous=void 0):x.pop(),p=x.length;p--;){const m=l.slice(x[p],x[p+1]),g=s.pop();a.push([g,g+m.length-1]),e.splice(g,2,m)}for(a.reverse(),p=-1;++p<a.length;)c[y+a[p][0]]=y+a[p][1],y+=a[p][1]-a[p][0]-1;return c}const G1={tokenize:Z1,resolve:X1},Y1={tokenize:eS,partial:!0};function X1(e){return Mg(e),e}function Z1(e,t){let n;return r;function r(l){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(l)}function i(l){return l===null?s(l):$(l)?e.check(Y1,o,s)(l):(e.consume(l),i)}function s(l){return e.exit("chunkContent"),e.exit("content"),t(l)}function o(l){return e.consume(l),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function eS(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),le(e,s,"linePrefix")}function s(o){if(o===null||$(o))return n(o);const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function Bg(e,t,n,r,i,s,o,l,a){const c=a||Number.POSITIVE_INFINITY;let d=0;return h;function h(m){return m===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(m),e.exit(s),p):m===null||m===32||m===41||au(m)?n(m):(e.enter(r),e.enter(o),e.enter(l),e.enter("chunkString",{contentType:"string"}),w(m))}function p(m){return m===62?(e.enter(s),e.consume(m),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(l),e.enter("chunkString",{contentType:"string"}),f(m))}function f(m){return m===62?(e.exit("chunkString"),e.exit(l),p(m)):m===null||m===60||$(m)?n(m):(e.consume(m),m===92?y:f)}function y(m){return m===60||m===62||m===92?(e.consume(m),f):f(m)}function w(m){return!d&&(m===null||m===41||Ge(m))?(e.exit("chunkString"),e.exit(l),e.exit(o),e.exit(r),t(m)):d<c&&m===40?(e.consume(m),d++,w):m===41?(e.consume(m),d--,w):m===null||m===32||m===40||au(m)?n(m):(e.consume(m),m===92?x:w)}function x(m){return m===40||m===41||m===92?(e.consume(m),w):w(m)}}function zg(e,t,n,r,i,s){const o=this;let l=0,a;return c;function c(f){return e.enter(r),e.enter(i),e.consume(f),e.exit(i),e.enter(s),d}function d(f){return l>999||f===null||f===91||f===93&&!a||f===94&&!l&&"_hiddenFootnoteSupport"in o.parser.constructs?n(f):f===93?(e.exit(s),e.enter(i),e.consume(f),e.exit(i),e.exit(r),t):$(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),h(f))}function h(f){return f===null||f===91||f===93||$(f)||l++>999?(e.exit("chunkString"),d(f)):(e.consume(f),a||(a=!X(f)),f===92?p:h)}function p(f){return f===91||f===92||f===93?(e.consume(f),l++,h):h(f)}}function $g(e,t,n,r,i,s){let o;return l;function l(p){return p===34||p===39||p===40?(e.enter(r),e.enter(i),e.consume(p),e.exit(i),o=p===40?41:p,a):n(p)}function a(p){return p===o?(e.enter(i),e.consume(p),e.exit(i),e.exit(r),t):(e.enter(s),c(p))}function c(p){return p===o?(e.exit(s),a(o)):p===null?n(p):$(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),le(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===o||p===null||$(p)?(e.exit("chunkString"),c(p)):(e.consume(p),p===92?h:d)}function h(p){return p===o||p===92?(e.consume(p),d):d(p)}}function Ai(e,t){let n;return r;function r(i){return $(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):X(i)?le(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const tS={name:"definition",tokenize:rS},nS={tokenize:iS,partial:!0};function rS(e,t,n){const r=this;let i;return s;function s(f){return e.enter("definition"),o(f)}function o(f){return zg.call(r,e,l,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(f)}function l(f){return i=Or(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),f===58?(e.enter("definitionMarker"),e.consume(f),e.exit("definitionMarker"),a):n(f)}function a(f){return Ge(f)?Ai(e,c)(f):c(f)}function c(f){return Bg(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(f)}function d(f){return e.attempt(nS,h,h)(f)}function h(f){return X(f)?le(e,p,"whitespace")(f):p(f)}function p(f){return f===null||$(f)?(e.exit("definition"),r.parser.defined.push(i),t(f)):n(f)}}function iS(e,t,n){return r;function r(l){return Ge(l)?Ai(e,i)(l):n(l)}function i(l){return $g(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function s(l){return X(l)?le(e,o,"whitespace")(l):o(l)}function o(l){return l===null||$(l)?t(l):n(l)}}const sS={name:"hardBreakEscape",tokenize:oS};function oS(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return $(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const lS={name:"headingAtx",tokenize:uS,resolve:aS};function aS(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Jt(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function uS(e,t,n){let r=0;return i;function i(d){return e.enter("atxHeading"),s(d)}function s(d){return e.enter("atxHeadingSequence"),o(d)}function o(d){return d===35&&r++<6?(e.consume(d),o):d===null||Ge(d)?(e.exit("atxHeadingSequence"),l(d)):n(d)}function l(d){return d===35?(e.enter("atxHeadingSequence"),a(d)):d===null||$(d)?(e.exit("atxHeading"),t(d)):X(d)?le(e,l,"whitespace")(d):(e.enter("atxHeadingText"),c(d))}function a(d){return d===35?(e.consume(d),a):(e.exit("atxHeadingSequence"),l(d))}function c(d){return d===null||d===35||Ge(d)?(e.exit("atxHeadingText"),l(d)):(e.consume(d),c)}}const cS=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Bh=["pre","script","style","textarea"],dS={name:"htmlFlow",tokenize:mS,resolveTo:pS,concrete:!0},hS={tokenize:yS,partial:!0},fS={tokenize:gS,partial:!0};function pS(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function mS(e,t,n){const r=this;let i,s,o,l,a;return c;function c(j){return d(j)}function d(j){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(j),h}function h(j){return j===33?(e.consume(j),p):j===47?(e.consume(j),s=!0,w):j===63?(e.consume(j),i=3,r.interrupt?t:k):Rt(j)?(e.consume(j),o=String.fromCharCode(j),x):n(j)}function p(j){return j===45?(e.consume(j),i=2,f):j===91?(e.consume(j),i=5,l=0,y):Rt(j)?(e.consume(j),i=4,r.interrupt?t:k):n(j)}function f(j){return j===45?(e.consume(j),r.interrupt?t:k):n(j)}function y(j){const je="CDATA[";return j===je.charCodeAt(l++)?(e.consume(j),l===je.length?r.interrupt?t:A:y):n(j)}function w(j){return Rt(j)?(e.consume(j),o=String.fromCharCode(j),x):n(j)}function x(j){if(j===null||j===47||j===62||Ge(j)){const je=j===47,wt=o.toLowerCase();return!je&&!s&&Bh.includes(wt)?(i=1,r.interrupt?t(j):A(j)):cS.includes(o.toLowerCase())?(i=6,je?(e.consume(j),m):r.interrupt?t(j):A(j)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(j):s?g(j):v(j))}return j===45||it(j)?(e.consume(j),o+=String.fromCharCode(j),x):n(j)}function m(j){return j===62?(e.consume(j),r.interrupt?t:A):n(j)}function g(j){return X(j)?(e.consume(j),g):R(j)}function v(j){return j===47?(e.consume(j),R):j===58||j===95||Rt(j)?(e.consume(j),S):X(j)?(e.consume(j),v):R(j)}function S(j){return j===45||j===46||j===58||j===95||it(j)?(e.consume(j),S):E(j)}function E(j){return j===61?(e.consume(j),C):X(j)?(e.consume(j),E):v(j)}function C(j){return j===null||j===60||j===61||j===62||j===96?n(j):j===34||j===39?(e.consume(j),a=j,T):X(j)?(e.consume(j),C):I(j)}function T(j){return j===a?(e.consume(j),a=null,M):j===null||$(j)?n(j):(e.consume(j),T)}function I(j){return j===null||j===34||j===39||j===47||j===60||j===61||j===62||j===96||Ge(j)?E(j):(e.consume(j),I)}function M(j){return j===47||j===62||X(j)?v(j):n(j)}function R(j){return j===62?(e.consume(j),D):n(j)}function D(j){return j===null||$(j)?A(j):X(j)?(e.consume(j),D):n(j)}function A(j){return j===45&&i===2?(e.consume(j),_e):j===60&&i===1?(e.consume(j),we):j===62&&i===4?(e.consume(j),G):j===63&&i===3?(e.consume(j),k):j===93&&i===5?(e.consume(j),B):$(j)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(hS,ne,J)(j)):j===null||$(j)?(e.exit("htmlFlowData"),J(j)):(e.consume(j),A)}function J(j){return e.check(fS,fe,ne)(j)}function fe(j){return e.enter("lineEnding"),e.consume(j),e.exit("lineEnding"),W}function W(j){return j===null||$(j)?J(j):(e.enter("htmlFlowData"),A(j))}function _e(j){return j===45?(e.consume(j),k):A(j)}function we(j){return j===47?(e.consume(j),o="",L):A(j)}function L(j){if(j===62){const je=o.toLowerCase();return Bh.includes(je)?(e.consume(j),G):A(j)}return Rt(j)&&o.length<8?(e.consume(j),o+=String.fromCharCode(j),L):A(j)}function B(j){return j===93?(e.consume(j),k):A(j)}function k(j){return j===62?(e.consume(j),G):j===45&&i===2?(e.consume(j),k):A(j)}function G(j){return j===null||$(j)?(e.exit("htmlFlowData"),ne(j)):(e.consume(j),G)}function ne(j){return e.exit("htmlFlow"),t(j)}}function gS(e,t,n){const r=this;return i;function i(o){return $(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function yS(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(ol,t,n)}}const vS={name:"htmlText",tokenize:wS};function wS(e,t,n){const r=this;let i,s,o;return l;function l(k){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(k),a}function a(k){return k===33?(e.consume(k),c):k===47?(e.consume(k),E):k===63?(e.consume(k),v):Rt(k)?(e.consume(k),I):n(k)}function c(k){return k===45?(e.consume(k),d):k===91?(e.consume(k),s=0,y):Rt(k)?(e.consume(k),g):n(k)}function d(k){return k===45?(e.consume(k),f):n(k)}function h(k){return k===null?n(k):k===45?(e.consume(k),p):$(k)?(o=h,we(k)):(e.consume(k),h)}function p(k){return k===45?(e.consume(k),f):h(k)}function f(k){return k===62?_e(k):k===45?p(k):h(k)}function y(k){const G="CDATA[";return k===G.charCodeAt(s++)?(e.consume(k),s===G.length?w:y):n(k)}function w(k){return k===null?n(k):k===93?(e.consume(k),x):$(k)?(o=w,we(k)):(e.consume(k),w)}function x(k){return k===93?(e.consume(k),m):w(k)}function m(k){return k===62?_e(k):k===93?(e.consume(k),m):w(k)}function g(k){return k===null||k===62?_e(k):$(k)?(o=g,we(k)):(e.consume(k),g)}function v(k){return k===null?n(k):k===63?(e.consume(k),S):$(k)?(o=v,we(k)):(e.consume(k),v)}function S(k){return k===62?_e(k):v(k)}function E(k){return Rt(k)?(e.consume(k),C):n(k)}function C(k){return k===45||it(k)?(e.consume(k),C):T(k)}function T(k){return $(k)?(o=T,we(k)):X(k)?(e.consume(k),T):_e(k)}function I(k){return k===45||it(k)?(e.consume(k),I):k===47||k===62||Ge(k)?M(k):n(k)}function M(k){return k===47?(e.consume(k),_e):k===58||k===95||Rt(k)?(e.consume(k),R):$(k)?(o=M,we(k)):X(k)?(e.consume(k),M):_e(k)}function R(k){return k===45||k===46||k===58||k===95||it(k)?(e.consume(k),R):D(k)}function D(k){return k===61?(e.consume(k),A):$(k)?(o=D,we(k)):X(k)?(e.consume(k),D):M(k)}function A(k){return k===null||k===60||k===61||k===62||k===96?n(k):k===34||k===39?(e.consume(k),i=k,J):$(k)?(o=A,we(k)):X(k)?(e.consume(k),A):(e.consume(k),fe)}function J(k){return k===i?(e.consume(k),i=void 0,W):k===null?n(k):$(k)?(o=J,we(k)):(e.consume(k),J)}function fe(k){return k===null||k===34||k===39||k===60||k===61||k===96?n(k):k===47||k===62||Ge(k)?M(k):(e.consume(k),fe)}function W(k){return k===47||k===62||Ge(k)?M(k):n(k)}function _e(k){return k===62?(e.consume(k),e.exit("htmlTextData"),e.exit("htmlText"),t):n(k)}function we(k){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),L}function L(k){return X(k)?le(e,B,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(k):B(k)}function B(k){return e.enter("htmlTextData"),o(k)}}const Cc={name:"labelEnd",tokenize:CS,resolveTo:jS,resolveAll:SS},xS={tokenize:ES},_S={tokenize:bS},kS={tokenize:TS};function SS(e){let t=-1;for(;++t<e.length;){const n=e[t][1];(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(e.splice(t+1,n.type==="labelImage"?4:2),n.type="data",t++)}return e}function jS(e,t){let n=e.length,r=0,i,s,o,l;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const a={type:e[s][1].type==="labelLink"?"link":"image",start:Object.assign({},e[s][1].start),end:Object.assign({},e[e.length-1][1].end)},c={type:"label",start:Object.assign({},e[s][1].start),end:Object.assign({},e[o][1].end)},d={type:"labelText",start:Object.assign({},e[s+r+2][1].end),end:Object.assign({},e[o-2][1].start)};return l=[["enter",a,t],["enter",c,t]],l=ht(l,e.slice(s+1,s+r+3)),l=ht(l,[["enter",d,t]]),l=ht(l,jc(t.parser.constructs.insideSpan.null,e.slice(s+r+4,o-3),t)),l=ht(l,[["exit",d,t],e[o-2],e[o-1],["exit",c,t]]),l=ht(l,e.slice(o+1)),l=ht(l,[["exit",a,t]]),Jt(e,s,e.length,l),e}function CS(e,t,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return l;function l(p){return s?s._inactive?h(p):(o=r.parser.defined.includes(Or(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(p),e.exit("labelMarker"),e.exit("labelEnd"),a):n(p)}function a(p){return p===40?e.attempt(xS,d,o?d:h)(p):p===91?e.attempt(_S,d,o?c:h)(p):o?d(p):h(p)}function c(p){return e.attempt(kS,d,h)(p)}function d(p){return t(p)}function h(p){return s._balanced=!0,n(p)}}function ES(e,t,n){return r;function r(h){return e.enter("resource"),e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),i}function i(h){return Ge(h)?Ai(e,s)(h):s(h)}function s(h){return h===41?d(h):Bg(e,o,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function o(h){return Ge(h)?Ai(e,a)(h):d(h)}function l(h){return n(h)}function a(h){return h===34||h===39||h===40?$g(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):d(h)}function c(h){return Ge(h)?Ai(e,d)(h):d(h)}function d(h){return h===41?(e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),e.exit("resource"),t):n(h)}}function bS(e,t,n){const r=this;return i;function i(l){return zg.call(r,e,s,o,"reference","referenceMarker","referenceString")(l)}function s(l){return r.parser.defined.includes(Or(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(l):n(l)}function o(l){return n(l)}}function TS(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const PS={name:"labelStartImage",tokenize:NS,resolveAll:Cc.resolveAll};function NS(e,t,n){const r=this;return i;function i(l){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(l),e.exit("labelImageMarker"),s}function s(l){return l===91?(e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelImage"),o):n(l)}function o(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):t(l)}}const IS={name:"labelStartLink",tokenize:OS,resolveAll:Cc.resolveAll};function OS(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const ql={name:"lineEnding",tokenize:LS};function LS(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),le(e,t,"linePrefix")}}const Xs={name:"thematicBreak",tokenize:AS};function AS(e,t,n){let r=0,i;return s;function s(c){return e.enter("thematicBreak"),o(c)}function o(c){return i=c,l(c)}function l(c){return c===i?(e.enter("thematicBreakSequence"),a(c)):r>=3&&(c===null||$(c))?(e.exit("thematicBreak"),t(c)):n(c)}function a(c){return c===i?(e.consume(c),r++,a):(e.exit("thematicBreakSequence"),X(c)?le(e,l,"whitespace")(c):l(c))}}const Ve={name:"list",tokenize:DS,continuation:{tokenize:MS},exit:zS},RS={tokenize:$S,partial:!0},FS={tokenize:BS,partial:!0};function DS(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return l;function l(f){const y=r.containerState.type||(f===42||f===43||f===45?"listUnordered":"listOrdered");if(y==="listUnordered"?!r.containerState.marker||f===r.containerState.marker:uu(f)){if(r.containerState.type||(r.containerState.type=y,e.enter(y,{_container:!0})),y==="listUnordered")return e.enter("listItemPrefix"),f===42||f===45?e.check(Xs,n,c)(f):c(f);if(!r.interrupt||f===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),a(f)}return n(f)}function a(f){return uu(f)&&++o<10?(e.consume(f),a):(!r.interrupt||o<2)&&(r.containerState.marker?f===r.containerState.marker:f===41||f===46)?(e.exit("listItemValue"),c(f)):n(f)}function c(f){return e.enter("listItemMarker"),e.consume(f),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||f,e.check(ol,r.interrupt?n:d,e.attempt(RS,p,h))}function d(f){return r.containerState.initialBlankLine=!0,s++,p(f)}function h(f){return X(f)?(e.enter("listItemPrefixWhitespace"),e.consume(f),e.exit("listItemPrefixWhitespace"),p):n(f)}function p(f){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(f)}}function MS(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(ol,i,s);function i(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,le(e,t,"listItemIndent",r.containerState.size+1)(l)}function s(l){return r.containerState.furtherBlankLines||!X(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(FS,t,o)(l))}function o(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,le(e,e.attempt(Ve,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function BS(e,t,n){const r=this;return le(e,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(s):n(s)}}function zS(e){e.exit(this.containerState.type)}function $S(e,t,n){const r=this;return le(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!X(s)&&o&&o[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const zh={name:"setextUnderline",tokenize:HS,resolveTo:US};function US(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",o,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end=Object.assign({},e[s][1].end)):e[r][1]=o,e.push(["exit",o,t]),e}function HS(e,t,n){const r=this;let i;return s;function s(c){let d=r.events.length,h;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){h=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||h)?(e.enter("setextHeadingLine"),i=c,o(c)):n(c)}function o(c){return e.enter("setextHeadingLineSequence"),l(c)}function l(c){return c===i?(e.consume(c),l):(e.exit("setextHeadingLineSequence"),X(c)?le(e,a,"lineSuffix")(c):a(c))}function a(c){return c===null||$(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const VS={tokenize:qS};function qS(e){const t=this,n=e.attempt(ol,r,e.attempt(this.parser.constructs.flowInitial,i,le(e,e.attempt(this.parser.constructs.flow,i,e.attempt(G1,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const WS={resolveAll:Hg()},QS=Ug("string"),KS=Ug("text");function Ug(e){return{tokenize:t,resolveAll:Hg(e==="text"?JS:void 0)};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,o,l);return o;function o(d){return c(d)?s(d):l(d)}function l(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),a}function a(d){return c(d)?(n.exit("data"),s(d)):(n.consume(d),a)}function c(d){if(d===null)return!0;const h=i[d];let p=-1;if(h)for(;++p<h.length;){const f=h[p];if(!f.previous||f.previous.call(r,r.previous))return!0}return!1}}}function Hg(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function JS(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,o=-1,l=0,a;for(;s--;){const c=i[s];if(typeof c=="string"){for(o=c.length;c.charCodeAt(o-1)===32;)l++,o--;if(o)break;o=-1}else if(c===-2)a=!0,l++;else if(c!==-1){s++;break}}if(l){const c={type:n===e.length||a||l<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-l,offset:r.end.offset-l,_index:r.start._index+s,_bufferIndex:s?o:r.start._bufferIndex+o},end:Object.assign({},r.end)};r.end=Object.assign({},c.start),r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}function GS(e,t,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},s=[];let o=[],l=[];const a={consume:g,enter:v,exit:S,attempt:T(E),check:T(C),interrupt:T(C,{interrupt:!0})},c={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:f,sliceSerialize:p,now:y,defineSkip:w,write:h};let d=t.tokenize.call(c,a);return t.resolveAll&&s.push(t),c;function h(D){return o=ht(o,D),x(),o[o.length-1]!==null?[]:(I(t,0),c.events=jc(s,c.events,c),c.events)}function p(D,A){return XS(f(D),A)}function f(D){return YS(o,D)}function y(){const{line:D,column:A,offset:J,_index:fe,_bufferIndex:W}=r;return{line:D,column:A,offset:J,_index:fe,_bufferIndex:W}}function w(D){i[D.line]=D.column,R()}function x(){let D;for(;r._index<o.length;){const A=o[r._index];if(typeof A=="string")for(D=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===D&&r._bufferIndex<A.length;)m(A.charCodeAt(r._bufferIndex));else m(A)}}function m(D){d=d(D)}function g(D){$(D)?(r.line++,r.column=1,r.offset+=D===-3?2:1,R()):D!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=D}function v(D,A){const J=A||{};return J.type=D,J.start=y(),c.events.push(["enter",J,c]),l.push(J),J}function S(D){const A=l.pop();return A.end=y(),c.events.push(["exit",A,c]),A}function E(D,A){I(D,A.from)}function C(D,A){A.restore()}function T(D,A){return J;function J(fe,W,_e){let we,L,B,k;return Array.isArray(fe)?ne(fe):"tokenize"in fe?ne([fe]):G(fe);function G(ae){return Nt;function Nt(Yt){const ir=Yt!==null&&ae[Yt],sr=Yt!==null&&ae.null,ms=[...Array.isArray(ir)?ir:ir?[ir]:[],...Array.isArray(sr)?sr:sr?[sr]:[]];return ne(ms)(Yt)}}function ne(ae){return we=ae,L=0,ae.length===0?_e:j(ae[L])}function j(ae){return Nt;function Nt(Yt){return k=M(),B=ae,ae.partial||(c.currentConstruct=ae),ae.name&&c.parser.constructs.disable.null.includes(ae.name)?wt():ae.tokenize.call(A?Object.assign(Object.create(c),A):c,a,je,wt)(Yt)}}function je(ae){return D(B,k),W}function wt(ae){return k.restore(),++L<we.length?j(we[L]):_e}}}function I(D,A){D.resolveAll&&!s.includes(D)&&s.push(D),D.resolve&&Jt(c.events,A,c.events.length-A,D.resolve(c.events.slice(A),c)),D.resolveTo&&(c.events=D.resolveTo(c.events,c))}function M(){const D=y(),A=c.previous,J=c.currentConstruct,fe=c.events.length,W=Array.from(l);return{restore:_e,from:fe};function _e(){r=D,c.previous=A,c.currentConstruct=J,c.events.length=fe,l=W,R()}}function R(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function YS(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,s)];else{if(o=e.slice(n,i),r>-1){const l=o[0];typeof l=="string"?o[0]=l.slice(r):o.shift()}s>0&&o.push(e[i].slice(0,s))}return o}function XS(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}const ZS={42:Ve,43:Ve,45:Ve,48:Ve,49:Ve,50:Ve,51:Ve,52:Ve,53:Ve,54:Ve,55:Ve,56:Ve,57:Ve,62:Rg},ej={91:tS},tj={[-2]:Vl,[-1]:Vl,32:Vl},nj={35:lS,42:Xs,45:[zh,Xs],60:dS,61:zh,95:Xs,96:Mh,126:Mh},rj={38:Dg,92:Fg},ij={[-5]:ql,[-4]:ql,[-3]:ql,33:PS,38:Dg,42:cu,60:[I1,vS],91:IS,92:[sS,Fg],93:Cc,95:cu,96:V1},sj={null:[cu,WS]},oj={null:[42,95]},lj={null:[]},aj=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:oj,contentInitial:ej,disable:lj,document:ZS,flow:nj,flowInitial:tj,insideSpan:sj,string:rj,text:ij},Symbol.toStringTag,{value:"Module"}));function uj(e){const n=g1([aj,...(e||{}).extensions||[]]),r={defined:[],lazy:{},constructs:n,content:i(j1),document:i(E1),flow:i(VS),string:i(QS),text:i(KS)};return r;function i(s){return o;function o(l){return GS(r,s,l)}}}function cj(e){for(;!Mg(e););return e}const $h=/[\0\t\n\r]/g;function dj(){let e=1,t="",n=!0,r;return i;function i(s,o,l){const a=[];let c,d,h,p,f;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),h=0,t="",n&&(s.charCodeAt(0)===65279&&h++,n=void 0);h<s.length;){if($h.lastIndex=h,c=$h.exec(s),p=c&&c.index!==void 0?c.index:s.length,f=s.charCodeAt(p),!c){t=s.slice(h);break}if(f===10&&h===p&&r)a.push(-3),r=void 0;else switch(r&&(a.push(-5),r=void 0),h<p&&(a.push(s.slice(h,p)),e+=p-h),f){case 0:{a.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,a.push(-2);e++<d;)a.push(-1);break}case 10:{a.push(-4),e=1;break}default:r=!0,e=1}h=p+1}return l&&(r&&a.push(-5),t&&a.push(t),a.push(null)),a}}const hj=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function fj(e){return e.replace(hj,pj)}function pj(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return Ag(n.slice(s?2:1),s?16:10)}return Sc(n)||e}const Vg={}.hasOwnProperty;function mj(e,t,n){return typeof t!="string"&&(n=t,t=void 0),gj(n)(cj(uj(n).document().write(dj()(e,t,!0))))}function gj(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(Mc),autolinkProtocol:M,autolinkEmail:M,atxHeading:s(Rc),blockQuote:s(sr),characterEscape:M,characterReference:M,codeFenced:s(ms),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(ms,o),codeText:s(oy,o),codeTextData:M,data:M,codeFlowValue:M,definition:s(ly),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(ay),hardBreakEscape:s(Fc),hardBreakTrailing:s(Fc),htmlFlow:s(Dc,o),htmlFlowData:M,htmlText:s(Dc,o),htmlTextData:M,image:s(uy),label:o,link:s(Mc),listItem:s(cy),listItemValue:p,listOrdered:s(Bc,h),listUnordered:s(Bc),paragraph:s(dy),reference:j,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(Rc),strong:s(hy),thematicBreak:s(py)},exit:{atxHeading:a(),atxHeadingSequence:E,autolink:a(),autolinkEmail:ir,autolinkProtocol:Yt,blockQuote:a(),characterEscapeValue:R,characterReferenceMarkerHexadecimal:wt,characterReferenceMarkerNumeric:wt,characterReferenceValue:ae,characterReference:Nt,codeFenced:a(x),codeFencedFence:w,codeFencedFenceInfo:f,codeFencedFenceMeta:y,codeFlowValue:R,codeIndented:a(m),codeText:a(W),codeTextData:R,data:R,definition:a(),definitionDestinationString:S,definitionLabelString:g,definitionTitleString:v,emphasis:a(),hardBreakEscape:a(A),hardBreakTrailing:a(A),htmlFlow:a(J),htmlFlowData:R,htmlText:a(fe),htmlTextData:R,image:a(we),label:B,labelText:L,lineEnding:D,link:a(_e),listItem:a(),listOrdered:a(),listUnordered:a(),paragraph:a(),referenceString:je,resourceDestinationString:k,resourceTitleString:G,resource:ne,setextHeading:a(I),setextHeadingLineSequence:T,setextHeadingText:C,strong:a(),thematicBreak:a()}};qg(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(b){let O={type:"root",children:[]};const U={stack:[O],tokenStack:[],config:t,enter:l,exit:c,buffer:o,resume:d,data:n},Q=[];let re=-1;for(;++re<b.length;)if(b[re][1].type==="listOrdered"||b[re][1].type==="listUnordered")if(b[re][0]==="enter")Q.push(re);else{const xt=Q.pop();re=i(b,xt,re)}for(re=-1;++re<b.length;){const xt=t[b[re][0]];Vg.call(xt,b[re][1].type)&&xt[b[re][1].type].call(Object.assign({sliceSerialize:b[re][2].sliceSerialize},U),b[re][1])}if(U.tokenStack.length>0){const xt=U.tokenStack[U.tokenStack.length-1];(xt[1]||Uh).call(U,void 0,xt[0])}for(O.position={start:Zt(b.length>0?b[0][1].start:{line:1,column:1,offset:0}),end:Zt(b.length>0?b[b.length-2][1].end:{line:1,column:1,offset:0})},re=-1;++re<t.transforms.length;)O=t.transforms[re](O)||O;return O}function i(b,O,U){let Q=O-1,re=-1,xt=!1,On,Mt,Xr,Zr;for(;++Q<=U;){const Xe=b[Q];switch(Xe[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Xe[0]==="enter"?re++:re--,Zr=void 0;break}case"lineEndingBlank":{Xe[0]==="enter"&&(On&&!Zr&&!re&&!Xr&&(Xr=Q),Zr=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Zr=void 0}if(!re&&Xe[0]==="enter"&&Xe[1].type==="listItemPrefix"||re===-1&&Xe[0]==="exit"&&(Xe[1].type==="listUnordered"||Xe[1].type==="listOrdered")){if(On){let or=Q;for(Mt=void 0;or--;){const Bt=b[or];if(Bt[1].type==="lineEnding"||Bt[1].type==="lineEndingBlank"){if(Bt[0]==="exit")continue;Mt&&(b[Mt][1].type="lineEndingBlank",xt=!0),Bt[1].type="lineEnding",Mt=or}else if(!(Bt[1].type==="linePrefix"||Bt[1].type==="blockQuotePrefix"||Bt[1].type==="blockQuotePrefixWhitespace"||Bt[1].type==="blockQuoteMarker"||Bt[1].type==="listItemIndent"))break}Xr&&(!Mt||Xr<Mt)&&(On._spread=!0),On.end=Object.assign({},Mt?b[Mt][1].start:Xe[1].end),b.splice(Mt||Q,0,["exit",On,Xe[2]]),Q++,U++}if(Xe[1].type==="listItemPrefix"){const or={type:"listItem",_spread:!1,start:Object.assign({},Xe[1].start),end:void 0};On=or,b.splice(Q,0,["enter",or,Xe[2]]),Q++,U++,Xr=void 0,Zr=!0}}}return b[O][1]._spread=xt,U}function s(b,O){return U;function U(Q){l.call(this,b(Q),Q),O&&O.call(this,Q)}}function o(){this.stack.push({type:"fragment",children:[]})}function l(b,O,U){this.stack[this.stack.length-1].children.push(b),this.stack.push(b),this.tokenStack.push([O,U]),b.position={start:Zt(O.start),end:void 0}}function a(b){return O;function O(U){b&&b.call(this,U),c.call(this,U)}}function c(b,O){const U=this.stack.pop(),Q=this.tokenStack.pop();if(Q)Q[0].type!==b.type&&(O?O.call(this,b,Q[0]):(Q[1]||Uh).call(this,b,Q[0]));else throw new Error("Cannot close `"+b.type+"` ("+Li({start:b.start,end:b.end})+"): it’s not open");U.position.end=Zt(b.end)}function d(){return p1(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function p(b){if(this.data.expectingFirstListItemValue){const O=this.stack[this.stack.length-2];O.start=Number.parseInt(this.sliceSerialize(b),10),this.data.expectingFirstListItemValue=void 0}}function f(){const b=this.resume(),O=this.stack[this.stack.length-1];O.lang=b}function y(){const b=this.resume(),O=this.stack[this.stack.length-1];O.meta=b}function w(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function x(){const b=this.resume(),O=this.stack[this.stack.length-1];O.value=b.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function m(){const b=this.resume(),O=this.stack[this.stack.length-1];O.value=b.replace(/(\r?\n|\r)$/g,"")}function g(b){const O=this.resume(),U=this.stack[this.stack.length-1];U.label=O,U.identifier=Or(this.sliceSerialize(b)).toLowerCase()}function v(){const b=this.resume(),O=this.stack[this.stack.length-1];O.title=b}function S(){const b=this.resume(),O=this.stack[this.stack.length-1];O.url=b}function E(b){const O=this.stack[this.stack.length-1];if(!O.depth){const U=this.sliceSerialize(b).length;O.depth=U}}function C(){this.data.setextHeadingSlurpLineEnding=!0}function T(b){const O=this.stack[this.stack.length-1];O.depth=this.sliceSerialize(b).codePointAt(0)===61?1:2}function I(){this.data.setextHeadingSlurpLineEnding=void 0}function M(b){const U=this.stack[this.stack.length-1].children;let Q=U[U.length-1];(!Q||Q.type!=="text")&&(Q=fy(),Q.position={start:Zt(b.start),end:void 0},U.push(Q)),this.stack.push(Q)}function R(b){const O=this.stack.pop();O.value+=this.sliceSerialize(b),O.position.end=Zt(b.end)}function D(b){const O=this.stack[this.stack.length-1];if(this.data.atHardBreak){const U=O.children[O.children.length-1];U.position.end=Zt(b.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(O.type)&&(M.call(this,b),R.call(this,b))}function A(){this.data.atHardBreak=!0}function J(){const b=this.resume(),O=this.stack[this.stack.length-1];O.value=b}function fe(){const b=this.resume(),O=this.stack[this.stack.length-1];O.value=b}function W(){const b=this.resume(),O=this.stack[this.stack.length-1];O.value=b}function _e(){const b=this.stack[this.stack.length-1];if(this.data.inReference){const O=this.data.referenceType||"shortcut";b.type+="Reference",b.referenceType=O,delete b.url,delete b.title}else delete b.identifier,delete b.label;this.data.referenceType=void 0}function we(){const b=this.stack[this.stack.length-1];if(this.data.inReference){const O=this.data.referenceType||"shortcut";b.type+="Reference",b.referenceType=O,delete b.url,delete b.title}else delete b.identifier,delete b.label;this.data.referenceType=void 0}function L(b){const O=this.sliceSerialize(b),U=this.stack[this.stack.length-2];U.label=fj(O),U.identifier=Or(O).toLowerCase()}function B(){const b=this.stack[this.stack.length-1],O=this.resume(),U=this.stack[this.stack.length-1];if(this.data.inReference=!0,U.type==="link"){const Q=b.children;U.children=Q}else U.alt=O}function k(){const b=this.resume(),O=this.stack[this.stack.length-1];O.url=b}function G(){const b=this.resume(),O=this.stack[this.stack.length-1];O.title=b}function ne(){this.data.inReference=void 0}function j(){this.data.referenceType="collapsed"}function je(b){const O=this.resume(),U=this.stack[this.stack.length-1];U.label=O,U.identifier=Or(this.sliceSerialize(b)).toLowerCase(),this.data.referenceType="full"}function wt(b){this.data.characterReferenceType=b.type}function ae(b){const O=this.sliceSerialize(b),U=this.data.characterReferenceType;let Q;U?(Q=Ag(O,U==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Q=Sc(O);const re=this.stack[this.stack.length-1];re.value+=Q}function Nt(b){const O=this.stack.pop();O.position.end=Zt(b.end)}function Yt(b){R.call(this,b);const O=this.stack[this.stack.length-1];O.url=this.sliceSerialize(b)}function ir(b){R.call(this,b);const O=this.stack[this.stack.length-1];O.url="mailto:"+this.sliceSerialize(b)}function sr(){return{type:"blockquote",children:[]}}function ms(){return{type:"code",lang:null,meta:null,value:""}}function oy(){return{type:"inlineCode",value:""}}function ly(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ay(){return{type:"emphasis",children:[]}}function Rc(){return{type:"heading",depth:0,children:[]}}function Fc(){return{type:"break"}}function Dc(){return{type:"html",value:""}}function uy(){return{type:"image",title:null,url:"",alt:null}}function Mc(){return{type:"link",title:null,url:"",children:[]}}function Bc(b){return{type:"list",ordered:b.type==="listOrdered",start:null,spread:b._spread,children:[]}}function cy(b){return{type:"listItem",spread:b._spread,checked:null,children:[]}}function dy(){return{type:"paragraph",children:[]}}function hy(){return{type:"strong",children:[]}}function fy(){return{type:"text",value:""}}function py(){return{type:"thematicBreak"}}}function Zt(e){return{line:e.line,column:e.column,offset:e.offset}}function qg(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?qg(e,r):yj(e,r)}}function yj(e,t){let n;for(n in t)if(Vg.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function Uh(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Li({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Li({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Li({start:t.start,end:t.end})+") is still open")}function vj(e){const t=this;t.parser=n;function n(r){return mj(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function wj(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function xj(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function _j(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function kj(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Sj(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function jj(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=Gr(r.toLowerCase()),s=e.footnoteOrder.indexOf(r);let o,l=e.footnoteCounts.get(r);l===void 0?(l=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=s+1,l+=1,e.footnoteCounts.set(r,l);const a={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,a);const c={type:"element",tagName:"sup",properties:{},children:[a]};return e.patch(t,c),e.applyData(t,c)}function Cj(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Ej(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function Wg(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function bj(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Wg(e,t);const i={src:Gr(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,s),e.applyData(t,s)}function Tj(e,t){const n={src:Gr(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function Pj(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function Nj(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Wg(e,t);const i={href:Gr(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function Ij(e,t){const n={href:Gr(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Oj(e,t,n){const r=e.all(t),i=n?Lj(n):Qg(t),s={},o=[];if(typeof t.checked=="boolean"){const d=r[0];let h;d&&d.type==="element"&&d.tagName==="p"?h=d:(h={type:"element",tagName:"p",properties:{},children:[]},r.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let l=-1;for(;++l<r.length;){const d=r[l];(i||l!==0||d.type!=="element"||d.tagName!=="p")&&o.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?o.push(...d.children):o.push(d)}const a=r[r.length-1];a&&(i||a.type!=="element"||a.tagName!=="p")&&o.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:s,children:o};return e.patch(t,c),e.applyData(t,c)}function Lj(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=Qg(n[r])}return t}function Qg(e){const t=e.spread;return t??e.children.length>1}function Aj(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function Rj(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Fj(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function Dj(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Mj(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},l=wc(t.children[1]),a=bg(t.children[t.children.length-1]);l&&a&&(o.position={start:l,end:a}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function Bj(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,l=o?o.length:t.children.length;let a=-1;const c=[];for(;++a<l;){const h=t.children[a],p={},f=o?o[a]:void 0;f&&(p.align=f);let y={type:"element",tagName:s,properties:p,children:[]};h&&(y.children=e.all(h),e.patch(h,y),y=e.applyData(h,y)),c.push(y)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(t,d),e.applyData(t,d)}function zj(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const Hh=9,Vh=32;function $j(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(qh(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(qh(t.slice(i),i>0,!1)),s.join("")}function qh(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===Hh||s===Vh;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===Hh||s===Vh;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function Uj(e,t){const n={type:"text",value:$j(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function Hj(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const Vj={blockquote:wj,break:xj,code:_j,delete:kj,emphasis:Sj,footnoteReference:jj,heading:Cj,html:Ej,imageReference:bj,image:Tj,inlineCode:Pj,linkReference:Nj,link:Ij,listItem:Oj,list:Aj,paragraph:Rj,root:Fj,strong:Dj,table:Mj,tableCell:zj,tableRow:Bj,text:Uj,thematicBreak:Hj,toml:Fs,yaml:Fs,definition:Fs,footnoteDefinition:Fs};function Fs(){}const Kg=-1,ll=0,Oo=1,Lo=2,Ec=3,bc=4,Tc=5,Pc=6,Jg=7,Gg=8,Wh=typeof self=="object"?self:globalThis,qj=(e,t)=>{const n=(i,s)=>(e.set(s,i),i),r=i=>{if(e.has(i))return e.get(i);const[s,o]=t[i];switch(s){case ll:case Kg:return n(o,i);case Oo:{const l=n([],i);for(const a of o)l.push(r(a));return l}case Lo:{const l=n({},i);for(const[a,c]of o)l[r(a)]=r(c);return l}case Ec:return n(new Date(o),i);case bc:{const{source:l,flags:a}=o;return n(new RegExp(l,a),i)}case Tc:{const l=n(new Map,i);for(const[a,c]of o)l.set(r(a),r(c));return l}case Pc:{const l=n(new Set,i);for(const a of o)l.add(r(a));return l}case Jg:{const{name:l,message:a}=o;return n(new Wh[l](a),i)}case Gg:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i)}return n(new Wh[s](o),i)};return r},Qh=e=>qj(new Map,e)(0),dr="",{toString:Wj}={},{keys:Qj}=Object,hi=e=>{const t=typeof e;if(t!=="object"||!e)return[ll,t];const n=Wj.call(e).slice(8,-1);switch(n){case"Array":return[Oo,dr];case"Object":return[Lo,dr];case"Date":return[Ec,dr];case"RegExp":return[bc,dr];case"Map":return[Tc,dr];case"Set":return[Pc,dr]}return n.includes("Array")?[Oo,n]:n.includes("Error")?[Jg,n]:[Lo,n]},Ds=([e,t])=>e===ll&&(t==="function"||t==="symbol"),Kj=(e,t,n,r)=>{const i=(o,l)=>{const a=r.push(o)-1;return n.set(l,a),a},s=o=>{if(n.has(o))return n.get(o);let[l,a]=hi(o);switch(l){case ll:{let d=o;switch(a){case"bigint":l=Gg,d=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+a);d=null;break;case"undefined":return i([Kg],o)}return i([l,d],o)}case Oo:{if(a)return i([a,[...o]],o);const d=[],h=i([l,d],o);for(const p of o)d.push(s(p));return h}case Lo:{if(a)switch(a){case"BigInt":return i([a,o.toString()],o);case"Boolean":case"Number":case"String":return i([a,o.valueOf()],o)}if(t&&"toJSON"in o)return s(o.toJSON());const d=[],h=i([l,d],o);for(const p of Qj(o))(e||!Ds(hi(o[p])))&&d.push([s(p),s(o[p])]);return h}case Ec:return i([l,o.toISOString()],o);case bc:{const{source:d,flags:h}=o;return i([l,{source:d,flags:h}],o)}case Tc:{const d=[],h=i([l,d],o);for(const[p,f]of o)(e||!(Ds(hi(p))||Ds(hi(f))))&&d.push([s(p),s(f)]);return h}case Pc:{const d=[],h=i([l,d],o);for(const p of o)(e||!Ds(hi(p)))&&d.push(s(p));return h}}const{message:c}=o;return i([l,{name:a,message:c}],o)};return s},Kh=(e,{json:t,lossy:n}={})=>{const r=[];return Kj(!(t||n),!!t,new Map,r)(e),r},Ao=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Qh(Kh(e,t)):structuredClone(e):(e,t)=>Qh(Kh(e,t));function Jj(e,t){const n=[{type:"text",value:"↩"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function Gj(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function Yj(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||Jj,r=e.options.footnoteBackLabel||Gj,i=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let a=-1;for(;++a<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[a]);if(!c)continue;const d=e.all(c),h=String(c.identifier).toUpperCase(),p=Gr(h.toLowerCase());let f=0;const y=[],w=e.footnoteCounts.get(h);for(;w!==void 0&&++f<=w;){y.length>0&&y.push({type:"text",value:" "});let g=typeof n=="string"?n:n(a,f);typeof g=="string"&&(g={type:"text",value:g}),y.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+p+(f>1?"-"+f:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(a,f),className:["data-footnote-backref"]},children:Array.isArray(g)?g:[g]})}const x=d[d.length-1];if(x&&x.type==="element"&&x.tagName==="p"){const g=x.children[x.children.length-1];g&&g.type==="text"?g.value+=" ":x.children.push({type:"text",value:" "}),x.children.push(...y)}else d.push(...y);const m={type:"element",tagName:"li",properties:{id:t+"fn-"+p},children:e.wrap(d,!0)};e.patch(c,m),l.push(m)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...Ao(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(l,!0)},{type:"text",value:`
`}]}}const Yg=function(e){if(e==null)return tC;if(typeof e=="function")return al(e);if(typeof e=="object")return Array.isArray(e)?Xj(e):Zj(e);if(typeof e=="string")return eC(e);throw new Error("Expected function, string, or object as test")};function Xj(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Yg(e[n]);return al(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function Zj(e){const t=e;return al(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function eC(e){return al(t);function t(n){return n&&n.type===e}}function al(e){return t;function t(n,r,i){return!!(nC(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function tC(){return!0}function nC(e){return e!==null&&typeof e=="object"&&"type"in e}const Xg=[],rC=!0,Jh=!1,iC="skip";function sC(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=Yg(i),o=r?-1:1;l(e,void 0,[])();function l(a,c,d){const h=a&&typeof a=="object"?a:{};if(typeof h.type=="string"){const f=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(a.type+(f?"<"+f+">":""))+")"})}return p;function p(){let f=Xg,y,w,x;if((!t||s(a,c,d[d.length-1]||void 0))&&(f=oC(n(a,d)),f[0]===Jh))return f;if("children"in a&&a.children){const m=a;if(m.children&&f[0]!==iC)for(w=(r?m.children.length:-1)+o,x=d.concat(m);w>-1&&w<m.children.length;){const g=m.children[w];if(y=l(g,w,x)(),y[0]===Jh)return y;w=typeof y[1]=="number"?y[1]:w+o}}return f}}}function oC(e){return Array.isArray(e)?e:typeof e=="number"?[rC,e]:e==null?Xg:[e]}function Zg(e,t,n,r){let i,s,o;typeof t=="function"&&typeof n!="function"?(s=void 0,o=t,i=n):(s=t,o=n,i=r),sC(e,s,l,i);function l(a,c){const d=c[c.length-1],h=d?d.children.indexOf(a):void 0;return o(a,h,d)}}const du={}.hasOwnProperty,lC={};function aC(e,t){const n=t||lC,r=new Map,i=new Map,s=new Map,o={...Vj,...n.handlers},l={all:c,applyData:cC,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:a,options:n,patch:uC,wrap:hC};return Zg(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const h=d.type==="definition"?r:i,p=String(d.identifier).toUpperCase();h.has(p)||h.set(p,d)}}),l;function a(d,h){const p=d.type,f=l.handlers[p];if(du.call(l.handlers,p)&&f)return f(l,d,h);if(l.options.passThrough&&l.options.passThrough.includes(p)){if("children"in d){const{children:w,...x}=d,m=Ao(x);return m.children=l.all(d),m}return Ao(d)}return(l.options.unknownHandler||dC)(l,d,h)}function c(d){const h=[];if("children"in d){const p=d.children;let f=-1;for(;++f<p.length;){const y=l.one(p[f],d);if(y){if(f&&p[f-1].type==="break"&&(!Array.isArray(y)&&y.type==="text"&&(y.value=Gh(y.value)),!Array.isArray(y)&&y.type==="element")){const w=y.children[0];w&&w.type==="text"&&(w.value=Gh(w.value))}Array.isArray(y)?h.push(...y):h.push(y)}}}return h}}function uC(e,t){e.position&&(t.position=Vk(e))}function cC(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,Ao(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function dC(e,t){const n=t.data||{},r="value"in t&&!(du.call(n,"hProperties")||du.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function hC(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function Gh(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function Yh(e,t){const n=aC(e,t),r=n.one(e,void 0),i=Yj(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function fC(e,t){return e&&"run"in e?async function(n,r){const i=Yh(n,{file:r,...t});await e.run(i,r)}:function(n,r){return Yh(n,{file:r,...t||e})}}function Xh(e){if(e)throw e}var Zs=Object.prototype.hasOwnProperty,ey=Object.prototype.toString,Zh=Object.defineProperty,ef=Object.getOwnPropertyDescriptor,tf=function(t){return typeof Array.isArray=="function"?Array.isArray(t):ey.call(t)==="[object Array]"},nf=function(t){if(!t||ey.call(t)!=="[object Object]")return!1;var n=Zs.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&Zs.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||Zs.call(t,i)},rf=function(t,n){Zh&&n.name==="__proto__"?Zh(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},sf=function(t,n){if(n==="__proto__")if(Zs.call(t,n)){if(ef)return ef(t,n).value}else return;return t[n]},pC=function e(){var t,n,r,i,s,o,l=arguments[0],a=1,c=arguments.length,d=!1;for(typeof l=="boolean"&&(d=l,l=arguments[1]||{},a=2),(l==null||typeof l!="object"&&typeof l!="function")&&(l={});a<c;++a)if(t=arguments[a],t!=null)for(n in t)r=sf(l,n),i=sf(t,n),l!==i&&(d&&i&&(nf(i)||(s=tf(i)))?(s?(s=!1,o=r&&tf(r)?r:[]):o=r&&nf(r)?r:{},rf(l,{name:n,newValue:e(d,o,i)})):typeof i<"u"&&rf(l,{name:n,newValue:i}));return l};const Wl=Cf(pC);function hu(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function mC(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);l(null,...i);function l(a,...c){const d=e[++s];let h=-1;if(a){o(a);return}for(;++h<i.length;)(c[h]===null||c[h]===void 0)&&(c[h]=i[h]);i=c,d?gC(d,l)(...c):o(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function gC(e,t){let n;return r;function r(...o){const l=e.length>o.length;let a;l&&o.push(i);try{a=e.apply(this,o)}catch(c){const d=c;if(l&&n)throw d;return i(d)}l||(a&&a.then&&typeof a.then=="function"?a.then(s,i):a instanceof Error?i(a):s(a))}function i(o,...l){n||(n=!0,t(o,...l))}function s(o){i(null,o)}}const Lt={basename:yC,dirname:vC,extname:wC,join:xC,sep:"/"};function yC(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');fs(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,l=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),l>-1&&(e.codePointAt(i)===t.codePointAt(l--)?l<0&&(r=i):(l=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function vC(e){if(fs(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function wC(e){fs(e);let t=e.length,n=-1,r=0,i=-1,s=0,o;for(;t--;){const l=e.codePointAt(t);if(l===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),l===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function xC(...e){let t=-1,n;for(;++t<e.length;)fs(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":_C(n)}function _C(e){fs(e);const t=e.codePointAt(0)===47;let n=kC(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function kC(e,t){let n="",r=0,i=-1,s=0,o=-1,l,a;for(;++o<=e.length;){if(o<e.length)l=e.codePointAt(o);else{if(l===47)break;l=47}if(l===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(a=n.lastIndexOf("/"),a!==n.length-1){a<0?(n="",r=0):(n=n.slice(0,a),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,s=0}else l===46&&s>-1?s++:s=-1}return n}function fs(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const SC={cwd:jC};function jC(){return"/"}function fu(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function CC(e){if(typeof e=="string")e=new URL(e);else if(!fu(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return EC(e)}function EC(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const Ql=["history","path","basename","stem","extname","dirname"];class ty{constructor(t){let n;t?fu(t)?n={path:t}:typeof t=="string"||bC(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":SC.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Ql.length;){const s=Ql[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)Ql.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Lt.basename(this.path):void 0}set basename(t){Jl(t,"basename"),Kl(t,"basename"),this.path=Lt.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Lt.dirname(this.path):void 0}set dirname(t){of(this.basename,"dirname"),this.path=Lt.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Lt.extname(this.path):void 0}set extname(t){if(Kl(t,"extname"),of(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Lt.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){fu(t)&&(t=CC(t)),Jl(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Lt.basename(this.path,this.extname):void 0}set stem(t){Jl(t,"stem"),Kl(t,"stem"),this.path=Lt.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new De(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Kl(e,t){if(e&&e.includes(Lt.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Lt.sep+"`")}function Jl(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function of(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function bC(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const TC=function(e){const r=this.constructor.prototype,i=r[e],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},PC={}.hasOwnProperty;class Nc extends TC{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=mC()}copy(){const t=new Nc;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(Wl(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Xl("data",this.frozen),this.namespace[t]=n,this):PC.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Xl("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Ms(t),r=this.parser||this.Parser;return Gl("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Gl("process",this.parser||this.Parser),Yl("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,o){const l=Ms(t),a=r.parse(l);r.run(a,l,function(d,h,p){if(d||!h||!p)return c(d);const f=h,y=r.stringify(f,p);OC(y)?p.value=y:p.result=y,c(d,p)});function c(d,h){d||!h?o(d):s?s(h):n(void 0,h)}}}processSync(t){let n=!1,r;return this.freeze(),Gl("processSync",this.parser||this.Parser),Yl("processSync",this.compiler||this.Compiler),this.process(t,i),af("processSync","process",n),r;function i(s,o){n=!0,Xh(s),r=o}}run(t,n,r){lf(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,l){const a=Ms(n);i.run(t,a,c);function c(d,h,p){const f=h||t;d?l(d):o?o(f):r(void 0,f,p)}}}runSync(t,n){let r=!1,i;return this.run(t,n,s),af("runSync","run",r),i;function s(o,l){Xh(o),i=l,r=!0}}stringify(t,n){this.freeze();const r=Ms(n),i=this.compiler||this.Compiler;return Yl("stringify",i),lf(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(Xl("use",this.frozen),t!=null)if(typeof t=="function")a(t,n);else if(typeof t=="object")Array.isArray(t)?l(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(c){if(typeof c=="function")a(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[d,...h]=c;a(d,h)}else o(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function o(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(c.plugins),c.settings&&(i.settings=Wl(!0,i.settings,c.settings))}function l(c){let d=-1;if(c!=null)if(Array.isArray(c))for(;++d<c.length;){const h=c[d];s(h)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function a(c,d){let h=-1,p=-1;for(;++h<r.length;)if(r[h][0]===c){p=h;break}if(p===-1)r.push([c,...d]);else if(d.length>0){let[f,...y]=d;const w=r[p][1];hu(w)&&hu(f)&&(f=Wl(!0,w,f)),r[p]=[c,f,...y]}}}}const NC=new Nc().freeze();function Gl(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Yl(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Xl(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function lf(e){if(!hu(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function af(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Ms(e){return IC(e)?e:new ty(e)}function IC(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function OC(e){return typeof e=="string"||LC(e)}function LC(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const AC="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",uf=[],cf={allowDangerousHtml:!0},RC=/^(https?|ircs?|mailto|xmpp)$/i,FC=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function DC(e){const t=e.allowedElements,n=e.allowElement,r=e.children||"",i=e.className,s=e.components,o=e.disallowedElements,l=e.rehypePlugins||uf,a=e.remarkPlugins||uf,c=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...cf}:cf,d=e.skipHtml,h=e.unwrapDisallowed,p=e.urlTransform||MC,f=NC().use(vj).use(a).use(fC,c).use(l),y=new ty;typeof r=="string"&&(y.value=r);for(const g of FC)Object.hasOwn(e,g.from)&&(""+g.from+(g.to?"use `"+g.to+"` instead":"remove it")+AC+g.id,void 0);const w=f.parse(y);let x=f.runSync(w,y);return i&&(x={type:"element",tagName:"div",properties:{className:i},children:x.type==="root"?x.children:[x]}),Zg(x,m),Gk(x,{Fragment:u.Fragment,components:s,ignoreInvalidStyle:!0,jsx:u.jsx,jsxs:u.jsxs,passKeys:!0,passNode:!0});function m(g,v,S){if(g.type==="raw"&&S&&typeof v=="number")return d?S.children.splice(v,1):S.children[v]={type:"text",value:g.value},v;if(g.type==="element"){let E;for(E in Hl)if(Object.hasOwn(Hl,E)&&Object.hasOwn(g.properties,E)){const C=g.properties[E],T=Hl[E];(T===null||T.includes(g.tagName))&&(g.properties[E]=p(String(C||""),E,g))}}if(g.type==="element"){let E=t?!t.includes(g.tagName):o?o.includes(g.tagName):!1;if(!E&&n&&typeof v=="number"&&(E=!n(g,v,S)),E&&S&&typeof v=="number")return h&&g.children?S.children.splice(v,1,...g.children):S.children.splice(v,1),v}}}function MC(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t<0||i>-1&&t>i||n>-1&&t>n||r>-1&&t>r||RC.test(e.slice(0,t))?e:""}const fi=(e,t,n=!1)=>{const{userid:r,userMyBooks:i,setUserMyBooks:s,setPopupNotification:o}=_.useContext(z);function l(d){let h;if(i===void 0?h=[]:h=i,d.list===4){for(let f=0;f<h.length;f++)if(h[f].id===d.id){h[f].list=3;break}}else if(d.list===3){for(let f=0;f<h.length;f++)if(h[f].id===d.id){h[f].list=2,h[f].date_finished=void 0;break}}else{let f=0;for(let y=0;y<h.length;y++)if(h[y].id===d.id){d.list=0,f=y;break}h.splice(f,1)}const p=h;return c(p),p}function a(){const d=l(e);s(d)}async function c(d){let h;s(d);const{error:p}=await Z.from("user_entries").update({json:d,testdata:"updated from RemoveBookFromXButton"}).eq("user_id",r).select("*");p?h=p.message:h="Removed "+e.title_short+" from "+Oi(t),o(h)}return n&&t===4?u.jsx("span",{className:"icon-heart active",onClick:a}):u.jsx("div",{className:"mark",children:u.jsxs("button",{className:"btn-text",onClick:a,children:[u.jsx("span",{className:"icon icon-remove"}),"Remove from ",Oi(t)]})})},BC=e=>{const{userMyBooks:t,setUserMyBooks:n,setPopupNotification:r,userid:i}=_.useContext(z),[s,o]=_.useState(e.rate_stars),[l,a]=_.useState(e.rate_spice);async function c(w){let x;n(w);const{error:m}=await Z.from("user_entries").update({json:w,testdata:"updated from RateStars n Spice"}).eq("user_id",i).select("*");m?x=m.message:x="Added rating for "+e.title_short,r(x)}function d(w,x,m){let g;t!==void 0?g=t:g=[];for(let S=0;S<g.length;S++)if(g[S].id===w.id){x==="rate_stars"&&(g[S].rate_stars=m),x==="rate_spice"&&(g[S].rate_spice=m);break}const v=g;return c(v),v}function h(w,x){w==="rate_stars"&&o(x),w==="rate_spice"&&a(x);const m=d(e,w,x);n(m)}const p="icon icon-eraser",f="icon icon-star",y="icon icon-spice";return e.rate_stars===void 0&&(e.rate_stars=0),e.rate_spice===void 0&&(e.rate_spice=0),u.jsxs("div",{className:"review-rates",children:[u.jsxs("div",{className:"rate-stars",children:[u.jsx("button",{className:"btn-icon",onClick:()=>h("rate_stars",0),children:u.jsx("span",{className:p})}),u.jsx("button",{className:"btn-icon",onClick:()=>h("rate_stars",1),children:u.jsx("span",{className:f+(s>0?" active":""),children:"*"})}),u.jsx("button",{className:"btn-icon",onClick:()=>h("rate_stars",2),children:u.jsx("span",{className:f+(s>1?" active":""),children:"*"})}),u.jsx("button",{className:"btn-icon",onClick:()=>h("rate_stars",3),children:u.jsx("span",{className:f+(s>2?" active":""),children:"*"})}),u.jsx("button",{className:"btn-icon",onClick:()=>h("rate_stars",4),children:u.jsx("span",{className:f+(s>3?" active":""),children:"*"})}),u.jsx("button",{className:"btn-icon",onClick:()=>h("rate_stars",5),children:u.jsx("span",{className:f+(s>4?" active":""),children:"*"})})]}),u.jsxs("div",{className:"rate-spice",children:[u.jsx("button",{className:"btn-icon",onClick:()=>h("rate_spice",0),children:u.jsx("span",{className:p})}),u.jsx("button",{className:"btn-icon",onClick:()=>h("rate_spice",1),children:u.jsx("span",{className:y+(l>0?" active":""),children:"&"})}),u.jsx("button",{className:"btn-icon",onClick:()=>h("rate_spice",2),children:u.jsx("span",{className:y+(l>1?" active":""),children:"&"})}),u.jsx("button",{className:"btn-icon",onClick:()=>h("rate_spice",3),children:u.jsx("span",{className:y+(l>2?" active":""),children:"&"})}),u.jsx("button",{className:"btn-icon",onClick:()=>h("rate_spice",4),children:u.jsx("span",{className:y+(l>3?" active":""),children:"&"})}),u.jsx("button",{className:"btn-icon",onClick:()=>h("rate_spice",5),children:u.jsx("span",{className:y+(l>4?" active":""),children:"&"})})]})]})};function Cn(e,t=!1){if(e.trim(),e.length<1)return"";let n,r=e.charCodeAt(0);return t&&r>96&&r<123?(r-=32,n=String.fromCharCode(r)+e.slice(1)):n=e,n}function Ic(e,t=!0){if(e.length<1)return"";let n="",r;for(let i=0;i<e.length&&(r=e.charCodeAt(i),e[i]!=="?");i++)r<48||r>57&&r<65||r>90&&r<97||r>122?t&&(n+="-"):n+=e[i];return n}function Oc(e,t){let n="",r;for(let i=0;i<e.length;i++)r=e.charCodeAt(i),(r>47&&r<58||r>64&&r<91||r>90&&r<97||r>96&&r<123)&&(n+=e[i]);return n+=t,n}function zC(e){const t=[";","/","?",":","@","&","=","+","$",",","#"];let n="",r=!1;for(let i=0;i<e.length;i++){r=!1;for(let s=0;s<t.length;s++)if(e[i]===t[s]){r=!0;break}r?n+=" ":n+=e[i]}return n}const $C=(e,t)=>{const{userMyBooks:n,setUserMyBooks:r,userid:i,setPopupNotification:s}=_.useContext(z),[o,l]=_.useState(e.review_text),[a,c]=_.useState(!1),[d,h]=_.useState(!0),[p,f]=_.useState(!1);function y(v){v.preventDefault();const S=Cn(v.currentTarget.review_text.value.trim(),!0);S!==void 0&&(f(!0),l(S),c(!1),h(!0))}_.useEffect(()=>{(e.review_text===void 0||e.review_text.length<1)&&c(!0)},[e.review_text]);const w=_.useCallback(async function(S){let E;r(S);const{error:C}=await Z.from("user_entries").update({json:S,testdata:"updated from review: text"}).eq("user_id",i).select("*");C?E=C.message:E="Updated review.",s(E)},[r,s,i]),x=_.useCallback(async function(){for(let S=0;S<n.length;S++)if(n[S].id===e.id){n[S].review_text=o;break}w(n)},[n,e.id,o,w]);_.useEffect(()=>{t!==o&&p&&(x(),f(!1))},[p,r,x,e.id,t,o]);const m=()=>{c(!0),f(!0),h(!1)},g=()=>{f(!1),h(!0),c(!1)};return _.useEffect(()=>{var v,S;p&&((v=document.getElementById("review_text"+e.id))==null||v.focus(),o!==void 0&&((S=document.getElementById("review_text"+e.id))==null||S.setAttribute("value",o)))},[a,o,e.id,p]),u.jsxs("div",{className:"review-text",children:[a&&u.jsxs(u.Fragment,{children:[u.jsxs("form",{className:"single-small-form clr",onSubmit:y,children:[u.jsx("input",{name:"review_text",id:"review_text"+e.id,type:"text",placeholder:"Add a review..."}),u.jsx("button",{type:"submit",className:"btn-submit-inside-caret-right"})]}),o&&u.jsx("button",{className:"btn-text btn-text-cancel",onClick:g,children:"Cancel"})]}),d&&u.jsx("div",{onClick:m,children:o})]})},UC=(e,t)=>{const{userMyBooks:n,setUserMyBooks:r,setPopupNotification:i,userid:s}=_.useContext(z),[o,l]=_.useState(t),[a,c]=_.useState(!1),[d,h]=_.useState(!1);function p(g){h(!0),l(o.filter(v=>v!==g))}const f=(g,v)=>{if(g!==void 0)return u.jsxs("ul",{className:"tropes clr mb0",children:[g.map((S,E)=>u.jsxs("li",{className:"trope badge",children:[S,u.jsx("button",{className:"btn-x",onClick:()=>p(S),children:"x"})]},"trope"+v+E)),!a&&u.jsx("li",{className:"trope_add",children:u.jsx("button",{className:a?"btn-sm mb0 active":"btn-sm mb0",onClick:()=>c(!a),children:g.length>0?u.jsx(u.Fragment,{children:"+"}):u.jsx(u.Fragment,{children:"Add tropes"})})})]})},y=_.useCallback(async function(v){let S;r(v);const{error:E}=await Z.from("user_entries").update({json:v,testdata:"updated from review: Tropes"}).eq("user_id",s).select("*");E?S=E.message:S="Updated tropes.",i(S)},[r,i,s]),w=_.useCallback(async function(){if(!(n.length<1)){for(let v=0;v<n.length;v++)if(n[v].id===e.id){n[v].review_tropes=o;break}y(n)}},[n,e.id,o,y]);function x(g){g.preventDefault();const v=Cn(g.currentTarget.trope_add.value,!0);v!==void 0&&v.length>2&&(h(!0),l([...o,v]),g.currentTarget.trope_add.value="",g.currentTarget.trope_add.focus())}_.useEffect(()=>{t!==o&&d&&(w(),h(!1))},[t,d,r,w,e.id,o]),e.review_tropes===void 0&&(e.review_tropes=[]),_.useEffect(()=>{var g;a===!0&&((g=document.getElementById("trope_add_"+e.id))==null||g.focus())},[a,e.id]);const m=()=>{c(!1),h(!1)};return u.jsxs(u.Fragment,{children:[f(o,e.id),a&&u.jsxs(u.Fragment,{children:[u.jsxs("form",{className:"single-small-form clr",onSubmit:x,children:[u.jsx("input",{type:"text",name:"trope_add",id:"trope_add_"+e.id,placeholder:"Add a trope..."}),u.jsx("button",{className:"btn-submit-inside-caret-right"})]}),u.jsx("button",{className:"btn-text btn-text-cancel",onClick:m,children:"Cancel"})]})]})},df=(e,t)=>{const{userMyBooks:n,setUserMyBooks:r,userid:i,setPopupNotification:s}=_.useContext(z),[o,l]=_.useState(e.review_fav_quote),[a,c]=_.useState(!1),[d,h]=_.useState(!0),[p,f]=_.useState(!1);function y(v){v.preventDefault();const S=Cn(v.currentTarget.review_fav_quote.value.trim(),!0);S!==void 0&&(f(!0),l(S),c(!1),h(!0))}_.useEffect(()=>{(e.review_fav_quote===void 0||e.review_fav_quote.length<1)&&c(!0)},[e.review_fav_quote]);const w=_.useCallback(async function(S){let E;r(S);const{error:C}=await Z.from("user_entries").update({json:S,testdata:"updated from review: favourite quote"}).eq("user_id",i).select("*");C?E=C.message:E="Updated review.",s(E)},[r,s,i]),x=_.useCallback(async function(){for(let S=0;S<n.length;S++)if(n[S].id===e.id){n[S].review_fav_quote=o;break}w(n)},[n,e.id,o,w]);_.useEffect(()=>{t!==o&&p&&(x(),f(!1))},[p,r,x,e.id,t,o]);const m=()=>{c(!0),f(!0),h(!1)},g=()=>{f(!1),h(!0),c(!1)};return _.useEffect(()=>{var v,S;p&&((v=document.getElementById("review_fav_quote"+e.id))==null||v.focus(),o!==void 0&&((S=document.getElementById("review_fav_quote"+e.id))==null||S.setAttribute("value",o))),h(!!(o&&o!==""))},[a,o,e.id,p]),u.jsxs("div",{className:"review-text quote",children:[a&&u.jsxs(u.Fragment,{children:[u.jsxs("form",{className:"single-small-form clr",onSubmit:y,children:[u.jsx("input",{name:"review_fav_quote",id:"review_fav_quote"+e.id,type:"text",placeholder:"Add your favorite quote..."}),u.jsx("button",{type:"submit",className:"btn-submit-inside-caret-right"})]}),o&&u.jsx("button",{className:"btn-text btn-text-cancel",onClick:g,children:"Cancel"})]}),d&&u.jsx("div",{onClick:m,children:o})]})},HC=(e,t)=>{const[n,r]=_.useState(!1);function i(){r(!n)}if(t!==void 0)return u.jsxs("ul",{className:"tropes clr mb0",children:[t.map((s,o)=>{if(n)return u.jsx("li",{className:"trope badge",children:s},"trope"+e+o);if(o<5)return u.jsx("li",{className:"trope badge",children:s},"trope"+e+o)}),u.jsx("li",{className:"trope_more",children:u.jsx("button",{onClick:()=>i(),className:"btn-sm mb0",children:n?"<":"..."})})]})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var pu=function(){return pu=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},pu.apply(this,arguments)};function VC(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}var Lr="",Ri=null,eo=null,ny=null;function Lc(){Lr="",Ri!==null&&Ri.disconnect(),eo!==null&&(window.clearTimeout(eo),eo=null)}function hf(e){var t=["BUTTON","INPUT","SELECT","TEXTAREA"],n=["A","AREA"];return t.includes(e.tagName)&&!e.hasAttribute("disabled")||n.includes(e.tagName)&&e.hasAttribute("href")}function ff(){var e=null;if(Lr==="#")e=document.body;else{var t=Lr.replace("#","");e=document.getElementById(t),e===null&&Lr==="#top"&&(e=document.body)}if(e!==null){ny(e);var n=e.getAttribute("tabindex");return n===null&&!hf(e)&&e.setAttribute("tabindex",-1),e.focus({preventScroll:!0}),n===null&&!hf(e)&&(e.blur(),e.removeAttribute("tabindex")),Lc(),!0}return!1}function qC(e){window.setTimeout(function(){ff()===!1&&(Ri===null&&(Ri=new MutationObserver(ff)),Ri.observe(document,{attributes:!0,childList:!0,subtree:!0}),eo=window.setTimeout(function(){Lc()},e||1e4))},0)}function ry(e){return to.forwardRef(function(t,n){var r="";typeof t.to=="string"&&t.to.includes("#")?r="#"+t.to.split("#").slice(1).join("#"):typeof t.to=="object"&&typeof t.to.hash=="string"&&(r=t.to.hash);var i={};e===Me&&(i.isActive=function(l,a){return l&&l.isExact&&a.hash===r});function s(l){Lc(),Lr=t.elementId?"#"+t.elementId:r,t.onClick&&t.onClick(l),Lr!==""&&!l.defaultPrevented&&l.button===0&&(!t.target||t.target==="_self")&&!(l.metaKey||l.altKey||l.ctrlKey||l.shiftKey)&&(ny=t.scroll||function(a){return t.smooth?a.scrollIntoView({behavior:"smooth"}):a.scrollIntoView()},qC(t.timeout))}var o=VC(t,["scroll","smooth","timeout","elementId"]);return to.createElement(e,pu({},i,o,{onClick:s,ref:n}),t.children)})}var Bs=ry(ee);ry(Me);const WC=({book:e})=>{const{userMyBooks:t,setUserMyBooks:n,setPopupNotification:r,userid:i}=_.useContext(z),[s,o]=_.useState(!0),[l,a]=_.useState(0),[c,d]=_.useState(!1),h=_.useCallback(async function(y){let w;n(y);const{error:x}=await Z.from("user_entries").update({json:y,testdata:"updated from book summary: Fetch pages"}).eq("user_id",i).select("*");x?w=x.message:w="Updated pages.",r(w)},[r,n,i]),p=_.useCallback(async function(){if(t.length<1)return;const y=l;for(let w=0;w<t.length;w++)if(t[w].id===e.id){y!==t[w].number_of_pages_median&&y>0&&(t[w].number_of_pages_median=y);break}h(t)},[t,e.id,h,l]);return _.useEffect(()=>{s&&((async()=>await Jx(e.id))().then(y=>{a(y)}),o(!s)),c&&l>0&&(p(),d(!1))},[s,l,c,e.id,p]),u.jsx(u.Fragment,{children:l>0&&u.jsxs("button",{className:"btn-text mt05 ml05",onClick:()=>d(!0),children:[" ","guess: ",l," "]})})},QC=e=>{const{userMyBooks:t,setUserMyBooks:n,setPopupNotification:r,userid:i}=_.useContext(z),[s,o]=_.useState(!1),l="addPagesToBookId"+e.id,[a,c]=_.useState(e.number_of_pages_median),[d,h]=_.useState(!1),p=_.useCallback(async function(x){let m;n(x);const{error:g}=await Z.from("user_entries").update({json:x,testdata:"updated from book summary: Add pages"}).eq("user_id",i).select("*");g?m=g.message:m="Updated pages.",r(m)},[r,n,i]),f=_.useCallback(async function(){if(!(t.length<1)){for(let x=0;x<t.length;x++)if(t[x].id===e.id){a!==t[x].number_of_pages_median&&(t[x].number_of_pages_median=a);break}p(t)}},[t,e.id,a,p]);function y(w){w.preventDefault();const x=Number(Cn(w.currentTarget.pagesAmount.value));x!==void 0&&x>0&&(h(!0),c(x))}return _.useEffect(()=>{var w;s&&((w=document.getElementById(l))==null||w.focus()),a!==e.number_of_pages_median&&d&&(f(),h(!1))},[s,a,d,f,e.number_of_pages_median,l]),u.jsxs(u.Fragment,{children:[u.jsx("button",{className:"btn-text",onClick:()=>o(!s),children:"__ pages"}),s?u.jsxs("div",{className:s?"dblock":"dnone",children:[u.jsx(WC,{book:e}),u.jsxs("form",{onSubmit:y,className:"single-small-form wm6 diblock",children:[u.jsx("input",{type:"number",id:l,name:"pagesAmount",defaultValue:e.number_of_pages_median}),u.jsx("button",{type:"submit",className:"btn-submit-inside-caret-right"})]})]}):u.jsx(u.Fragment,{})]})},KC=e=>{const{userMyBooks:t,setUserMyBooks:n,setPopupNotification:r,userid:i}=_.useContext(z),[s,o]=_.useState(!1),l="modifyPagesToBookId"+e.id,[a,c]=_.useState(e.number_of_pages_median),[d,h]=_.useState(!1),p=_.useCallback(async function(x){let m;n(x);const{error:g}=await Z.from("user_entries").update({json:x,testdata:"updated from book summary: Modify pages"}).eq("user_id",i).select("*");g?m=g.message:m="Updated pages.",r(m)},[r,n,i]),f=_.useCallback(async function(){if(!(t.length<1)){for(let x=0;x<t.length;x++)if(t[x].id===e.id){a!==t[x].number_of_pages_median&&(t[x].number_of_pages_median=a);break}p(t)}},[t,e.id,a,p]);function y(w){if(w.preventDefault(),Cn(w.currentTarget.pagesAmount.value)==="")console.log("change nothing");else{const x=Number(Cn(w.currentTarget.pagesAmount.value));x!==void 0&&x>-1&&(h(!0),c(x))}}return _.useEffect(()=>{var w;s&&((w=document.getElementById(l))==null||w.focus()),a!==e.number_of_pages_median&&(c(e.number_of_pages_median),d&&(f(),h(!1),o(!1)))},[s,a,d,f,e,l]),u.jsxs("span",{className:e.number_of_pages_median>0?"":"dnone",children:[" ",u.jsx("button",{className:"btn-icon",onClick:()=>o(!s),children:u.jsx("span",{className:"icon icon-dots"})}),u.jsx("div",{className:s?"dblock":"dnone",children:u.jsxs("form",{onSubmit:y,className:"single-small-form wm6 diblock",children:[e.number_of_pages_median>0&&u.jsx(u.Fragment,{children:u.jsx("input",{type:"number",id:l,name:"pagesAmount",defaultValue:e.number_of_pages_median})}),u.jsx("button",{type:"submit",className:"btn-submit-inside-caret-right"})]})})]})},Yr=({book:e,currentPage:t})=>{const[n,r]=_.useState(""),[i,s]=_.useState(!1),[o,l]=_.useState(!1),[a,c]=_.useState(!1);async function d(){i?s(!i):(l(!0),await fetch("https://openlibrary.org/works/"+e.id+".json").then(p=>p.json()).then(p=>{var f;return(f=p.description)==null?void 0:f.value}).then(p=>{s(!0),r(p!==void 0?p:"No synopsis available yet.")}).catch(p=>{r("No synopsis available yet."),console.log("error",p)}).finally(()=>l(!1)))}const h=Ic(e.title_short+"-"+e.id);return u.jsxs("article",{className:e.list&&e.list>0&&t==="search"?"book-summary saved":"book-summary",id:h,children:[u.jsxs("aside",{className:"cover",children:[u.jsx("img",{src:Gn(e.cover,"M")!==void 0?Gn(e.cover,"M"):"img/coverless.png",alt:""}),(t==="finished"||t==="favorites")&&BC(e)]}),u.jsxs("div",{className:"article-main",children:[u.jsxs("header",{style:{position:"relative",width:"100%"},children:[t!=="search"?e.list===4?u.jsx(u.Fragment,{children:fi(e,e.list,!0)}):e.list===3&&u.jsx(u.Fragment,{children:ci(e,4,!0)}):"",u.jsxs("h2",{children:[e.title_short," ",e.first_publish_year&&t==="search"&&u.jsxs("sup",{children:["(",e.first_publish_year,")"]}),u.jsx("sub",{children:uk(e)})]}),t==="quotedbooks"&&df(e,e.review_fav_quote),t!=="finished"&&t!=="favorites"&&t!=="quotedbooks"&&u.jsxs("div",{className:"pt0 mt0",children:[u.jsx("div",{className:!e.number_of_pages_median&&t!=="search"?"diblock":"dnone",children:QC(e)}),u.jsxs("span",{className:e.number_of_pages_median===0?"dnone":"diblock",children:[e.number_of_pages_median," pages"]}),t!=="dashboard"&&t!=="wishlist"&&u.jsxs(u.Fragment,{children:[" ",KC(e)]})]})]}),u.jsxs("div",{className:"summary-actions",children:[u.jsx("div",{className:"reviews",children:(t==="finished"||t==="favorites")&&e.review_tropes&&UC(e,e==null?void 0:e.review_tropes)}),e.list>1&&t!=="search"&&t!=="quotedbooks"&&u.jsx(ck,{date_started:e.date_reading,date_finished:e.date_finished,bookid:e.id,list:e.list}),t!=="quotedbooks"&&u.jsxs(u.Fragment,{children:[t==="search"&&u.jsx("div",{className:"status",children:e.list>0&&u.jsxs("em",{children:[e.list===1&&u.jsxs(u.Fragment,{children:["Already on my ",u.jsx(Bs,{to:"/wishlist#"+h,children:"wishlist"}),"."]}),e.list===2&&u.jsxs(u.Fragment,{children:[u.jsx(Bs,{to:"/reading#"+h,children:"Reading"}),e.date_reading&&u.jsxs(u.Fragment,{children:[" since ",cn(e.date_reading,"human")]}),"."]}),(e.list===3||e.list===4)&&u.jsxs(u.Fragment,{children:[u.jsx(Bs,{to:"/finished#"+h,children:"Finished"}),e.date_finished&&u.jsxs(u.Fragment,{children:[" on ",cn(e.date_finished,"human")]}),e.list===4&&u.jsxs(u.Fragment,{children:[" and"," ",u.jsx(Bs,{to:"/favorites#"+h,children:"favorited"})]}),"."]})]})}),t!=="reading"&&t!=="dashboard"&&u.jsx("button",{className:"btn-icon",onClick:()=>c(!a),children:u.jsx("span",{className:"icon icon-dots"})}),u.jsxs("div",{className:a||t==="reading"?"marks dblock":"marks dnone",children:[!e.list&&ci(e,1),(e.list===1||t==="search"&&(e.list<2||!e.list))&&ci(e,2),(e.list===2||t==="search"&&e.list!==3&&e.list!==4)&&ci(e,3),(e.list===3||t==="search"&&e.list!==4)&&ci(e,4),e.list===1&&fi(e,1),e.list===2&&fi(e,2),(e.list===3||e.list===4)&&fi(e,3),e.list===4&&fi(e,4)]})]})]})]}),u.jsxs("footer",{children:[(t==="finished"||t==="favorites")&&$C(e,e.review_text),(t==="finished"||t==="favorites")&&df(e,e.review_fav_quote),t!=="finished"&&t!=="favorites"&&t!=="quotedbooks"&&t!=="dashboard"&&u.jsxs(u.Fragment,{children:[t==="search"&&e.subject&&HC(e.id,e.subject),u.jsxs("button",{className:i?"btn-text caret-right-toggle active":"btn-text caret-right-toggle",onClick:d,children:[o&&"Loading...",!o&&!i&&"Synopsis",!o&&i&&u.jsx("b",{style:{color:"black"},children:" Synopsis "})]}),u.jsx("div",{className:"synopsisWrapper","aria-expanded":i,children:u.jsxs("div",{className:"synopsis",children:[u.jsx("br",{}),u.jsx(DC,{children:n})]})})]}),u.jsx("hr",{})]})]})};function JC(){const{userMyBooks:e}=_.useContext(z);let t=!1;const n=e.filter(i=>i.list===2);n.length>0&&(t=!0);function r(i){return i.length===1?i.map(s=>u.jsx(Yr,{book:s,currentPage:"dashboard"},s.id)):u.jsx(ee,{to:"/reading",children:u.jsx("div",{className:"deck-container",children:i.slice(-6).map((s,o)=>u.jsx("article",{className:"book-cover",style:{zIndex:10-o},children:u.jsx("img",{src:Gn(s.cover,"L")})},s.id))})})}return u.jsx(u.Fragment,{children:t?u.jsx("main",{className:"reading deck",children:r(n)}):u.jsx(ee,{to:"/reading",children:u.jsxs("main",{className:"toadd",children:[u.jsx("aside",{children:u.jsx("button",{className:"btn-icon",children:u.jsx("img",{src:"img/plus-icon.svg"})})}),"Already reading a book? Let's add it here."]})})})}function GC(){return u.jsx(u.Fragment,{children:u.jsxs("article",{className:"adder",children:[u.jsx(ee,{to:"/reading",children:u.jsxs("header",{className:"adder-header",children:["What I'm reading now ",u.jsx("span",{children:"›"})]})}),u.jsx(JC,{})]})})}function YC(){const{userMyBooks:e}=_.useContext(z);let t=!1;const n=e;n.length>0&&(t=!0);function r(i){return i.length===1?i.map(s=>u.jsx(Yr,{book:s,currentPage:"dashboard"},s.id)):u.jsx(ee,{to:"/saved-books",children:u.jsx("div",{className:"deck-container",children:i.slice(-6).map((s,o)=>u.jsx("article",{className:"book-cover",style:{zIndex:10-o},children:u.jsx("img",{src:Gn(s.cover,"L")})},s.id))})})}return u.jsx(u.Fragment,{children:t?u.jsx("main",{className:"saved deck",children:r(n)}):u.jsx(ee,{to:"/saved",children:u.jsxs("main",{className:"toadd",children:[u.jsx("aside",{children:u.jsx("button",{className:"btn-icon",children:u.jsx("img",{src:"img/save-books-icon.png"})})}),"Let's start saving books."]})})})}function XC(){return u.jsx(u.Fragment,{children:u.jsxs("article",{className:"adder",children:[u.jsx(ee,{to:"/saved-books",children:u.jsxs("header",{className:"adder-header",children:["All of Mu Books",u.jsx("span",{children:"›"})]})}),u.jsx(YC,{})]})})}function ZC({page:e}){const{userMyBooks:t}=_.useContext(z);let n=!1;const r=t.filter(s=>s.list===3||s.list===4);r.length>0&&(n=!0);function i(s){return s.length===1?s.map(o=>u.jsx(Yr,{book:o,currentPage:e},o.id)):(s.sort((o,l)=>Number(l.date_finished)-Number(o.date_finished)),u.jsx(ee,{to:"/finished",children:u.jsx("div",{className:"deck-container",children:s.slice(0,6).map((o,l)=>u.jsx("article",{className:"book-cover",style:{zIndex:10-l},children:u.jsx("img",{src:Gn(o.cover,"L")})},o.id))})}))}return u.jsx(u.Fragment,{children:n?u.jsx("main",{className:"finished deck",children:i(r)}):u.jsx(ee,{to:"/finished",children:u.jsxs("main",{className:"toadd",children:[u.jsx("aside",{children:u.jsx("button",{className:"btn-icon",children:u.jsx("img",{src:"img/icon-finished.png"})})}),"Books I finished reading."]})})})}function eE(){return u.jsx(u.Fragment,{children:u.jsxs("article",{className:"adder",children:[u.jsx(ee,{to:"/finished",children:u.jsxs("header",{className:"adder-header",children:["Mu Finished books",u.jsx("span",{children:"›"})]})}),u.jsx(ZC,{page:"dashboard"})]})})}function tE({page:e}){const{userMyBooks:t}=_.useContext(z);let n=!1;const r=t.filter(s=>s.list===4);r.length>0&&(n=!0);function i(s){return s.length===1?s.map(o=>u.jsx(Yr,{book:o,currentPage:e},o.id)):(Gx(s),u.jsx(ee,{to:"/favorites",children:u.jsx("div",{className:"deck-container",children:s.slice(-6).map((o,l)=>u.jsx("article",{className:"book-cover",style:{zIndex:10-l},children:u.jsx("img",{src:Gn(o.cover,"L")})},o.id))})}))}return u.jsx(u.Fragment,{children:n?u.jsx("main",{className:"favorites deck",children:i(r)}):u.jsx(ee,{to:"/favorites",children:u.jsxs("main",{className:"toadd",children:[u.jsx("aside",{children:u.jsx("button",{className:"btn-icon",children:u.jsx("img",{src:"img/icon-favorites.png"})})}),"Only the best ones here."]})})})}function nE(){return u.jsx(u.Fragment,{children:u.jsxs("article",{className:"adder",children:[u.jsx(ee,{to:"/favorites",children:u.jsxs("header",{className:"adder-header",children:["Mu Favorites",u.jsx("span",{children:"›"})]})}),u.jsx(tE,{page:"dashboard"})]})})}function rE({page:e}){const{userMyBooks:t}=_.useContext(z);let n=!1;const r=t.filter(s=>s.list===1);r.length>0&&(n=!0);function i(s){return s.length===1?s.map(o=>u.jsx(Yr,{book:o,currentPage:e},o.id)):u.jsx(ee,{to:"/wishlist",children:u.jsx("div",{className:"deck-container",children:s.slice(-6).map((o,l)=>u.jsx("article",{className:"book-cover",style:{zIndex:10-l},children:u.jsx("img",{src:Gn(o.cover,"L")})},o.id))})})}return u.jsx(u.Fragment,{children:n?u.jsx("main",{className:"wishlist deck",children:i(r)}):u.jsx(ee,{to:"/wishlist",children:u.jsxs("main",{className:"toadd",children:[u.jsx("aside",{children:u.jsx("button",{className:"btn-icon",children:u.jsx("img",{src:"img/icon-wishlist.png"})})}),"Next in line."]})})})}function iE({page:e}){return u.jsx(u.Fragment,{children:u.jsxs("article",{className:"adder",children:[u.jsx(ee,{to:"/wishlist",children:u.jsxs("header",{className:"adder-header",children:["Mu Wishlist",u.jsx("span",{children:"›"})]})}),u.jsx(rE,{page:e})]})})}const sE="Mu Dashboard",oE="dashboard";function lE(){const{setNavTitle:e}=_.useContext(z);_.useEffect(()=>{e(sE)},[e]);const t=ut();return _.useEffect(()=>{localStorage.getItem(un)},[t]),u.jsxs(u.Fragment,{children:[u.jsx(ak,{}),u.jsx(GC,{}),u.jsx(iE,{page:oE}),u.jsx(nE,{}),u.jsx(eE,{}),u.jsx(XC,{})]})}const pf=window.location.href,aE=()=>{const e=ut(),[t,n]=_.useState(""),[r,i]=_.useState("");let s="";if(nt(pf,"error_description")){const o=nt(pf,"error_description");s=zC(o)}return _.useEffect(()=>{n("We will redirect you to the login page in "),setTimeout(()=>{i("3. "),setTimeout(()=>{i("3. 2. "),setTimeout(()=>{i("3. 2. 1. "),setTimeout(()=>{e("/account/login")},1e3)},1e3)},1e3)},200)},[e]),u.jsxs(u.Fragment,{children:[u.jsx("h1",{children:"Error"}),u.jsx("h2",{children:s}),u.jsxs("p",{children:[t,r]})]})},uE=()=>{const{setLocalBookFilter:e,localBookFilter:t}=_.useContext(z);function n(i){const s=i.target.value.toLowerCase();s.length>0?e(s):e("")}function r(){e("")}return u.jsxs("div",{id:"booksoverview-filter-sort",children:[u.jsx("form",{className:"single-small-form",children:u.jsx("input",{type:"text",onChange:n,id:"booksoverview-filter",value:t,placeholder:"Filter on book title"})}),t.length>0&&u.jsx("button",{className:"btn-text btn-text-cancel",onClick:r,children:"Reset filter"})]})},In=({books:e,page:t})=>{const{userMyBooks:n}=_.useContext(z),r=n;return u.jsxs(u.Fragment,{children:[t!=="search"&&t!=="tropes"&&u.jsx(uE,{}),e.map(i=>(t==="search"&&r.find(s=>{s.id===i.id&&(i.list=s.list,i.date_reading=s.date_reading,i.date_finished=s.date_finished)}),u.jsx(Yr,{book:i,currentPage:t},i.id)))]})},mf="Favorites",cE="favorites",dE=()=>{const{userMyBooks:e,setNavTitle:t,localBookFilter:n}=_.useContext(z);_.useEffect(()=>{t(mf)},[t]);let r=!1,i=[];return localStorage.getItem("MyBooks")!==void 0&&(n!==""&&n.length>0?i=e.filter(s=>s.list===4&&s.title_short.toLowerCase().includes(n.toLowerCase())):i=e.filter(s=>s.list===4),i!==void 0&&(i.length>0?(i.sort((s,o)=>Number(o.date_finished)-Number(s.date_finished)),r=!0):r=!1)),u.jsxs(u.Fragment,{children:[u.jsxs("h1",{children:[mf,u.jsx("sub",{children:n.length>0&&i.length>0?u.jsxs(u.Fragment,{children:["Results for ",u.jsx("i",{children:n})," : ",i.length]}):n.length>0&&i.length===0?u.jsxs(u.Fragment,{children:["No book titles found for ",u.jsxs("i",{children:[n,"."]})]}):u.jsxs(u.Fragment,{children:["Beloved and adored books: ",i.length]})})]}),!r&&n===""&&u.jsxs(u.Fragment,{children:[u.jsx("h4",{children:"No books marked as favorite yet."}),u.jsxs("p",{children:["Select and mark your favorite book from ",u.jsx(ee,{to:"/finished",children:"your finished books"})," add to this list."]})]}),u.jsx(In,{books:i,page:cE})]})},gf="Finished books",hE="finished",fE=()=>{const{userMyBooks:e,setNavTitle:t,localBookFilter:n}=_.useContext(z);_.useEffect(()=>{t(gf)},[t]);let r=!1,i=[];return localStorage.getItem("MyBooks")!==void 0&&(n!==""&&n.length>0?i=e.filter(s=>(s.list===3||s.list===4)&&s.title_short.toLowerCase().includes(n)):i=e.filter(s=>s.list===3||s.list===4),i.sort((s,o)=>Number(o.date_finished)-Number(s.date_finished)),i!==void 0&&(i.length>0?r=!0:r=!1)),u.jsxs(u.Fragment,{children:[u.jsxs("h1",{children:[gf,u.jsx("sub",{children:n.length>0&&i.length>0?u.jsxs(u.Fragment,{children:["Results for ",u.jsx("i",{children:n})," : ",i.length]}):n.length>0&&i.length===0?u.jsxs(u.Fragment,{children:["No book titles found for ",u.jsxs("i",{children:[n,"."]})]}):u.jsxs(u.Fragment,{children:["Books I finished reading: ",i.length]})})]}),!r&&n===""&&u.jsxs(u.Fragment,{children:[u.jsx("p",{children:"Have any favorites? Add them to your favorites from here."}),u.jsx("h4",{children:"Not finished any book yet."}),u.jsxs("p",{children:["Are you finished with the book you're reading?",u.jsx("br",{}),"Select and mark your ",u.jsx(ee,{to:"/reading",children:"currently reading book"})," as finished.",u.jsx("br",{}),u.jsx("br",{})]})]}),u.jsx(In,{books:i,page:hE})]})},pE=()=>{const e=ut(),{userIsLoggedIn:t,navTitle:n}=_.useContext(z),[r,i]=_.useState(!1);function s(){i(!r)}function o(){i(!1),e("/search")}return t===!1?u.jsx(u.Fragment,{}):u.jsx(u.Fragment,{children:u.jsxs("div",{className:r?"anyexpanded":"allcollapsed",children:[u.jsxs("nav",{id:"navIcons",children:[u.jsx("button",{id:"toggleNavBurger",className:r?"expanded":"collapsed",onClick:s,children:u.jsxs("div",{className:"burger",children:[u.jsx("div",{className:"burgerbar bar1"}),u.jsx("div",{className:"burgerbar bar2"}),u.jsx("div",{className:"burgerbar bar2duplo"}),u.jsx("div",{className:"burgerbar bar3"})]})}),u.jsx("h1",{id:"navTitle",children:n}),u.jsx("div",{style:{display:"flex",alignContent:"center"},children:u.jsxs("button",{className:"toggleZoekNav",onClick:()=>o(),children:[u.jsx("span",{className:"alt",children:"Search"}),u.jsx("svg",{className:"zoekIconSvg",viewBox:"0 0 149.84702 148.5",version:"1.1",id:"nav-icon-loep",xmlns:"http://www.w3.org/2000/svg",children:u.jsxs("g",{id:"nav-icon-loep-path",children:[u.jsx("path",{id:"loep-rect1",transform:"rotate(-45)",d:"m -3.2461977,126.12067 h 8.3973866 c 3.5534027,0 6.4140841,2.86068 6.4140841,6.41408 v 65.15062 c 0,3.55341 -2.8606814,6.41409 -6.4140841,6.41409 h -8.3973866 c -3.5534028,0 -6.4140844,-2.86068 -6.4140844,-6.41409 v -65.15062 c 0,-3.5534 2.8606816,-6.41408 6.4140844,-6.41408 z"}),u.jsx("path",{id:"nav-icon-loep-stroke",d:"M 103.48977,56.050812 A 47.438957,47.438957 0 0 1 56.050812,103.48977 47.438957,47.438957 0 0 1 8.6118546,56.050812 47.438957,47.438957 0 0 1 56.050812,8.6118546 47.438957,47.438957 0 0 1 103.48977,56.050812 Z"})]})})]})})]}),u.jsxs("nav",{id:"nav0",className:r?"expanded nav-collapsable":"collapsed nav-collapsable","aria-expanded":r?"true":"false",children:[u.jsxs("ul",{children:[u.jsx("li",{children:u.jsx(Me,{to:"/dashboard",onClick:s,children:"Dashboard"})}),u.jsx("li",{children:u.jsx(Me,{to:"/search",onClick:s,children:"Search"})}),u.jsx("li",{children:u.jsx(Me,{to:"/wishlist",onClick:s,children:"Wishlist"})}),u.jsx("li",{children:u.jsx(Me,{to:"/reading",onClick:s,children:"Reading"})}),u.jsx("li",{children:u.jsx(Me,{to:"/finished",onClick:s,children:"Finished"})}),u.jsx("li",{children:u.jsx(Me,{to:"/favorites",onClick:s,children:"Favorites"})}),u.jsx("li",{children:u.jsx(Me,{to:"/saved-books",onClick:s,children:"Saved books"})}),u.jsx("li",{children:u.jsx(Me,{to:"/quoted-books",onClick:s,children:"Quoted"})}),u.jsx("li",{children:u.jsx(Me,{to:"/tropes",onClick:s,children:"Tropes"})}),u.jsx("li",{children:u.jsx(Me,{to:"/statistics",onClick:s,children:"Statistics"})}),u.jsx("li",{children:u.jsx(Me,{to:"/clear-my-books",onClick:s,children:"Clear My Books"})}),u.jsx("li",{children:u.jsxs("div",{className:"history",children:[u.jsx("button",{children:"<"}),u.jsx("button",{children:">"})]})})]}),u.jsxs("ul",{children:[u.jsx("li",{children:u.jsx(Me,{to:"/account/profile",onClick:s,children:"Profile"})}),u.jsx("li",{children:u.jsx(Me,{to:"/account/logout",onClick:s,children:"Logout"})})]})]})]})})},yf="Mu Quotes",mE="quotedbooks",gE=()=>{const{userMyBooks:e,setNavTitle:t}=_.useContext(z);_.useEffect(()=>{t(yf)},[t]);let n,r=!1;return e===void 0&&(n=[]),e.length>0?(n=e.filter(i=>i.review_fav_quote&&i.review_fav_quote!==""),n.length>0&&(r=!0)):n=[],u.jsxs(u.Fragment,{children:[u.jsxs("h1",{children:[yf," ",u.jsxs("sub",{children:["My books with quotes to remember: ",n.length]})]}),u.jsxs("div",{className:r===!0?"dnone":"dblock",children:[u.jsx("h4",{children:"No books added yet, find them and add them."}),u.jsx("p",{children:u.jsx(ee,{to:"/search",className:"wauto",children:"Search"})})]}),u.jsx(In,{books:n,page:mE})]})},yE="Mu books",vE="reading",wE=()=>{const{userMyBooks:e,setNavTitle:t,localBookFilter:n}=_.useContext(z);_.useEffect(()=>{t(yE)},[t]);let r=!1,i=[];return e!==void 0&&(n!==""&&n.length>0?i=e.filter(s=>s.list===2&&s.title_short.toLowerCase().includes(n)):i=e.filter(s=>s.list===2),i!==void 0&&(i.length>0?r=!0:r=!1)),u.jsxs(u.Fragment,{children:[u.jsxs("h1",{children:["What I'm reading now",u.jsx("sub",{children:n.length>0&&i.length>0?u.jsxs(u.Fragment,{children:["Results for ",u.jsx("i",{children:n})," : ",i.length]}):n.length>0&&i.length===0?u.jsxs(u.Fragment,{children:["No book titles found for ",u.jsxs("i",{children:[n,"."]})]}):u.jsxs(u.Fragment,{children:["Currently enjoying book(s):",i.length]})})]}),!r&&n===""&&u.jsxs(u.Fragment,{children:[u.jsx("h4",{children:"Currently not reading anything."}),u.jsxs("p",{children:["Want to add a book to your reading list?",u.jsx("br",{}),u.jsx(ee,{to:"/wishlist",children:"View your wishlist"})," or ",u.jsx(ee,{to:"/search",children:"Search"})," to add a book.",u.jsx("br",{}),u.jsx("br",{})]})]}),u.jsx(In,{books:i,page:vE})]})},sn=window.location.href,vf=nt(sn,"access_token",!0),wf=nt(sn,"refresh_token",!0),xE=()=>{const{setPopupNotification:e,setPopupNotificationShow:t}=_.useContext(z),n=_.useCallback(function(){return!!nt(sn,"error",!0)},[]),r=_.useCallback(function(){return{error:nt(sn,"error",!0),error_code:nt(sn,"error_code",!0),error_description:nt(sn,"error_description",!0)}},[]);async function i(d,h){const{error:p}=await Z.auth.setSession({access_token:d,refresh_token:h});p&&console.log("Error logging in with token:",p.message)}vf!==""&&wf!==""&&i(vf,wf);const{setUsermail:s,setUserIsLoggedIn:o,userIsLoggedIn:l}=_.useContext(z),a=ut(),c=JSON.parse(localStorage.getItem(un));return _.useEffect(()=>{var p;let d,h=!1;((p=c==null?void 0:c.user)==null?void 0:p.aud)==="authenticated"&&(h=!0,o(!0)),n()?d="/error?error_description="+r().error_description:h?d="/dashboard":(d="/account/login",nt(sn,"type")==="recovery"&&(d="/auth/resetpassword")),h?(s(c.user.email),e("Logged in, redirecting"),t(!0),a(d)):(l&&o(!0),setTimeout(()=>{nt(sn,"type")==="recover"&&(d="/auth/resetpassword")},1500),a(d))},[a,s,c,r,n,o,l,e,t]),u.jsx(u.Fragment,{children:u.jsx("main",{id:"main",className:"textwrapper",children:u.jsxs("div",{className:"textwrapper",children:["Redirecting to wherever you should be right now... ",u.jsx("br",{}),u.jsx("a",{href:"https://ckdev88.github.io/mubooks/#/dashboard",children:"dashboard"}),u.jsx("br",{}),u.jsx(ee,{to:"/auth/resetpassword",children:"password reset page"})]})})})},_E="Saved books",kE="savedbooks";function SE(){const{userMyBooks:e,setNavTitle:t,localBookFilter:n}=_.useContext(z);_.useEffect(()=>{t(_E)},[t]);let r=!1,i=[];return localStorage.getItem("MyBooks")!==void 0&&(n!==""&&n.length>0?i=e.filter(s=>s.title_short.toLowerCase().includes(n.toLowerCase())):i=e,i!==void 0&&(i.length>0?r=!0:r=!1)),u.jsxs(u.Fragment,{children:[u.jsxs("h1",{children:["My Books",u.jsx("sub",{children:n.length>0&&i.length>0?u.jsxs(u.Fragment,{children:["Results for ",u.jsx("i",{children:n})," : ",i.length]}):n.length>0&&i.length===0?u.jsxs(u.Fragment,{children:["No book titles found for ",u.jsxs("i",{children:[n,"."]})]}):u.jsxs(u.Fragment,{children:[" My books which are in whatever list: ",i.length," "]})})]}),!r&&n===""&&u.jsxs(u.Fragment,{children:[u.jsx("p",{children:"An overview of my saved books, this includes books that are favorited, read and finished, the wishlist and the book currently reading."}),u.jsxs("div",{children:[u.jsx("h4",{children:"No books added yet, find them and add them."}),u.jsx("p",{children:u.jsx(ee,{to:"/search",className:"wauto",children:"Search"})})]})]}),u.jsx(In,{books:i,page:kE})]})}const xf="Search",jE="search",CE=()=>{const[e,t]=_.useState(""),[n,r]=_.useState(0),[i,s]=_.useState([]),[o,l]=_.useState(""),[a,c]=_.useState(!1),{setNavTitle:d}=_.useContext(z);_.useEffect(()=>{var p;d(xf),(p=document.getElementById("search_term"))==null||p.focus()},[d]);async function h(p){p.preventDefault();const f=performance.now(),y=p.currentTarget.search_term.value.trim();y.length>4?(c(!0),t(""),await fetch("https://openlibrary.org/search.json?q="+y+"&mode=everything&limit=30&fields="+"title,author_name,isbn,cover_edition_key,author_key,edition_key,key,first_publish_year,number_of_pages_median,subject").then(x=>x.json()).then(x=>x.docs.filter(m=>m.author_key!==void 0&&m.edition_key!==void 0&&m.key!==void 0&&m.cover_edition_key!==void 0)).then(x=>{r(x.length);for(let m=0;m<x.length;m++)x[m].id=x[m].key.toString().replace("/works/",""),x[m].title_short=x[m].title.slice(0,45).toString(),x[m].cover=eu(x[m].cover_edition_key);return x.length>30?t("Showing only 30 results. Specify a bit more."):t("Showing "+x.length+" results."),l(y),x}).then(x=>{s(x)}).catch(x=>t("error "+x)).finally(()=>c(!1))):y.length===0?t(y):t("keep typing..."),console.log("search performed in:",performance.now()-f)}return u.jsxs(u.Fragment,{children:[u.jsxs("h1",{children:[xf,u.jsx("sub",{children:"Find the book you want to add."})]}),u.jsxs("form",{onSubmit:h,children:[u.jsxs("label",{htmlFor:"search_term",children:[u.jsx("div",{className:"description",children:"Term or title"}),u.jsx("input",{type:"text",id:"search_term"})]}),u.jsx("br",{}),u.jsx("input",{type:"submit",disabled:a,value:a?"Searching...":"Search"})]}),u.jsx("div",{children:u.jsxs("div",{className:o!==""||e!==""?"dblock":"dnone",children:[u.jsxs("h2",{className:"resultsfound",children:[n>30?"Over 30":n," ",n>1||n===0?"books":"book"," found for ",u.jsxs("em",{children:['"',o,'"']}),u.jsx("sub",{className:e!==""?"dblock":"dnone",children:e})]}),u.jsx(In,{books:i,page:jE})]})})]})},EE=e=>e.map((t,n)=>{const r="Nopagesfor"+n+Ic(t);return u.jsx("li",{children:t},r)}),iy=new Date,mu=iy.getFullYear(),bE=new Date(mu,0,0),TE=1e3*60*60*24,_f=Math.floor((Number(iy)-Number(bE))/TE);let pi=0,Zl=[];const PE=e=>{const{userMyBooks:t}=_.useContext(z),[n,r]=_.useState(!1);pi=0,Zl=[];const i=(o,l)=>{let a=0,c=0,d=0;const h=o*1e4,p=h+1e4;for(let f=0;f<t.length;f++)t[f].date_finished!==void 0&&Number(t[f].date_finished)>h&&Number(t[f].date_finished)<p&&((l==="books"||l==="daysperbook")&&(c+=1),l!=="books"&&((l==="pages"||l==="pagesperday")&&typeof t[f].number_of_pages_median=="number"?d+=t[f].number_of_pages_median:l==="pages"&&t[f].number_of_pages_median===void 0&&(pi++,Zl.push(t[f].title_short))));return l==="books"?a=c:l==="pages"?a=d:l==="daysperbook"?o===mu?a=Math.floor(_f/c):a=Math.floor(365/c):l==="pagesperday"&&(o===mu?a=Math.floor(d/_f):a=Math.floor(d/365)),a},s="StatisticsYear"+e;if(i(e,"books")>0)return u.jsxs("div",{children:[u.jsxs("h2",{children:[e,"."]}),"Books finished: ",i(e,"books"),u.jsx("br",{}),"Pages finished: ",i(e,"pages"),pi>0&&u.jsx("small",{children:"*"}),u.jsx("br",{}),"Average days per book: ",i(e,"daysperbook"),u.jsx("br",{}),"Average pages per day: ",i(e,"pagesperday"),pi>0&&u.jsx("small",{children:"*"}),u.jsx("br",{}),pi>0&&u.jsxs("i",{children:[u.jsxs("button",{onClick:()=>r(!n),className:n?"btn-text caret-right-toggle italic diblock wauto active":"btn-text caret-right-toggle italic diblock wauto",children:["* Books without pages defined"," "]}),n&&u.jsx(u.Fragment,{children:EE(Zl)})]})]},s)},NE="Mu Statistics",IE=new Date,Ac=IE.getFullYear();let mi=Ac*1e4,kf=Ac;const OE=()=>{const{userMyBooks:e,setNavTitle:t}=_.useContext(z),n=[];_.useEffect(()=>{t(NE)},[t]),mi=(()=>{for(let i=0;i<e.length;i++)Number(e[i].date_finished)>0&&Number(e[i].date_finished)<mi&&(mi=Number(e[i].date_finished));return mi})(),kf=Math.floor(mi/1e4);for(let i=Ac;i>kf-1;i--)n.push(PE(i));return u.jsxs(u.Fragment,{children:[u.jsx("h1",{children:"Mu Statistics"}),n]})},LE=({page:e})=>{const{userMyBooks:t}=_.useContext(z),[n,r]=_.useState(""),[i,s]=_.useState([]),o=new Set;t.map(c=>{c.review_tropes&&c.review_tropes.map(d=>o.add(d))});const l=Array.from(o);function a(c){const d=t.filter(h=>h.review_tropes!==void 0&&h.review_tropes.length>0&&h.review_tropes.includes(c));s(d),r(c)}return u.jsxs(u.Fragment,{children:[u.jsx("h2",{children:"Tropes in my Books."}),u.jsx("ul",{className:"tropes clr",children:l.map((c,d)=>u.jsx("li",{className:"trope_add",children:u.jsx("button",{className:"btn-txt btn-sm mb0",onClick:()=>a(c),children:c})},Oc(c,d)))}),i.length>0&&u.jsxs(u.Fragment,{children:[u.jsxs("h2",{children:["My Books for ",u.jsx("em",{children:n})]}),u.jsx("br",{}),u.jsx(In,{books:i,page:e})]})]})},AE=()=>{const{setNavTitle:e,setPopupNotification:t,userid:n}=_.useContext(z),[r,i]=_.useState(!1),[s,o]=_.useState([]),l=async()=>{const f=await Z.from("user_entries").select("tropes_liked");f.data&&o(f.data[0].tropes_liked)};_.useEffect(()=>{l()},[e]),_.useEffect(()=>{var f;r===!0&&((f=document.getElementById("trope_add_liked"))==null||f.focus())},[r]);async function a(f){f.preventDefault();let y;if(f.currentTarget.trope_add_liked.value!==void 0){y=Cn(f.currentTarget.trope_add_liked.value,!1),o([...s,y]),f.currentTarget.trope_add_liked.value="",f.currentTarget.trope_add_liked.focus();let w;const{error:x}=await Z.from("user_entries").update({tropes_liked:[...s,y],testdata:"updated from tropes: Add liked trope"}).eq("user_id",n).select("*");x?w=x.message:w="Updated liked tropes.",t(w)}}async function c(f){let y;const{error:w}=await Z.from("user_entries").update({tropes_liked:s.filter(x=>x!==f),testdata:"updated from tropes: remove liked trope"}).eq("user_id",n).select("*");w?y=w.message:y="Updated liked tropes.",t(y)}function d(f){o(s.filter(y=>y!==f)),c(f)}const h=()=>{i(!1)},p=({tropes:f})=>u.jsxs("ul",{className:"tropes clr mb0",children:[f.map((y,w)=>u.jsxs("li",{className:"trope badge cgreen",children:[y,u.jsx("button",{className:"btn-x",onClick:()=>d(y),children:"x"})]},Oc(y,w))),u.jsx("li",{className:"trope_add",children:u.jsx("button",{className:r?"btn-sm mb0 active":"btn-sm mb0",onClick:()=>i(!r),children:f.length>0?u.jsx(u.Fragment,{children:"+"}):u.jsx(u.Fragment,{children:"Add tropes"})})})]});return u.jsxs(u.Fragment,{children:[u.jsx("h2",{children:"Like"}),u.jsxs("div",{children:[u.jsx(p,{tropes:s}),r&&u.jsxs(u.Fragment,{children:[u.jsxs("form",{className:"single-small-form clr",onSubmit:a,children:[u.jsx("input",{type:"text",name:"trope_add_liked",id:"trope_add_liked",placeholder:"Add a trope..."}),u.jsx("button",{className:"btn-submit-inside-caret-right"})]}),u.jsx("button",{className:"btn-text btn-text-cancel",onClick:()=>h(),children:"Cancel"})]})]})]})},RE=()=>{const{setNavTitle:e,setPopupNotification:t,userid:n}=_.useContext(z),[r,i]=_.useState(!1),[s,o]=_.useState([]),l=async()=>{const f=await Z.from("user_entries").select("tropes_disliked");f.data&&o(f.data[0].tropes_disliked)};_.useEffect(()=>{l()},[e]),_.useEffect(()=>{var f;r===!0&&((f=document.getElementById("trope_add_disliked"))==null||f.focus())},[r]);async function a(f){f.preventDefault();let y;if(f.currentTarget.trope_add_disliked.value!==void 0){y=Cn(f.currentTarget.trope_add_disliked.value,!1),o([...s,y]),f.currentTarget.trope_add_disliked.value="",f.currentTarget.trope_add_disliked.focus();let w;const{error:x}=await Z.from("user_entries").update({tropes_disliked:[...s,y],testdata:"updated from tropes: Add liked trope"}).eq("user_id",n).select("*");x?w=x.message:w="Updated liked tropes.",t(w)}}async function c(f){let y;const{error:w}=await Z.from("user_entries").update({tropes_disliked:s.filter(x=>x!==f),testdata:"updated from tropes: remove disliked trope"}).eq("user_id",n).select("*");w?y=w.message:y="Updated disliked tropes.",t(y)}function d(f){o(s.filter(y=>y!==f)),c(f)}const h=()=>{i(!1)},p=({tropes:f})=>u.jsxs("ul",{className:"tropes clr mb0",children:[f.map((y,w)=>u.jsxs("li",{className:"trope badge cred",children:[y,u.jsx("button",{className:"btn-x",onClick:()=>d(y),children:"x"})]},Oc(y,w))),u.jsx("li",{className:"trope_add",children:u.jsx("button",{className:r?"btn-sm mb0 active":"btn-sm mb0",onClick:()=>i(!r),children:f.length>0?u.jsx(u.Fragment,{children:"+"}):u.jsx(u.Fragment,{children:"Add tropes"})})})]});return u.jsxs(u.Fragment,{children:[u.jsx("h2",{children:"Dislike"}),u.jsxs("div",{children:[u.jsx(p,{tropes:s}),r&&u.jsxs(u.Fragment,{children:[u.jsxs("form",{className:"single-small-form clr",onSubmit:a,children:[u.jsx("input",{type:"text",name:"trope_add_disliked",id:"trope_add_disliked",placeholder:"Add a trope..."}),u.jsx("button",{className:"btn-submit-inside-caret-right"})]}),u.jsx("button",{className:"btn-text btn-text-cancel",onClick:()=>h(),children:"Cancel"})]})]})]})},FE="Tropes",DE="tropes",ME=()=>{const{setNavTitle:e}=_.useContext(z),[t,n]=_.useState(!1);return _.useEffect(()=>{e(FE)},[e]),u.jsxs(u.Fragment,{children:[u.jsx("h1",{children:"My Tropes"}),u.jsx(AE,{}),u.jsx(RE,{}),u.jsx("br",{}),u.jsx("hr",{}),u.jsx("br",{}),u.jsx("button",{className:t?"btn-text caret-right-toggle active wauto notext":"btn-text caret-right-toggle wauto",onClick:()=>n(!t),children:t?"":"Show more"}),t&&u.jsx(LE,{page:DE})]})},ps=()=>{function e(){var l,a;const s=document.getElementById("card-signup"),o=document.getElementById("card-recover");(l=document.getElementById("cards-draaideur"))==null||l.classList.add("rotate"),s&&(s.style.display="none"),o&&(o.style.display="flex",(a=document.getElementById("recover_email"))==null||a.focus())}function t(){var l,a;const s=document.getElementById("card-recover"),o=document.getElementById("card-signup");(l=document.getElementById("cards-draaideur"))==null||l.classList.add("rotate"),s&&(s.style.display="none"),o&&(o.style.display="flex",(a=document.getElementById("signup_screenname"))==null||a.focus())}function n(){var s,o;(s=document.getElementById("cards-draaideur"))==null||s.classList.remove("rotate"),(o=document.getElementById("login_email"))==null||o.focus()}function r(){var s,o;(s=document.getElementById("cards-draaideur"))==null||s.classList.remove("rotate"),(o=document.getElementById("login_email"))==null||o.focus()}function i(){var s;(s=document.getElementById("cards-draaideur"))==null||s.classList.add("rotate")}return{signup:t,recover:e,login:n,see:r,change:i}},BE=()=>{const e=ut(),{setUserIsLoggedIn:t,setUsername:n,setUsermail:r,formNotification:i,setFormNotification:s}=_.useContext(z),[o,l]=_.useState(""),[a,c]=_.useState(!1),d=async y=>{const{data:w,error:x}=await Z.auth.signInWithPassword({email:y.email,password:y.password});return{error:x,data:w}};async function h(y){y.preventDefault(),c(!0);const w={email:y.currentTarget.login_email.value,password:y.currentTarget.login_password.value};await d(w).then(x=>{var m,g;x.error!==null?(l(x.error.message),t(!1),c(!1)):(l(""),t(!0),s(""),n((m=x.data.user)==null?void 0:m.user_metadata.screenname),r((g=x.data.user)==null?void 0:g.user_metadata.email),e("/loadlibrary"))}).catch(()=>l("Something unexpected happened, try again later."))}const{recover:p,signup:f}=ps();return u.jsx(u.Fragment,{children:u.jsxs("article",{className:"card",id:"card-login",children:[u.jsxs("main",{children:[u.jsx("header",{children:u.jsxs("div",{children:["Log in",u.jsx("sub",{children:"to continue"})]})}),u.jsx("em",{className:"form-notification",children:i}),u.jsxs("form",{onSubmit:h,children:[u.jsxs("label",{htmlFor:"login_email",children:[u.jsx("div",{className:"description",children:"Email address"}),u.jsx("input",{type:"email",id:"login_email",name:"login_email",required:!0})]}),u.jsxs("label",{htmlFor:"login_password",children:[u.jsx("div",{className:"description",children:"Password"}),u.jsx("input",{type:"password",id:"login_password",name:"login_password"})]}),u.jsxs("div",{className:o!==""?"dblock error":"dblock",children:[o," "]}),u.jsx("button",{type:"submit",value:"Log in",disabled:a,children:a?"Logging in...":"Log in"})]})]}),u.jsxs("footer",{children:[u.jsx("button",{className:"btn-text wauto-md nowrap",onClick:p,children:"Forgot password"}),u.jsxs("button",{className:"btn-text ta-right wauto-md nowrap diblock",onClick:f,children:[u.jsx("span",{className:"dnone diblock-md",children:"New here? "}),"Join now"]})]})]})})};async function zE(e){return await Z.auth.signUp(e)}function $E(){const{setUsermail:e}=_.useContext(z),t=ut(),{login:n}=ps(),[r,i]=_.useState("");async function s(o){o.preventDefault();const l={email:o.currentTarget.email.value,screenname:o.currentTarget.screenname.value,password:o.currentTarget.password.value},a=await zE(l);a.error?i(a.error.message):(e(l.email),t(`/account/new?addr=${l.email}`))}return u.jsx(u.Fragment,{children:u.jsxs("article",{className:"card",id:"card-signup",children:[u.jsx("header",{children:"Let's create an account"}),u.jsx("main",{children:u.jsxs("form",{onSubmit:s,children:[u.jsxs("label",{htmlFor:"screenname",children:[u.jsx("div",{className:"description",children:"Screen name"}),u.jsx("input",{type:"text",id:"signup_screenname",name:"screenname"})]}),u.jsxs("label",{htmlFor:"email",children:[u.jsx("div",{className:"description",children:"Email address: *"}),u.jsx("input",{type:"email",id:"signup_email",name:"email",required:!0})]}),u.jsxs("label",{htmlFor:"password",children:[u.jsx("div",{className:"description",children:"Password: *"}),u.jsx("input",{type:"password",id:"signup_password",name:"password",required:!0})]}),u.jsxs("div",{className:r!==""?"dblock error":"dblock",children:[r," "]}),u.jsx("button",{children:"Create account"})]})}),u.jsx("footer",{className:"content-right",children:u.jsx("button",{className:"btn-text",onClick:n,children:"I already have an account"})})]})})}const UE=()=>{const{setUsermail:e,userIsLoggedIn:t}=_.useContext(z),[n,r]=_.useState(""),i=ut(),{login:s}=ps(),[o,l]=_.useState(!1);function a(d){d.preventDefault();const h=d.currentTarget.email.value;c(h)}async function c(d){l(!0);const{error:h}=await Z.auth.resetPasswordForEmail(d);h?r(h.message):(e(d),l(!1),i(t?"/dashboard":"/account/forgotpassword"))}return u.jsx(u.Fragment,{children:u.jsxs("article",{className:"card",id:"card-recover",children:[u.jsxs("header",{children:[u.jsxs("div",{children:["Forgot your password?",u.jsx("sub",{children:"Don't worry. Let's reset it."})]}),u.jsx("img",{src:"/img/recover-icon.png",width:"82",height:"82",alt:"",className:"recover-icon"})]}),u.jsx("main",{children:u.jsxs("form",{onSubmit:a,children:[u.jsxs("label",{htmlFor:"recover_email",children:[u.jsx("div",{className:"description",children:"Email address: *"}),u.jsx("input",{type:"email",id:"recover_email",name:"email",required:!0})]}),u.jsx("p",{children:"We'll send a link to this email address if it matches an existing account."}),u.jsxs("div",{className:n!==""?"dblock error":"dblock",children:[n," "]}),u.jsx("button",{type:"submit",disabled:o,children:o?"Sending...":"Send me a password reset link"})]})}),u.jsx("footer",{children:u.jsx("button",{onClick:s,className:"btn-text",children:"Back to login"})})]})})};function sy(){const e=document.getElementsByClassName("axis")[0],t=document.getElementsByClassName("axis")[0].parentNode,n=e.getElementsByClassName("card");let r=n[0].offsetHeight;for(let i=0;i<n.length;i++)n[i].offsetHeight>r&&(r=n[i].offsetHeight+16);for(let i=0;i<n.length;i++)n[i].style.height=r+"px";t.style.height=r+"px",e.style.height=r+"px"}const HE="Log in";function Sf(){const e=ut(),{userIsLoggedIn:t,setNavTitle:n}=_.useContext(z);return _.useEffect(()=>{n(HE),t&&e("/dashboard")},[n,t,e]),_.useEffect(()=>sy(),[]),u.jsxs(u.Fragment,{children:[u.jsxs("h1",{id:"welcome",children:[u.jsx("img",{id:"welcome-logo-img",src:"img/logo.svg",alt:""})," MuBooks"]}),u.jsx("div",{id:"cards-draaideur",className:"cards-draaideur",children:u.jsxs("div",{className:"axis",children:[u.jsx(BE,{}),u.jsx($E,{}),u.jsx(UE,{})]})})]})}function VE(){const{setUserIsLoggedIn:e}=_.useContext(z),t=ut();return _.useEffect(()=>{(async()=>{await Z.auth.signOut().then(()=>{localStorage.clear(),e(!1)}).finally(()=>{setTimeout(()=>{t("/account/login")},1e3)})})()},[e,t]),u.jsxs(u.Fragment,{children:[u.jsx("h1",{children:"Logging out."}),u.jsx("p",{children:"Redirecting to login page..."})]})}function qE(){const{change:e}=ps(),{username:t,usermail:n,setUsermail:r}=_.useContext(z);async function i(){if(n!==void 0&&n!=="")return;const{data:{user:s}}=await Z.auth.getUser();s&&r(String(s==null?void 0:s.email))}return i(),u.jsxs("div",{className:"card",children:[u.jsx("header",{children:u.jsxs("div",{children:["My account ",u.jsx("sub",{children:"An overview of my profile"})]})}),u.jsxs("main",{children:[u.jsxs("dl",{children:[u.jsx("dt",{children:"Screen name"}),u.jsx("dd",{children:t||"-"}),u.jsx("dt",{children:"Email address"}),u.jsx("dd",{children:n}),u.jsx("dt",{children:"Password"}),u.jsx("dd",{children:"******"})]}),u.jsx("button",{onClick:e,children:"change"})]}),u.jsx("footer",{children:u.jsx(ee,{to:"/dashboard",children:"Back to dashboard"})})]})}function WE(){const{see:e}=ps(),{username:t,setUsername:n,usermail:r,setUsermail:i}=_.useContext(z);function s(a,c){n(a),i(c),e()}const o=async(a,c,d)=>{if(d!==""){const{error:h}=await Z.auth.updateUser({email:c,password:d,data:{screenname:a}});h?console.log("Error updating user:",h):s(a,c)}else{const{error:h}=await Z.auth.updateUser({email:d,data:{screenname:a}});h?console.log("Error updating user:",h):s(a,c)}};function l(a){a.preventDefault();const c=a.currentTarget.account_screenname.value.trim(),d=a.currentTarget.account_email.value.trim(),h=a.currentTarget.account_password.value.trim();o(c,d,h)}return u.jsx(u.Fragment,{children:u.jsxs("div",{className:"card",children:[u.jsx("header",{children:u.jsxs("div",{children:["Edit my account",u.jsx("sub",{children:"Change your preferences"})]})}),u.jsx("main",{children:u.jsxs("form",{onSubmit:l,children:[u.jsxs("label",{htmlFor:"account_screenname",children:[u.jsx("div",{className:"description",children:"Screen name"}),u.jsx("input",{type:"text",id:"account_screenname",name:"account_screenname",defaultValue:t})]}),u.jsxs("label",{htmlFor:"account_email",children:[u.jsx("div",{className:"description",children:"Email address"}),u.jsx("input",{type:"email",id:"account_email",name:"account_email",defaultValue:r})]}),u.jsxs("label",{htmlFor:"account_password",children:[u.jsx("div",{className:"description",children:"Password (leave empty to keep current)"}),u.jsx("input",{type:"password",id:"account_password",name:"account_password",defaultValue:""})]}),u.jsx("button",{children:"Save and return"})]})}),u.jsx("footer",{children:u.jsx("a",{onClick:e,children:"Return without saving"})})]})})}const QE="Mu Profile",KE=()=>{const{setNavTitle:e}=_.useContext(z);return _.useEffect(()=>{e(QE)},[e]),_.useEffect(()=>{sy()},[]),u.jsx(u.Fragment,{children:u.jsx("div",{className:"cards-draaideur",id:"cards-draaideur",children:u.jsxs("div",{className:"axis",children:[u.jsx(qE,{}),u.jsx(WE,{})]})})})},jf="Mu Wishlist",JE="wishlist",GE=()=>{const{userMyBooks:e,setNavTitle:t,localBookFilter:n}=_.useContext(z);_.useEffect(()=>{t(jf)},[t]);let r=!1,i=[];return localStorage.getItem("MyBooks")!=="undefined"&&(n!==""&&n.length>0?i=e.filter(s=>s.list===1&&s.title_short.toLowerCase().includes(n)):i=e.filter(s=>s.list===1),i!==void 0&&(i.length>0?r=!0:r=!1)),u.jsxs(u.Fragment,{children:[u.jsxs("h1",{children:[jf,u.jsx("sub",{children:n.length>0&&i.length>0?u.jsxs(u.Fragment,{children:["Results for ",u.jsx("i",{children:n})," : ",i.length]}):n.length>0&&i.length===0?u.jsxs(u.Fragment,{children:["No book titles found for ",u.jsxs("i",{children:[n,"."]})]}):u.jsxs(u.Fragment,{children:[" All the books I will read soon: ",i.length]})})]}),!r&&n===""&&u.jsxs(u.Fragment,{children:[u.jsx("h4",{children:"No books on mu wishlist yet."}),u.jsxs("p",{children:["Want to add a book to your wishlist?",u.jsx("br",{}),u.jsx(ee,{to:"/search",children:"Search"})," or ",u.jsx(ee,{to:"/add-book",children:"Add a book yourself"}),".",u.jsx("br",{}),u.jsx("br",{})]})]}),u.jsx(In,{books:i,page:JE})]})},YE=()=>{const e=ut();localStorage.getItem(un)===null&&e("/account/login");const{setUserMyBooks:t,userid:n}=_.useContext(z),[r,i]=_.useState(!1),s=async()=>{const{error:a}=await Z.from("user_entries").insert([{json:[],user_id:n,testdata:"nieuwe user"}]).select("*");a&&console.log("error after login:",a.message),l()},o=async()=>{await Z.from("user_entries").select("json").eq("user_id",n).then(a=>{a.data&&a.data.length<1?s():l()})},l=async()=>{await Z.from("user_entries").select("json").eq("user_id",n).then(a=>{a.data&&a.data[0].json&&t(a.data[0].json)}).then(()=>i(!0))};return o(),_.useEffect(()=>{r&&e("/dashboard")},[r,e]),u.jsxs(u.Fragment,{children:[u.jsx("h1",{children:"Logging in."}),u.jsx("p",{children:"Loading your library..."})]})},z=_.createContext({}),XE=iu(Date.now(),"input"),ZE=()=>{let e;localStorage.getItem(un)?e=!0:e=!1;const[t,n]=_.useState(""),[r,i]=_.useState(""),[s,o]=_.useState(""),[l,a]=_.useState([]),[c,d]=_.useState(e),[h,p]=_.useState(""),[f,y]=_.useState(!1),[w,x]=_.useState(""),[m,g]=_.useState(!1),[v,S]=_.useState(""),[E,C]=_.useState(""),T=async()=>{let A;const J=await Z.from("user_entries").select("json");if(J.data)return g(!0),A=J.data[0].json,a(A),A},[I,M]=_.useState(navigator.onLine);_.useEffect(()=>{const A=()=>M(navigator.onLine);return window.addEventListener("online",A),window.addEventListener("offline",A),()=>{window.removeEventListener("online",A),window.removeEventListener("offline",A)}},[I]),_.useEffect(()=>{c===!0&&l.length<1&&T()},[c,m,l.length]),t===""&&localStorage.getItem(un)&&n(JSON.parse(localStorage.getItem(un)).user.user_metadata.screenname),s===""&&localStorage.getItem(un)&&o(JSON.parse(localStorage.getItem(un)).user.id),c?document.getElementsByTagName("html")[0].classList.add("loggedin"):document.getElementsByTagName("html")[0].classList.remove("loggedin");function R(){let A;return h?A=h:A="",setTimeout(()=>p(""),1e3),u.jsx(u.Fragment,{children:A})}const D="main-"+Ic(location.hash,!1);return _.useEffect(()=>{document.title=v},[v]),u.jsx(u.Fragment,{children:u.jsxs(z.Provider,{value:{formNotification:w,navTitle:v,popupNotification:h,popupNotificationShow:f,localBookFilter:E,setFormNotification:x,setLocalBookFilter:C,setNavTitle:S,setPopupNotification:p,setPopupNotificationShow:y,setUserIsLoggedIn:d,setUserMyBooks:a,setUserid:o,setUsermail:i,setUsername:n,todaysDateInput:XE,userIsLoggedIn:c,userMyBooks:l,userid:s,usermail:r,username:t},children:[c&&u.jsx("header",{id:"header",children:u.jsx(pE,{})}),u.jsxs("main",{id:"main",className:D+" textwrapper",children:[!I&&u.jsx("div",{id:"popupNotificationOffline",children:" Offline. Some things won‘t work."}),h!==""&&u.jsx("div",{id:"popupNotification",className:h?"show":"hide",children:h&&u.jsx(u.Fragment,{children:R()})}),u.jsxs(B_,{children:[u.jsx(de,{path:"/*",Component:xE}),u.jsx(de,{path:"/error",Component:aE}),u.jsx(de,{path:"/account/login",Component:Sf}),u.jsx(de,{path:"/account/logout",Component:VE}),u.jsx(de,{path:"/auth/confirm",Component:Z_}),!c&&u.jsxs(u.Fragment,{children:[u.jsx(de,{path:"/auth/resetpassword",Component:tk}),u.jsx(de,{path:"/account/forgotpassword",Component:ik})]}),u.jsx(de,{path:"/account/new",Component:nk}),c&&u.jsxs(u.Fragment,{children:[u.jsx(de,{path:"/account/profile",Component:KE}),u.jsx(de,{path:"/account/*",Component:Sf}),u.jsx(de,{path:"/dashboard",Component:lE}),u.jsx(de,{path:"/search",Component:CE}),u.jsx(de,{path:"/add-book",Component:Yx}),u.jsx(de,{path:"/saved-books",Component:SE}),u.jsx(de,{path:"/wishlist",Component:GE}),u.jsx(de,{path:"/reading",Component:wE}),u.jsx(de,{path:"/finished",Component:fE}),u.jsx(de,{path:"/favorites",Component:dE}),u.jsx(de,{path:"/quoted-books",Component:gE}),u.jsx(de,{path:"/tropes",Component:ME}),u.jsx(de,{path:"/statistics",Component:OE}),u.jsx(de,{path:"/clear-my-books",Component:lk}),u.jsx(de,{path:"/loadlibrary",Component:YE})]})]})]})]})})};ea.createRoot(document.getElementById("root")).render(u.jsx(to.StrictMode,{children:u.jsx(Q_,{children:u.jsx(ZE,{})})}));export{Cf as g};
