import{B as _,A as h,J as y,o as p,c as f,a as e,t as v,l as o,I as l,j as S,i as $,v as b,E as M,e as w}from"./index-1160a4f5.js";import{u as m}from"./useCardRotate-2bb29733.js";import{s as U}from"./setDraaideurHeight-6e7d5141.js";const x={class:"card"},C=e("header",null,"My account",-1),k=e("dt",null,"Screen name:",-1),B=e("dt",null,"Email address",-1),E=e("dt",null,"Password",-1),A=e("dd",null,"******",-1),P={__name:"MyAccountCard",setup(g){const i=_(),t=h();async function d(){if(t.status!==!0){const{data:n,error:r}=await l.auth.getUser();r?(i.push({name:"login"}),console.log("error:",r)):(t.email=n.user.email,t.screenname=n.user.user_metadata.screenname,t.username=n.user.email,t.status=!0,t.uid=n.user.id)}}return y(()=>{d()}),(n,r)=>(p(),f("div",x,[C,e("main",null,[e("dl",null,[k,e("dd",null,v(o(t).screenname),1),B,e("dd",null,v(o(t).email),1),E,A])]),e("footer",null,[e("button",{onClick:r[0]||(r[0]=(...s)=>o(m)&&o(m)(...s))},"change")])]))}},D={class:"card"},R=e("header",null,"My account",-1),V=e("label",null,"Screen name",-1),N=e("label",{for:"account-email"},"Email address",-1),j=["value"],H=e("label",{for:"account-password"},"Password (leave empty to keep current)",-1),I=e("input",{type:"password",value:"",id:"account-password"},null,-1),J=e("button",null,"Save and return",-1),T={__name:"MyAccountEditCard",setup(g){const i=_(),t=h();async function d(){const{data:s,error:u}=await l.auth.getUser();if(t.status!==!0){const{data:a,error:c}=await l.auth.getUser();c?(i.push({name:"login"}),console.log("error:",c)):t.setStatus(!0,a.user.user_metadata.screenname,a.user.email,a.user.username,a.user.id)}else t.setStatus(!0,s.user.user_metadata.screenname,s.user.email,s.user.username,s.user.id)}async function n(s){const u=t.screenname,{data:a,error:c}=await l.auth.updateUser({data:{screenname:u}});c?console.log(c):console.log("data:",a),d(),m()}async function r(){const{data:s}=await l.auth.getUser();t.email=s.user.email,t.screenname=s.user.user_metadata.screenname,m()}return y(()=>{d()}),(s,u)=>(p(),f("div",D,[R,e("main",null,[e("form",{onSubmit:S(n,["prevent"])},[V,$(e("input",{type:"text",id:"account-screenname","onUpdate:modelValue":u[0]||(u[0]=a=>o(t).screenname=a)},null,512),[[b,o(t).screenname]]),N,e("input",{type:"email",value:o(t).email,id:"account-email"},null,8,j),H,I,J],32)]),e("footer",null,[e("a",{onClick:r},"Return without saving")])]))}},W={class:"cards-draaideur"},q={class:"axis"},K={__name:"ProfilePage",setup(g){return _(),h(),M(()=>{U()}),(i,t)=>(p(),f("div",W,[e("div",q,[w(P),w(T)])]))}};export{K as default};
